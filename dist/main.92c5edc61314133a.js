"use strict";(self.webpackChunkeCom=self.webpackChunkeCom||[]).push([[179],{6304:(It,Re,V)=>{V.d(Re,{Dh:()=>ke,GT:()=>_e,cc:()=>Fe,hO:()=>Ge,on:()=>z,pX:()=>le,xv:()=>ve});var u=V(5879),H=V(120),O=V(2793);It=V.hmd(It);const re=["ngOnDestroy"],le=(Le,Dt,wt,ce={})=>new Proxy(Le,{get:(Me,pe)=>wt.runOutsideAngular(()=>{var Ae;if(Le[pe])return!(null===(Ae=ce?.spy)||void 0===Ae)&&Ae.get&&ce.spy.get(pe,Le[pe]),Le[pe];if(re.indexOf(pe)>-1)return()=>{};const He=Dt.toPromise().then(W=>{const Oe=W&&W[pe];return"function"==typeof Oe?Oe.bind(W):Oe&&Oe.then?Oe.then(et=>wt.run(()=>et)):wt.run(()=>Oe)});return new Proxy(()=>{},{get:(W,Oe)=>He[Oe],apply:(W,Oe,et)=>He.then(Rt=>{var gn;const Fn=Rt&&Rt(...et);return!(null===(gn=ce?.spy)||void 0===gn)&&gn.apply&&ce.spy.apply(pe,et,Fn),Fn})})})}),_e=(Le,Dt)=>{Dt.forEach(wt=>{Object.getOwnPropertyNames(wt.prototype||wt).forEach(ce=>{Object.defineProperty(Le.prototype,ce,Object.getOwnPropertyDescriptor(wt.prototype||wt,ce))})})};class De{constructor(Dt){return Dt}}const ke=new u.OlP("angularfire2.app.options"),ve=new u.OlP("angularfire2.app.name");function z(Le,Dt,wt){const Me="object"==typeof wt&&wt||{};Me.name=Me.name||"string"==typeof wt&&wt||"[DEFAULT]";const Ae=H.Z.apps.filter(He=>He&&He.name===Me.name)[0]||Dt.runOutsideAngular(()=>H.Z.initializeApp(Le,Me));try{JSON.stringify(Le)!==JSON.stringify(Ae.options)&&Y("error",`${Ae.name} Firebase App already initialized with different options${It.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new De(Ae)}const Y=(Le,...Dt)=>{(0,u.X6Q)()&&typeof console<"u"&&console[Le](...Dt)},ae={provide:De,useFactory:z,deps:[ke,u.R0b,[new u.FiY,ve]]};let Ge=(()=>{class Le{constructor(wt){H.Z.registerVersion("angularfire",O.q4.full,"core"),H.Z.registerVersion("angularfire",O.q4.full,"app-compat"),H.Z.registerVersion("angular",u.q4F.full,wt.toString())}static initializeApp(wt,ce){return{ngModule:Le,providers:[{provide:ke,useValue:wt},{provide:ve,useValue:ce}]}}}return Le.\u0275fac=function(wt){return new(wt||Le)(u.LFG(u.Lbi))},Le.\u0275mod=u.oAB({type:Le}),Le.\u0275inj=u.cJS({providers:[ae]}),Le})();function Fe(Le,Dt,wt,ce,Me){const[,pe,Ae]=globalThis.\u0275AngularfireInstanceCache.find(He=>He[0]===Le)||[];if(pe)return function it(Le,Dt){try{return Le.toString()===Dt.toString()}catch{return Le===Dt}}(Me,Ae)||(at("error",`${Dt} was already initialized on the ${wt} Firebase App with different settings.${Ue?" You may need to reload as Firebase is not HMR aware.":""}`),at("warn",{is:Me,was:Ae})),pe;{const He=ce();return globalThis.\u0275AngularfireInstanceCache.push([Le,He,Me]),He}}const Ue=!!It.hot,at=(Le,...Dt)=>{(0,u.X6Q)()&&typeof console<"u"&&console[Le](...Dt)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},2793:(It,Re,V)=>{V.d(Re,{q4:()=>Ru,iC:()=>gl,HU:()=>Lr,vb:()=>Bf,JM:()=>da,u3:()=>Fo});var u=V(5879),H=V(4097),O=V(5861),re=V(4303),le=V(9058),_e=V(4537),De=V(7879);const ke=(b,S)=>S.some(R=>b instanceof R);let ve,z;const Ge=new WeakMap,Fe=new WeakMap,it=new WeakMap,Ue=new WeakMap,at=new WeakMap;let wt={get(b,S,R){if(b instanceof IDBTransaction){if("done"===S)return Fe.get(b);if("objectStoreNames"===S)return b.objectStoreNames||it.get(b);if("store"===S)return R.objectStoreNames[1]?void 0:R.objectStore(R.objectStoreNames[0])}return Ae(b[S])},set:(b,S,R)=>(b[S]=R,!0),has:(b,S)=>b instanceof IDBTransaction&&("done"===S||"store"===S)||S in b};function pe(b){return"function"==typeof b?function Me(b){return b!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ae(){return z||(z=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(b)?function(...S){return b.apply(He(this),S),Ae(Ge.get(this))}:function(...S){return Ae(b.apply(He(this),S))}:function(S,...R){const j=b.call(He(this),S,...R);return it.set(j,S.sort?S.sort():[S]),Ae(j)}}(b):(b instanceof IDBTransaction&&function Dt(b){if(Fe.has(b))return;const S=new Promise((R,j)=>{const J=()=>{b.removeEventListener("complete",ie),b.removeEventListener("error",Te),b.removeEventListener("abort",Te)},ie=()=>{R(),J()},Te=()=>{j(b.error||new DOMException("AbortError","AbortError")),J()};b.addEventListener("complete",ie),b.addEventListener("error",Te),b.addEventListener("abort",Te)});Fe.set(b,S)}(b),ke(b,function Y(){return ve||(ve=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(b,wt):b)}function Ae(b){if(b instanceof IDBRequest)return function Le(b){const S=new Promise((R,j)=>{const J=()=>{b.removeEventListener("success",ie),b.removeEventListener("error",Te)},ie=()=>{R(Ae(b.result)),J()},Te=()=>{j(b.error),J()};b.addEventListener("success",ie),b.addEventListener("error",Te)});return S.then(R=>{R instanceof IDBCursor&&Ge.set(R,b)}).catch(()=>{}),at.set(S,b),S}(b);if(Ue.has(b))return Ue.get(b);const S=pe(b);return S!==b&&(Ue.set(b,S),at.set(S,b)),S}const He=b=>at.get(b),et=["get","getKey","getAll","getAllKeys","count"],Rt=["put","add","delete","clear"],gn=new Map;function Fn(b,S){if(!(b instanceof IDBDatabase)||S in b||"string"!=typeof S)return;if(gn.get(S))return gn.get(S);const R=S.replace(/FromIndex$/,""),j=S!==R,J=Rt.includes(R);if(!(R in(j?IDBIndex:IDBObjectStore).prototype)||!J&&!et.includes(R))return;const ie=function(){var Te=(0,O.Z)(function*(lt,...st){const At=this.transaction(lt,J?"readwrite":"readonly");let Ht=At.store;return j&&(Ht=Ht.index(st.shift())),(yield Promise.all([Ht[R](...st),J&&At.done]))[0]});return function(st){return Te.apply(this,arguments)}}();return gn.set(S,ie),ie}!function ce(b){wt=b(wt)}(b=>({...b,get:(S,R,j)=>Fn(S,R)||b.get(S,R,j),has:(S,R)=>!!Fn(S,R)||b.has(S,R)}));const Ln="@firebase/installations",Vn="0.6.4",Mn=1e4,Hr=`w:${Vn}`,de="FIS_v2",ye="https://firebaseinstallations.googleapis.com/v1",Ie=36e5,ot=new le.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function tt(b){return b instanceof le.ZR&&b.code.includes("request-failed")}function Tn({projectId:b}){return`${ye}/projects/${b}/installations`}function $t(b){return{token:b.token,requestStatus:2,expiresIn:fr(b.expiresIn),creationTime:Date.now()}}function un(b,S){return bt.apply(this,arguments)}function bt(){return(bt=(0,O.Z)(function*(b,S){const j=(yield S.json()).error;return ot.create("request-failed",{requestName:b,serverCode:j.code,serverMessage:j.message,serverStatus:j.status})})).apply(this,arguments)}function wn({apiKey:b}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":b})}function zn(b){return En.apply(this,arguments)}function En(){return(En=(0,O.Z)(function*(b){const S=yield b();return S.status>=500&&S.status<600?b():S})).apply(this,arguments)}function fr(b){return Number(b.replace("s","000"))}function qn(){return(qn=(0,O.Z)(function*({appConfig:b,heartbeatServiceProvider:S},{fid:R}){const j=Tn(b),J=wn(b),ie=S.getImmediate({optional:!0});if(ie){const At=yield ie.getHeartbeatsHeader();At&&J.append("x-firebase-client",At)}const lt={method:"POST",headers:J,body:JSON.stringify({fid:R,authVersion:de,appId:b.appId,sdkVersion:Hr})},st=yield zn(()=>fetch(j,lt));if(st.ok){const At=yield st.json();return{fid:At.fid||R,registrationStatus:2,refreshToken:At.refreshToken,authToken:$t(At.authToken)}}throw yield un("Create Installation",st)})).apply(this,arguments)}function Jn(b){return new Promise(S=>{setTimeout(S,b)})}const ms=/^[cdef][\w-]{21}$/,Nt="";function Ft(){try{const b=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(b),b[0]=112+b[0]%16;const R=function Wt(b){return function ri(b){return btoa(String.fromCharCode(...b)).replace(/\+/g,"-").replace(/\//g,"_")}(b).substr(0,22)}(b);return ms.test(R)?R:Nt}catch{return Nt}}function an(b){return`${b.appName}!${b.appId}`}const pr=new Map;function vr(b,S){const R=an(b);Ni(R,S),function _n(b,S){const R=function sn(){return!ii&&"BroadcastChannel"in self&&(ii=new BroadcastChannel("[Firebase] FID Change"),ii.onmessage=b=>{Ni(b.data.key,b.data.fid)}),ii}();R&&R.postMessage({key:b,fid:S}),function Gn(){0===pr.size&&ii&&(ii.close(),ii=null)}()}(R,S)}function Ni(b,S){const R=pr.get(b);if(R)for(const j of R)j(S)}let ii=null;const Qi="firebase-installations-database",gs=1,wr="firebase-installations-store";let ar=null;function Ee(){return ar||(ar=function W(b,S,{blocked:R,upgrade:j,blocking:J,terminated:ie}={}){const Te=indexedDB.open(b,S),lt=Ae(Te);return j&&Te.addEventListener("upgradeneeded",st=>{j(Ae(Te.result),st.oldVersion,st.newVersion,Ae(Te.transaction))}),R&&Te.addEventListener("blocked",()=>R()),lt.then(st=>{ie&&st.addEventListener("close",()=>ie()),J&&st.addEventListener("versionchange",()=>J())}).catch(()=>{}),lt}(Qi,gs,{upgrade:(b,S)=>{0===S&&b.createObjectStore(wr)}})),ar}function Q(b,S){return Ce.apply(this,arguments)}function Ce(){return(Ce=(0,O.Z)(function*(b,S){const R=an(b),J=(yield Ee()).transaction(wr,"readwrite"),ie=J.objectStore(wr),Te=yield ie.get(R);return yield ie.put(S,R),yield J.done,(!Te||Te.fid!==S.fid)&&vr(b,S.fid),S})).apply(this,arguments)}function We(b){return yt.apply(this,arguments)}function yt(){return(yt=(0,O.Z)(function*(b){const S=an(b),j=(yield Ee()).transaction(wr,"readwrite");yield j.objectStore(wr).delete(S),yield j.done})).apply(this,arguments)}function Tt(b,S){return yn.apply(this,arguments)}function yn(){return(yn=(0,O.Z)(function*(b,S){const R=an(b),J=(yield Ee()).transaction(wr,"readwrite"),ie=J.objectStore(wr),Te=yield ie.get(R),lt=S(Te);return void 0===lt?yield ie.delete(R):yield ie.put(lt,R),yield J.done,lt&&(!Te||Te.fid!==lt.fid)&&vr(b,lt.fid),lt})).apply(this,arguments)}function q(b){return G.apply(this,arguments)}function G(){return G=(0,O.Z)(function*(b){let S;const R=yield Tt(b.appConfig,j=>{const J=function U(b){return pt(b||{fid:Ft(),registrationStatus:0})}(j),ie=function B(b,S){if(0===S.registrationStatus){if(!navigator.onLine)return{installationEntry:S,registrationPromise:Promise.reject(ot.create("app-offline"))};const R={fid:S.fid,registrationStatus:1,registrationTime:Date.now()},j=function F(b,S){return se.apply(this,arguments)}(b,R);return{installationEntry:R,registrationPromise:j}}return 1===S.registrationStatus?{installationEntry:S,registrationPromise:Ne(b)}:{installationEntry:S}}(b,J);return S=ie.registrationPromise,ie.installationEntry});return R.fid===Nt?{installationEntry:yield S}:{installationEntry:R,registrationPromise:S}}),G.apply(this,arguments)}function se(){return se=(0,O.Z)(function*(b,S){try{const R=yield function Rr(b,S){return qn.apply(this,arguments)}(b,S);return Q(b.appConfig,R)}catch(R){throw tt(R)&&409===R.customData.serverCode?yield We(b.appConfig):yield Q(b.appConfig,{fid:S.fid,registrationStatus:0}),R}}),se.apply(this,arguments)}function Ne(b){return rt.apply(this,arguments)}function rt(){return(rt=(0,O.Z)(function*(b){let S=yield Gt(b.appConfig);for(;1===S.registrationStatus;)yield Jn(100),S=yield Gt(b.appConfig);if(0===S.registrationStatus){const{installationEntry:R,registrationPromise:j}=yield q(b);return j||R}return S})).apply(this,arguments)}function Gt(b){return Tt(b,S=>{if(!S)throw ot.create("installation-not-found");return pt(S)})}function pt(b){return function In(b){return 1===b.registrationStatus&&b.registrationTime+Mn<Date.now()}(b)?{fid:b.fid,registrationStatus:0}:b}function Pn(){return(Pn=(0,O.Z)(function*({appConfig:b,heartbeatServiceProvider:S},R){const j=function tn(b,{fid:S}){return`${Tn(b)}/${S}/authTokens:generate`}(b,R),J=function Zn(b,{refreshToken:S}){const R=wn(b);return R.append("Authorization",function ki(b){return`${de} ${b}`}(S)),R}(b,R),ie=S.getImmediate({optional:!0});if(ie){const At=yield ie.getHeartbeatsHeader();At&&J.append("x-firebase-client",At)}const lt={method:"POST",headers:J,body:JSON.stringify({installation:{sdkVersion:Hr,appId:b.appId}})},st=yield zn(()=>fetch(j,lt));if(st.ok)return $t(yield st.json());throw yield un("Generate Auth Token",st)})).apply(this,arguments)}function Oi(b){return Ea.apply(this,arguments)}function Ea(){return Ea=(0,O.Z)(function*(b,S=!1){let R;const j=yield Tt(b.appConfig,ie=>{if(!Qo(ie))throw ot.create("not-registered");const Te=ie.authToken;if(!S&&function tc(b){return 2===b.requestStatus&&!function Ql(b){const S=Date.now();return S<b.creationTime||b.creationTime+b.expiresIn<S+Ie}(b)}(Te))return ie;if(1===Te.requestStatus)return R=function Ao(b,S){return Js.apply(this,arguments)}(b,S),ie;{if(!navigator.onLine)throw ot.create("app-offline");const lt=function Xl(b){const S={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},b),{authToken:S})}(ie);return R=function _s(b,S){return pn.apply(this,arguments)}(b,lt),lt}});return R?yield R:j.authToken}),Ea.apply(this,arguments)}function Js(){return(Js=(0,O.Z)(function*(b,S){let R=yield eo(b.appConfig);for(;1===R.authToken.requestStatus;)yield Jn(100),R=yield eo(b.appConfig);const j=R.authToken;return 0===j.requestStatus?Oi(b,S):j})).apply(this,arguments)}function eo(b){return Tt(b,S=>{if(!Qo(S))throw ot.create("not-registered");return function So(b){return 1===b.requestStatus&&b.requestTime+Mn<Date.now()}(S.authToken)?Object.assign(Object.assign({},S),{authToken:{requestStatus:0}}):S})}function pn(){return pn=(0,O.Z)(function*(b,S){try{const R=yield function Kt(b,S){return Pn.apply(this,arguments)}(b,S),j=Object.assign(Object.assign({},S),{authToken:R});return yield Q(b.appConfig,j),R}catch(R){if(!tt(R)||401!==R.customData.serverCode&&404!==R.customData.serverCode){const j=Object.assign(Object.assign({},S),{authToken:{requestStatus:0}});yield Q(b.appConfig,j)}else yield We(b.appConfig);throw R}}),pn.apply(this,arguments)}function Qo(b){return void 0!==b&&2===b.registrationStatus}function rc(){return(rc=(0,O.Z)(function*(b){const S=b,{installationEntry:R,registrationPromise:j}=yield q(S);return j?j.catch(console.error):Oi(S).catch(console.error),R.fid})).apply(this,arguments)}function ic(){return ic=(0,O.Z)(function*(b,S=!1){const R=b;return yield function xo(b){return Ia.apply(this,arguments)}(R),(yield Oi(R,S)).token}),ic.apply(this,arguments)}function Ia(){return(Ia=(0,O.Z)(function*(b){const{registrationPromise:S}=yield q(b);S&&(yield S)})).apply(this,arguments)}function Gc(b){return ot.create("missing-app-config-values",{valueName:b})}const Jl="installations",qc=b=>{const S=b.getProvider("app").getImmediate(),R=function Fi(b){if(!b||!b.options)throw Gc("App Configuration");if(!b.name)throw Gc("App Name");const S=["projectId","apiKey","appId"];for(const R of S)if(!b.options[R])throw Gc(R);return{appName:b.name,projectId:b.options.projectId,apiKey:b.options.apiKey,appId:b.options.appId}}(S);return{app:S,appConfig:R,heartbeatServiceProvider:(0,re.qX)(S,"heartbeat"),_delete:()=>Promise.resolve()}},wd=b=>{const S=b.getProvider("app").getImmediate(),R=(0,re.qX)(S,Jl).getImmediate();return{getId:()=>function nc(b){return rc.apply(this,arguments)}(R),getToken:J=>function vd(b){return ic.apply(this,arguments)}(R,J)}};(function gf(){(0,re.Xd)(new _e.wA(Jl,qc,"PUBLIC")),(0,re.Xd)(new _e.wA("installations-internal",wd,"PRIVATE"))})(),(0,re.KN)(Ln,Vn),(0,re.KN)(Ln,Vn,"esm2017");const eu="@firebase/remote-config",si=new le.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Yt{constructor(S,R,j,J){this.client=S,this.storage=R,this.storageCache=j,this.logger=J}isCachedDataFresh(S,R){if(!R)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const j=Date.now()-R,J=j<=S;return this.logger.debug(`Config fetch cache check. Cache age millis: ${j}. Cache max age millis (minimumFetchIntervalMillis setting): ${S}. Is cache hit: ${J}.`),J}fetch(S){var R=this;return(0,O.Z)(function*(){const[j,J]=yield Promise.all([R.storage.getLastSuccessfulFetchTimestampMillis(),R.storage.getLastSuccessfulFetchResponse()]);if(J&&R.isCachedDataFresh(S.cacheMaxAgeMillis,j))return J;S.eTag=J&&J.eTag;const ie=yield R.client.fetch(S),Te=[R.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===ie.status&&Te.push(R.storage.setLastSuccessfulFetchResponse(ie)),yield Promise.all(Te),ie})()}}function Un(b=navigator){return b.languages&&b.languages[0]||b.language}class Xi{constructor(S,R,j,J,ie,Te){this.firebaseInstallations=S,this.sdkVersion=R,this.namespace=j,this.projectId=J,this.apiKey=ie,this.appId=Te}fetch(S){var R=this;return(0,O.Z)(function*(){const[j,J]=yield Promise.all([R.firebaseInstallations.getId(),R.firebaseInstallations.getToken()]),Te=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${R.projectId}/namespaces/${R.namespace}:fetch?key=${R.apiKey}`,lt={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":S.eTag||"*"},st={sdk_version:R.sdkVersion,app_instance_id:j,app_instance_id_token:J,app_id:R.appId,language_code:Un()},At={method:"POST",headers:lt,body:JSON.stringify(st)},Ht=fetch(Te,At),Ot=new Promise((bs,ur)=>{S.signal.addEventListener(()=>{const ja=new Error("The operation was aborted.");ja.name="AbortError",ur(ja)})});let Ci;try{yield Promise.race([Ht,Ot]),Ci=yield Ht}catch(bs){let ur="fetch-client-network";throw"AbortError"===bs?.name&&(ur="fetch-timeout"),si.create(ur,{originalErrorMessage:bs?.message})}let Dr=Ci.status;const Xn=Ci.headers.get("ETag")||void 0;let _l,as;if(200===Ci.status){let bs;try{bs=yield Ci.json()}catch(ur){throw si.create("fetch-client-parse",{originalErrorMessage:ur?.message})}_l=bs.entries,as=bs.state}if("INSTANCE_STATE_UNSPECIFIED"===as?Dr=500:"NO_CHANGE"===as?Dr=304:("NO_TEMPLATE"===as||"EMPTY_CONFIG"===as)&&(_l={}),304!==Dr&&200!==Dr)throw si.create("fetch-status",{httpStatus:Dr});return{status:Dr,eTag:Xn,config:_l}})()}}class Ta{constructor(S,R){this.client=S,this.storage=R}fetch(S){var R=this;return(0,O.Z)(function*(){const j=(yield R.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return R.attemptFetch(S,j)})()}attemptFetch(S,{throttleEndTimeMillis:R,backoffCount:j}){var J=this;return(0,O.Z)(function*(){yield function Ro(b,S){return new Promise((R,j)=>{const J=Math.max(S-Date.now(),0),ie=setTimeout(R,J);b.addEventListener(()=>{clearTimeout(ie),j(si.create("fetch-throttle",{throttleEndTimeMillis:S}))})})}(S.signal,R);try{const ie=yield J.client.fetch(S);return yield J.storage.deleteThrottleMetadata(),ie}catch(ie){if(!function wi(b){if(!(b instanceof le.ZR&&b.customData))return!1;const S=Number(b.customData.httpStatus);return 429===S||500===S||503===S||504===S}(ie))throw ie;const Te={throttleEndTimeMillis:Date.now()+(0,le.$s)(j),backoffCount:j+1};return yield J.storage.setThrottleMetadata(Te),J.attemptFetch(S,Te)}})()}}class Jo{constructor(S,R,j,J,ie){this.app=S,this._client=R,this._storageCache=j,this._storage=J,this._logger=ie,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Lt(b,S){const R=b.target.error||void 0;return si.create(S,{originalErrorMessage:R&&R?.message})}const Ls="app_namespace_store";class lc{constructor(S,R,j,J=function Pr(){return new Promise((b,S)=>{try{const R=indexedDB.open("firebase_remote_config",1);R.onerror=j=>{S(Lt(j,"storage-open"))},R.onsuccess=j=>{b(j.target.result)},R.onupgradeneeded=j=>{0===j.oldVersion&&j.target.result.createObjectStore(Ls,{keyPath:"compositeKey"})}}catch(R){S(si.create("storage-open",{originalErrorMessage:R?.message}))}})}()){this.appId=S,this.appName=R,this.namespace=j,this.openDbPromise=J}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(S){return this.set("last_fetch_status",S)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(S){return this.set("last_successful_fetch_timestamp_millis",S)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(S){return this.set("last_successful_fetch_response",S)}getActiveConfig(){return this.get("active_config")}setActiveConfig(S){return this.set("active_config",S)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(S){return this.set("active_config_etag",S)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(S){return this.set("throttle_metadata",S)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(S){var R=this;return(0,O.Z)(function*(){const j=yield R.openDbPromise;return new Promise((J,ie)=>{const lt=j.transaction([Ls],"readonly").objectStore(Ls),st=R.createCompositeKey(S);try{const At=lt.get(st);At.onerror=Ht=>{ie(Lt(Ht,"storage-get"))},At.onsuccess=Ht=>{const Ot=Ht.target.result;J(Ot?Ot.value:void 0)}}catch(At){ie(si.create("storage-get",{originalErrorMessage:At?.message}))}})})()}set(S,R){var j=this;return(0,O.Z)(function*(){const J=yield j.openDbPromise;return new Promise((ie,Te)=>{const st=J.transaction([Ls],"readwrite").objectStore(Ls),At=j.createCompositeKey(S);try{const Ht=st.put({compositeKey:At,value:R});Ht.onerror=Ot=>{Te(Lt(Ot,"storage-set"))},Ht.onsuccess=()=>{ie()}}catch(Ht){Te(si.create("storage-set",{originalErrorMessage:Ht?.message}))}})})()}delete(S){var R=this;return(0,O.Z)(function*(){const j=yield R.openDbPromise;return new Promise((J,ie)=>{const lt=j.transaction([Ls],"readwrite").objectStore(Ls),st=R.createCompositeKey(S);try{const At=lt.delete(st);At.onerror=Ht=>{ie(Lt(Ht,"storage-delete"))},At.onsuccess=()=>{J()}}catch(At){ie(si.create("storage-delete",{originalErrorMessage:At?.message}))}})})()}createCompositeKey(S){return[this.appId,this.appName,this.namespace,S].join()}}class es{constructor(S){this.storage=S}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var S=this;return(0,O.Z)(function*(){const R=S.storage.getLastFetchStatus(),j=S.storage.getLastSuccessfulFetchTimestampMillis(),J=S.storage.getActiveConfig(),ie=yield R;ie&&(S.lastFetchStatus=ie);const Te=yield j;Te&&(S.lastSuccessfulFetchTimestampMillis=Te);const lt=yield J;lt&&(S.activeConfig=lt)})()}setLastFetchStatus(S){return this.lastFetchStatus=S,this.storage.setLastFetchStatus(S)}setLastSuccessfulFetchTimestampMillis(S){return this.lastSuccessfulFetchTimestampMillis=S,this.storage.setLastSuccessfulFetchTimestampMillis(S)}setActiveConfig(S){return this.activeConfig=S,this.storage.setActiveConfig(S)}}function Ca(){return vs.apply(this,arguments)}function vs(){return(vs=(0,O.Z)(function*(){if(!(0,le.hl)())return!1;try{return yield(0,le.eu)()}catch{return!1}})).apply(this,arguments)}!function Ei(){(0,re.Xd)(new _e.wA("remote-config",function b(S,{instanceIdentifier:R}){const j=S.getProvider("app").getImmediate(),J=S.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw si.create("registration-window");if(!(0,le.hl)())throw si.create("indexed-db-unavailable");const{projectId:ie,apiKey:Te,appId:lt}=j.options;if(!ie)throw si.create("registration-project-id");if(!Te)throw si.create("registration-api-key");if(!lt)throw si.create("registration-app-id");const st=new lc(lt,j.name,R=R||"firebase"),At=new es(st),Ht=new De.Yd(eu);Ht.logLevel=De.in.ERROR;const Ot=new Xi(J,re.Jn,R,ie,Te,lt),Ci=new Ta(Ot,st),Dr=new Yt(Ci,st,At,Ht),Xn=new Jo(j,Dr,At,st,Ht);return function Yr(b){const S=(0,le.m9)(b);S._initializePromise||(S._initializePromise=S._storageCache.loadFromStorage().then(()=>{S._isInitializationComplete=!0}))}(Xn),Xn},"PUBLIC").setMultipleInstances(!0)),(0,re.KN)(eu,"0.4.4"),(0,re.KN)(eu,"0.4.4","esm2017")}();const au=(b,S)=>S.some(R=>b instanceof R);let ts,cn;const uc=new WeakMap,Xr=new WeakMap,oi=new WeakMap,ta=new WeakMap,Da=new WeakMap;let ai={get(b,S,R){if(b instanceof IDBTransaction){if("done"===S)return Xr.get(b);if("objectStoreNames"===S)return b.objectStoreNames||oi.get(b);if("store"===S)return R.objectStoreNames[1]?void 0:R.objectStore(R.objectStoreNames[0])}return ns(b[S])},set:(b,S,R)=>(b[S]=R,!0),has:(b,S)=>b instanceof IDBTransaction&&("done"===S||"store"===S)||S in b};function Po(b){return"function"==typeof b?function Ad(b){return b!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Dd(){return cn||(cn=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(b)?function(...S){return b.apply(Vi(this),S),ns(uc.get(this))}:function(...S){return ns(b.apply(Vi(this),S))}:function(S,...R){const j=b.call(Vi(this),S,...R);return oi.set(j,S.sort?S.sort():[S]),ns(j)}}(b):(b instanceof IDBTransaction&&function yf(b){if(Xr.has(b))return;const S=new Promise((R,j)=>{const J=()=>{b.removeEventListener("complete",ie),b.removeEventListener("error",Te),b.removeEventListener("abort",Te)},ie=()=>{R(),J()},Te=()=>{j(b.error||new DOMException("AbortError","AbortError")),J()};b.addEventListener("complete",ie),b.addEventListener("error",Te),b.addEventListener("abort",Te)});Xr.set(b,S)}(b),au(b,function Cd(){return ts||(ts=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(b,ai):b)}function ns(b){if(b instanceof IDBRequest)return function kr(b){const S=new Promise((R,j)=>{const J=()=>{b.removeEventListener("success",ie),b.removeEventListener("error",Te)},ie=()=>{R(ns(b.result)),J()},Te=()=>{j(b.error),J()};b.addEventListener("success",ie),b.addEventListener("error",Te)});return S.then(R=>{R instanceof IDBCursor&&uc.set(R,b)}).catch(()=>{}),Da.set(S,b),S}(b);if(ta.has(b))return ta.get(b);const S=Po(b);return S!==b&&(ta.set(b,S),Da.set(S,b)),S}const Vi=b=>Da.get(b);function Aa(b,S,{blocked:R,upgrade:j,blocking:J,terminated:ie}={}){const Te=indexedDB.open(b,S),lt=ns(Te);return j&&Te.addEventListener("upgradeneeded",st=>{j(ns(Te.result),st.oldVersion,st.newVersion,ns(Te.transaction))}),R&&Te.addEventListener("blocked",()=>R()),lt.then(st=>{ie&&st.addEventListener("close",()=>ie()),J&&st.addEventListener("versionchange",()=>J())}).catch(()=>{}),lt}function Wc(b,{blocked:S}={}){const R=indexedDB.deleteDatabase(b);return S&&R.addEventListener("blocked",()=>S()),ns(R).then(()=>{})}const vf=["get","getKey","getAll","getAllKeys","count"],xm=["put","add","delete","clear"],Sd=new Map;function cu(b,S){if(!(b instanceof IDBDatabase)||S in b||"string"!=typeof S)return;if(Sd.get(S))return Sd.get(S);const R=S.replace(/FromIndex$/,""),j=S!==R,J=xm.includes(R);if(!(R in(j?IDBIndex:IDBObjectStore).prototype)||!J&&!vf.includes(R))return;const ie=function(){var Te=(0,O.Z)(function*(lt,...st){const At=this.transaction(lt,J?"readwrite":"readonly");let Ht=At.store;return j&&(Ht=Ht.index(st.shift())),(yield Promise.all([Ht[R](...st),J&&At.done]))[0]});return function(st){return Te.apply(this,arguments)}}();return Sd.set(S,ie),ie}!function ci(b){ai=b(ai)}(b=>({...b,get:(S,R,j)=>cu(S,R)||b.get(S,R,j),has:(S,R)=>!!cu(S,R)||b.has(S,R)}));const xd="/firebase-messaging-sw.js",wf="/firebase-cloud-messaging-push-scope",Rm="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Mm="https://fcmregistrations.googleapis.com/v1",tr="google.c.a.c_id",Pm="google.c.a.c_l",G0="google.c.a.ts";var lu=function(b){return b.PUSH_RECEIVED="push-received",b.NOTIFICATION_CLICKED="notification-clicked",b}(lu||{});function Vs(b){const S=new Uint8Array(b);return btoa(String.fromCharCode(...S)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Nm(b){const R=(b+"=".repeat((4-b.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),j=atob(R),J=new Uint8Array(j.length);for(let ie=0;ie<j.length;++ie)J[ie]=j.charCodeAt(ie);return J}const dc="fcm_token_details_db",hc=5,hy="fcm_token_object_Store";function Rd(){return Rd=(0,O.Z)(function*(b){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(ie=>ie.name).includes(dc))return null;let S=null;return(yield Aa(dc,hc,{upgrade:(j=(0,O.Z)(function*(J,ie,Te,lt){var st;if(ie<2||!J.objectStoreNames.contains(hy))return;const At=lt.objectStore(hy),Ht=yield At.index("fcmSenderId").get(b);if(yield At.clear(),Ht)if(2===ie){const Ot=Ht;if(!Ot.auth||!Ot.p256dh||!Ot.endpoint)return;S={token:Ot.fcmToken,createTime:null!==(st=Ot.createTime)&&void 0!==st?st:Date.now(),subscriptionOptions:{auth:Ot.auth,p256dh:Ot.p256dh,endpoint:Ot.endpoint,swScope:Ot.swScope,vapidKey:"string"==typeof Ot.vapidKey?Ot.vapidKey:Vs(Ot.vapidKey)}}}else if(3===ie){const Ot=Ht;S={token:Ot.fcmToken,createTime:Ot.createTime,subscriptionOptions:{auth:Vs(Ot.auth),p256dh:Vs(Ot.p256dh),endpoint:Ot.endpoint,swScope:Ot.swScope,vapidKey:Vs(Ot.vapidKey)}}}else if(4===ie){const Ot=Ht;S={token:Ot.fcmToken,createTime:Ot.createTime,subscriptionOptions:{auth:Vs(Ot.auth),p256dh:Vs(Ot.p256dh),endpoint:Ot.endpoint,swScope:Ot.swScope,vapidKey:Vs(Ot.vapidKey)}}}}),function(ie,Te,lt,st){return j.apply(this,arguments)})})).close(),yield Wc(dc),yield Wc("fcm_vapid_details_db"),yield Wc("undefined"),function ko(b){if(!b||!b.subscriptionOptions)return!1;const{subscriptionOptions:S}=b;return"number"==typeof b.createTime&&b.createTime>0&&"string"==typeof b.token&&b.token.length>0&&"string"==typeof S.auth&&S.auth.length>0&&"string"==typeof S.p256dh&&S.p256dh.length>0&&"string"==typeof S.endpoint&&S.endpoint.length>0&&"string"==typeof S.swScope&&S.swScope.length>0&&"string"==typeof S.vapidKey&&S.vapidKey.length>0}(S)?S:null;var j}),Rd.apply(this,arguments)}const na="firebase-messaging-database",uu=1,rs="firebase-messaging-store";let Er=null;function Kc(){return Er||(Er=Aa(na,uu,{upgrade:(b,S)=>{0===S&&b.createObjectStore(rs)}})),Er}function li(b){return Sa.apply(this,arguments)}function Sa(){return Sa=(0,O.Z)(function*(b){const S=Pd(b),j=yield(yield Kc()).transaction(rs).objectStore(rs).get(S);if(j)return j;{const J=yield function Om(b){return Rd.apply(this,arguments)}(b.appConfig.senderId);if(J)return yield Zc(b,J),J}}),Sa.apply(this,arguments)}function Zc(b,S){return Md.apply(this,arguments)}function Md(){return(Md=(0,O.Z)(function*(b,S){const R=Pd(b),J=(yield Kc()).transaction(rs,"readwrite");return yield J.objectStore(rs).put(S,R),yield J.done,S})).apply(this,arguments)}function ra(){return(ra=(0,O.Z)(function*(b){const S=Pd(b),j=(yield Kc()).transaction(rs,"readwrite");yield j.objectStore(rs).delete(S),yield j.done})).apply(this,arguments)}function Pd({appConfig:b}){return b.appId}const mr=new le.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Fm(b,S){return Yc.apply(this,arguments)}function Yc(){return(Yc=(0,O.Z)(function*(b,S){const R=yield du(b),j=Jc(S),J={method:"POST",headers:R,body:JSON.stringify(j)};let ie;try{ie=yield(yield fetch(Nd(b.appConfig),J)).json()}catch(Te){throw mr.create("token-subscribe-failed",{errorInfo:Te?.toString()})}if(ie.error)throw mr.create("token-subscribe-failed",{errorInfo:ie.error.message});if(!ie.token)throw mr.create("token-subscribe-no-token");return ie.token})).apply(this,arguments)}function xa(){return(xa=(0,O.Z)(function*(b,S){const R=yield du(b),j=Jc(S.subscriptionOptions),J={method:"PATCH",headers:R,body:JSON.stringify(j)};let ie;try{ie=yield(yield fetch(`${Nd(b.appConfig)}/${S.token}`,J)).json()}catch(Te){throw mr.create("token-update-failed",{errorInfo:Te?.toString()})}if(ie.error)throw mr.create("token-update-failed",{errorInfo:ie.error.message});if(!ie.token)throw mr.create("token-update-no-token");return ie.token})).apply(this,arguments)}function Qc(b,S){return to.apply(this,arguments)}function to(){return(to=(0,O.Z)(function*(b,S){const j={method:"DELETE",headers:yield du(b)};try{const ie=yield(yield fetch(`${Nd(b.appConfig)}/${S}`,j)).json();if(ie.error)throw mr.create("token-unsubscribe-failed",{errorInfo:ie.error.message})}catch(J){throw mr.create("token-unsubscribe-failed",{errorInfo:J?.toString()})}})).apply(this,arguments)}function Nd({projectId:b}){return`${Mm}/projects/${b}/registrations`}function du(b){return Xc.apply(this,arguments)}function Xc(){return(Xc=(0,O.Z)(function*({appConfig:b,installations:S}){const R=yield S.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":b.apiKey,"x-goog-firebase-installations-auth":`FIS ${R}`})})).apply(this,arguments)}function Jc({p256dh:b,auth:S,endpoint:R,vapidKey:j}){const J={web:{endpoint:R,auth:S,p256dh:b}};return j!==Rm&&(J.web.applicationPubKey=j),J}const Od=6048e5;function Vm(){return Vm=(0,O.Z)(function*(b){const S=yield function fu(b,S){return Fd.apply(this,arguments)}(b.swRegistration,b.vapidKey),R={vapidKey:b.vapidKey,swScope:b.swRegistration.scope,endpoint:S.endpoint,auth:Vs(S.getKey("auth")),p256dh:Vs(S.getKey("p256dh"))},j=yield li(b.firebaseDependencies);if(j){if(function Df(b,S){return S.vapidKey===b.vapidKey&&S.endpoint===b.endpoint&&S.auth===b.auth&&S.p256dh===b.p256dh}(j.subscriptionOptions,R))return Date.now()>=j.createTime+Od?function Tf(b,S){return hu.apply(this,arguments)}(b,{token:j.token,createTime:Date.now(),subscriptionOptions:R}):j.token;try{yield Qc(b.firebaseDependencies,j.token)}catch(J){console.warn(J)}return tl(b.firebaseDependencies,R)}return tl(b.firebaseDependencies,R)}),Vm.apply(this,arguments)}function el(){return el=(0,O.Z)(function*(b){const S=yield li(b.firebaseDependencies);S&&(yield Qc(b.firebaseDependencies,S.token),yield function Ef(b){return ra.apply(this,arguments)}(b.firebaseDependencies));const R=yield b.swRegistration.pushManager.getSubscription();return!R||R.unsubscribe()}),el.apply(this,arguments)}function hu(){return hu=(0,O.Z)(function*(b,S){try{const R=yield function Lm(b,S){return xa.apply(this,arguments)}(b.firebaseDependencies,S),j=Object.assign(Object.assign({},S),{token:R,createTime:Date.now()});return yield Zc(b.firebaseDependencies,j),R}catch(R){throw yield function bf(b){return el.apply(this,arguments)}(b),R}}),hu.apply(this,arguments)}function tl(b,S){return Cf.apply(this,arguments)}function Cf(){return(Cf=(0,O.Z)(function*(b,S){const j={token:yield Fm(b,S),createTime:Date.now(),subscriptionOptions:S};return yield Zc(b,j),j.token})).apply(this,arguments)}function Fd(){return(Fd=(0,O.Z)(function*(b,S){return(yield b.pushManager.getSubscription())||b.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Nm(S)})})).apply(this,arguments)}function pu(b){const S={from:b.from,collapseKey:b.collapse_key,messageId:b.fcmMessageId};return function nl(b,S){if(!S.notification)return;b.notification={};const R=S.notification.title;R&&(b.notification.title=R);const j=S.notification.body;j&&(b.notification.body=j);const J=S.notification.image;J&&(b.notification.image=J);const ie=S.notification.icon;ie&&(b.notification.icon=ie)}(S,b),function fy(b,S){S.data&&(b.data=S.data)}(S,b),function Ld(b,S){var R,j,J,ie,Te;if(!(S.fcmOptions||null!==(R=S.notification)&&void 0!==R&&R.click_action))return;b.fcmOptions={};const lt=null!==(J=null===(j=S.fcmOptions)||void 0===j?void 0:j.link)&&void 0!==J?J:null===(ie=S.notification)||void 0===ie?void 0:ie.click_action;lt&&(b.fcmOptions.link=lt);const st=null===(Te=S.fcmOptions)||void 0===Te?void 0:Te.analytics_label;st&&(b.fcmOptions.analyticsLabel=st)}(S,b),S}function Vd(b,S){const R=[];for(let j=0;j<b.length;j++)R.push(b.charAt(j)),j<S.length&&R.push(S.charAt(j));return R.join("")}function Ud(b){return mr.create("missing-app-config-values",{valueName:b})}Vd("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Vd("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Bm{constructor(S,R,j){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const J=function py(b){if(!b||!b.options)throw Ud("App Configuration Object");if(!b.name)throw Ud("App Name");const S=["projectId","apiKey","appId","messagingSenderId"],{options:R}=b;for(const j of S)if(!R[j])throw Ud(j);return{appName:b.name,projectId:R.projectId,apiKey:R.apiKey,appId:R.appId,senderId:R.messagingSenderId}}(S);this.firebaseDependencies={app:S,appConfig:J,installations:R,analyticsProvider:j}}_delete(){return Promise.resolve()}}function rl(){return(rl=(0,O.Z)(function*(b){try{b.swRegistration=yield navigator.serviceWorker.register(xd,{scope:wf}),b.swRegistration.update().catch(()=>{})}catch(S){throw mr.create("failed-service-worker-registration",{browserErrorMessage:S?.message})}})).apply(this,arguments)}function Us(){return(Us=(0,O.Z)(function*(b,S){if(!S&&!b.swRegistration&&(yield function mu(b){return rl.apply(this,arguments)}(b)),S||!b.swRegistration){if(!(S instanceof ServiceWorkerRegistration))throw mr.create("invalid-sw-registration");b.swRegistration=S}})).apply(this,arguments)}function il(){return(il=(0,O.Z)(function*(b,S){S?b.vapidKey=S:b.vapidKey||(b.vapidKey=Rm)})).apply(this,arguments)}function sl(){return sl=(0,O.Z)(function*(b,S){if(!navigator)throw mr.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw mr.create("permission-blocked");return yield function fc(b,S){return il.apply(this,arguments)}(b,S?.vapidKey),yield function gu(b,S){return Us.apply(this,arguments)}(b,S?.serviceWorkerRegistration),function If(b){return Vm.apply(this,arguments)}(b)}),sl.apply(this,arguments)}function ws(){return(ws=(0,O.Z)(function*(b,S,R){const j=function Sf(b){switch(b){case lu.NOTIFICATION_CLICKED:return"notification_open";case lu.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(S);(yield b.firebaseDependencies.analyticsProvider.get()).logEvent(j,{message_id:R[tr],message_name:R[Pm],message_time:R[G0],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Cn(){return Cn=(0,O.Z)(function*(b,S){const R=S.data;if(!R.isFirebaseMessaging)return;b.onMessageHandler&&R.messageType===lu.PUSH_RECEIVED&&("function"==typeof b.onMessageHandler?b.onMessageHandler(pu(R)):b.onMessageHandler.next(pu(R)));const j=R.data;(function Um(b){return"object"==typeof b&&!!b&&tr in b})(j)&&"1"===j["google.c.a.e"]&&(yield function my(b,S,R){return ws.apply(this,arguments)}(b,R.messageType,j))}),Cn.apply(this,arguments)}const ol="@firebase/messaging",Ii=b=>{const S=new Bm(b.getProvider("app").getImmediate(),b.getProvider("installations-internal").getImmediate(),b.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",R=>function _u(b,S){return Cn.apply(this,arguments)}(S,R)),S},gy=b=>{const S=b.getProvider("messaging").getImmediate();return{getToken:j=>function Af(b,S){return sl.apply(this,arguments)}(S,j)}};function Ra(){return ui.apply(this,arguments)}function ui(){return(ui=(0,O.Z)(function*(){try{yield(0,le.eu)()}catch{return!1}return typeof window<"u"&&(0,le.hl)()&&(0,le.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Bd(){(0,re.Xd)(new _e.wA("messaging",Ii,"PUBLIC")),(0,re.Xd)(new _e.wA("messaging-internal",gy,"PRIVATE")),(0,re.KN)(ol,"0.12.4"),(0,re.KN)(ol,"0.12.4","esm2017")}();const pc="analytics",Rf="firebase_id",zt="origin",vu=6e4,yy="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",wu="https://www.googletagmanager.com/gtag/js",Or=new De.Yd("@firebase/analytics"),Ir=new le.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function ia(b){if(!b.startsWith(wu)){const S=Ir.create("invalid-gtag-resource",{gtagURL:b});return Or.warn(S.message),""}return b}function mc(b){return Promise.all(b.map(S=>S.catch(R=>R)))}function Ve(){return(Ve=(0,O.Z)(function*(b,S,R,j,J,ie){const Te=j[J];try{if(Te)yield S[Te];else{const st=(yield mc(R)).find(At=>At.measurementId===J);st&&(yield S[st.appId])}}catch(lt){Or.error(lt)}b("config",J,ie)})).apply(this,arguments)}function is(){return(is=(0,O.Z)(function*(b,S,R,j,J){try{let ie=[];if(J&&J.send_to){let Te=J.send_to;Array.isArray(Te)||(Te=[Te]);const lt=yield mc(R);for(const st of Te){const At=lt.find(Ot=>Ot.measurementId===st),Ht=At&&S[At.appId];if(!Ht){ie=[];break}ie.push(Ht)}}0===ie.length&&(ie=Object.values(S)),yield Promise.all(ie),b("event",j,J||{})}catch(ie){Or.error(ie)}})).apply(this,arguments)}const al=30,Hd=new class kf{constructor(S={},R=1e3){this.throttleMetadata=S,this.intervalMillis=R}getThrottleMetadata(S){return this.throttleMetadata[S]}setThrottleMetadata(S,R){this.throttleMetadata[S]=R}deleteThrottleMetadata(S){delete this.throttleMetadata[S]}};function Hm(b){return new Headers({Accept:"application/json","x-goog-api-key":b})}function Gd(){return(Gd=(0,O.Z)(function*(b){var S;const{appId:R,apiKey:j}=b,J={method:"GET",headers:Hm(j)},ie=yy.replace("{app-id}",R),Te=yield fetch(ie,J);if(200!==Te.status&&304!==Te.status){let lt="";try{const st=yield Te.json();null!==(S=st.error)&&void 0!==S&&S.message&&(lt=st.error.message)}catch{}throw Ir.create("config-fetch-failed",{httpStatus:Te.status,responseMessage:lt})}return Te.json()})).apply(this,arguments)}function io(){return(io=(0,O.Z)(function*(b,S=Hd,R){const{appId:j,apiKey:J,measurementId:ie}=b.options;if(!j)throw Ir.create("no-app-id");if(!J){if(ie)return{measurementId:ie,appId:j};throw Ir.create("no-api-key")}const Te=S.getThrottleMetadata(j)||{backoffCount:0,throttleEndTimeMillis:Date.now()},lt=new Of;return setTimeout((0,O.Z)(function*(){lt.abort()}),void 0!==R?R:vu),Nf({appId:j,apiKey:J,measurementId:ie},Te,lt,S)})).apply(this,arguments)}function Nf(b,S,R){return ka.apply(this,arguments)}function ka(){return ka=(0,O.Z)(function*(b,{throttleEndTimeMillis:S,backoffCount:R},j,J=Hd){var ie;const{appId:Te,measurementId:lt}=b;try{yield function so(b,S){return new Promise((R,j)=>{const J=Math.max(S-Date.now(),0),ie=setTimeout(R,J);b.addEventListener(()=>{clearTimeout(ie),j(Ir.create("fetch-throttle",{throttleEndTimeMillis:S}))})})}(j,S)}catch(st){if(lt)return Or.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${lt} provided in the "measurementId" field in the local Firebase config. [${st?.message}]`),{appId:Te,measurementId:lt};throw st}try{const st=yield function W0(b){return Gd.apply(this,arguments)}(b);return J.deleteThrottleMetadata(Te),st}catch(st){const At=st;if(!function vy(b){if(!(b instanceof le.ZR&&b.customData))return!1;const S=Number(b.customData.httpStatus);return 429===S||500===S||503===S||504===S}(At)){if(J.deleteThrottleMetadata(Te),lt)return Or.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${lt} provided in the "measurementId" field in the local Firebase config. [${At?.message}]`),{appId:Te,measurementId:lt};throw st}const Ht=503===Number(null===(ie=At?.customData)||void 0===ie?void 0:ie.httpStatus)?(0,le.$s)(R,J.intervalMillis,al):(0,le.$s)(R,J.intervalMillis),Ot={throttleEndTimeMillis:Date.now()+Ht,backoffCount:R+1};return J.setThrottleMetadata(Te,Ot),Or.debug(`Calling attemptFetch again in ${Ht} millis`),Nf(b,Ot,j,J)}}),ka.apply(this,arguments)}class Of{constructor(){this.listeners=[]}addEventListener(S){this.listeners.push(S)}abort(){this.listeners.forEach(S=>S())}}let Iu,br;function bu(){return(bu=(0,O.Z)(function*(b,S,R,j,J){if(J&&J.global)b("event",R,j);else{const ie=yield S;b("event",R,Object.assign(Object.assign({},j),{send_to:ie}))}})).apply(this,arguments)}function Bs(){return(Bs=(0,O.Z)(function*(){if(!(0,le.hl)())return Or.warn(Ir.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,le.eu)()}catch(b){return Or.warn(Ir.create("indexeddb-unavailable",{errorInfo:b?.toString()}).message),!1}return!0})).apply(this,arguments)}function No(){return No=(0,O.Z)(function*(b,S,R,j,J,ie,Te){var lt;const st=function ei(b){return io.apply(this,arguments)}(b);st.then(Dr=>{R[Dr.measurementId]=Dr.appId,b.options.measurementId&&Dr.measurementId!==b.options.measurementId&&Or.warn(`The measurement ID in the local Firebase config (${b.options.measurementId}) does not match the measurement ID fetched from the server (${Dr.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Dr=>Or.error(Dr)),S.push(st);const At=function bi(){return Bs.apply(this,arguments)}().then(Dr=>{if(Dr)return j.getId()}),[Ht,Ot]=yield Promise.all([st,At]);(function Eu(b){const S=window.document.getElementsByTagName("script");for(const R of Object.values(S))if(R.src&&R.src.includes(wu)&&R.src.includes(b))return R;return null})(ie)||function zm(b,S){const R=function $d(b,S){let R;return window.trustedTypes&&(R=window.trustedTypes.createPolicy(b,S)),R}("firebase-js-sdk-policy",{createScriptURL:ia}),j=document.createElement("script"),J=`${wu}?l=${b}&id=${S}`;j.src=R?R?.createScriptURL(J):J,j.async=!0,document.head.appendChild(j)}(ie,Ht.measurementId),br&&(J("consent","default",br),function ll(b){br=b}(void 0)),J("js",new Date);const Ci=null!==(lt=Te?.config)&&void 0!==lt?lt:{};return Ci[zt]="firebase",Ci.update=!0,null!=Ot&&(Ci[Rf]=Ot),J("config",Ht.measurementId,Ci),Iu&&(J("set",Iu),function Tu(b){Iu=b}(void 0)),Ht.measurementId}),No.apply(this,arguments)}class gc{constructor(S){this.app=S}_delete(){return delete Vt[this.app.options.appId],Promise.resolve()}}let Vt={},Vf=[];const Zd={};let ao,Wn,oa="dataLayer",aa=!1;function Cu(b,S,R){!function yc(){const b=[];if((0,le.ru)()&&b.push("This is a browser extension environment."),(0,le.zI)()||b.push("Cookies are not available."),b.length>0){const S=b.map((j,J)=>`(${J+1}) ${j}`).join(" "),R=Ir.create("invalid-analytics-context",{errorInfo:S});Or.warn(R.message)}}();const j=b.options.appId;if(!j)throw Ir.create("no-app-id");if(!b.options.apiKey){if(!b.options.measurementId)throw Ir.create("no-api-key");Or.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${b.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Vt[j])throw Ir.create("already-exists",{id:j});if(!aa){!function Mf(b){let S=[];Array.isArray(window[b])?S=window[b]:window[b]=S}(oa);const{wrappedGtag:ie,gtagCore:Te}=function Jr(b,S,R,j,J){let ie=function(...Te){window[j].push(arguments)};return window[J]&&"function"==typeof window[J]&&(ie=window[J]),window[J]=function zd(b,S,R,j){function ie(){return ie=(0,O.Z)(function*(Te,...lt){try{if("event"===Te){const[st,At]=lt;yield function mn(b,S,R,j,J){return is.apply(this,arguments)}(b,S,R,st,At)}else if("config"===Te){const[st,At]=lt;yield function Pf(b,S,R,j,J,ie){return Ve.apply(this,arguments)}(b,S,R,j,st,At)}else if("consent"===Te){const[st]=lt;b("consent","update",st)}else if("get"===Te){const[st,At,Ht]=lt;b("get",st,At,Ht)}else if("set"===Te){const[st]=lt;b("set",st)}else b(Te,...lt)}catch(st){Or.error(st)}}),ie.apply(this,arguments)}return function J(Te){return ie.apply(this,arguments)}}(ie,b,S,R),{gtagCore:ie,wrappedGtag:window[J]}}(Vt,Vf,Zd,oa,"gtag");Wn=ie,ao=Te,aa=!0}return Vt[j]=function Yn(b,S,R,j,J,ie,Te){return No.apply(this,arguments)}(b,Vf,Zd,S,ao,oa,R),new gc(b)}function ul(){return Es.apply(this,arguments)}function Es(){return(Es=(0,O.Z)(function*(){if((0,le.ru)()||!(0,le.zI)()||!(0,le.hl)())return!1;try{return yield(0,le.eu)()}catch{return!1}})).apply(this,arguments)}const vc="@firebase/analytics";!function Tr(){(0,re.Xd)(new _e.wA(pc,(S,{options:R})=>Cu(S.getProvider("app").getImmediate(),S.getProvider("installations-internal").getImmediate(),R),"PUBLIC")),(0,re.Xd)(new _e.wA("analytics-internal",function b(S){try{const R=S.getProvider(pc).getImmediate();return{logEvent:(j,J,ie)=>function Ti(b,S,R,j){b=(0,le.m9)(b),function wy(b,S,R,j,J){return bu.apply(this,arguments)}(Wn,Vt[b.app.options.appId],S,R,j).catch(J=>Or.error(J))}(R,j,J,ie)}}catch(R){throw Ir.create("interop-component-reg-failed",{reason:R})}},"PRIVATE")),(0,re.KN)(vc,"0.10.0"),(0,re.KN)(vc,"0.10.0","esm2017")}();var ss=V(1954),Gr=V(2631);const fl=new class Ui extends Gr.v{}(class La extends ss.o{constructor(S,R){super(S,R),this.scheduler=S,this.work=R}schedule(S,R=0){return R>0?super.schedule(S,R):(this.delay=R,this.state=S,this.scheduler.flush(this),this)}execute(S,R){return R>0||this.closed?super.execute(S,R):this._execute(S,R)}requestAsyncId(S,R,j=0){return null!=j&&j>0||null==j&&this.delay>0?super.requestAsyncId(S,R,j):(S.flush(this),0)}});var Gm=V(6321),Cr=V(5592),ca=V(9397),Qn=V(5137),os=V(3093);const Ru=new u.GfV("7.6.1"),Oo="__angularfire_symbol__analyticsIsSupportedValue",la="__angularfire_symbol__analyticsIsSupported",Mu="__angularfire_symbol__remoteConfigIsSupportedValue",pl="__angularfire_symbol__remoteConfigIsSupported",ua="__angularfire_symbol__messagingIsSupportedValue",ml="__angularfire_symbol__messagingIsSupported";function da(b,S,R){if(S){if(1===S.length)return S[0];const ie=S.filter(Te=>Te.app===R);if(1===ie.length)return ie[0]}return R.container.getProvider(b).getImmediate({optional:!0})}globalThis[la]||(globalThis[la]=ul().then(b=>globalThis[Oo]=b).catch(()=>globalThis[Oo]=!1)),globalThis[ml]||(globalThis[ml]=Ra().then(b=>globalThis[ua]=b).catch(()=>globalThis[ua]=!1)),globalThis[pl]||(globalThis[pl]=Ca().then(b=>globalThis[Mu]=b).catch(()=>globalThis[Mu]=!1));const Bf=(b,S)=>{const R=S?[S]:(0,H.C6)(),j=[];return R.forEach(J=>{J.container.getProvider(b).instances.forEach(Te=>{j.includes(Te)||j.push(Te)})}),j};function Ua(){}class hi{constructor(S,R=fl){this.zone=S,this.delegate=R}now(){return this.delegate.now()}schedule(S,R,j){const J=this.zone;return this.delegate.schedule(function(Te){J.runGuarded(()=>{S.apply(this,[Te])})},R,j)}}class jf{constructor(S){this.zone=S,this.task=null}call(S,R){const j=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ua,{},Ua,Ua)),R.pipe((0,ca.b)({next:j,complete:j,error:j})).subscribe(S).add(j)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Lr=(()=>{class b{constructor(R){this.ngZone=R,this.outsideAngular=R.runOutsideAngular(()=>new hi(Zone.current)),this.insideAngular=R.run(()=>new hi(Zone.current,Gm.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return b.\u0275fac=function(R){return new(R||b)(u.LFG(u.R0b))},b.\u0275prov=u.Yz7({token:b,factory:b.\u0275fac,providedIn:"root"}),b})();function Bi(){const b=globalThis.\u0275AngularFireScheduler;if(!b)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return b}function co(b){return Bi().ngZone.run(()=>b())}function gl(b){return Bi(),function Ec(b){return function(R){return(R=R.lift(new jf(b.ngZone))).pipe((0,Qn.R)(b.outsideAngular),(0,os.Q)(b.insideAngular))}}(Bi())(b)}const Ba=(b,S)=>function(){const j=arguments;return S&&setTimeout(()=>{"scheduled"===S.state&&S.invoke()},10),co(()=>b.apply(void 0,j))},Fo=(b,S)=>function(){let R;const j=arguments;for(let ie=0;ie<arguments.length;ie++)"function"==typeof j[ie]&&(S&&(R||(R=co(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ua,{},Ua,Ua)))),j[ie]=Ba(j[ie],R));const J=function $f(b){return Bi().ngZone.runOutsideAngular(()=>b())}(()=>b.apply(this,j));if(!S){if(J instanceof Cr.y){const ie=Bi();return J.pipe((0,Qn.R)(ie.outsideAngular),(0,os.Q)(ie.insideAngular))}return co(()=>J)}return J instanceof Cr.y?J.pipe(gl):J instanceof Promise?co(()=>new Promise((ie,Te)=>J.then(lt=>co(()=>ie(lt)),lt=>co(()=>Te(lt))))):"function"==typeof J&&R?function(){return setTimeout(()=>{R&&"scheduled"===R.state&&R.invoke()},10),J.apply(this,arguments)}:co(()=>J)}},6710:(It,Re,V)=>{V.d(Re,{$:()=>xd,A:()=>Y,D:()=>Fe,I:()=>mf,J:()=>qc,L:()=>ct,N:()=>Tt,P:()=>Yn,Q:()=>lc,R:()=>Ff,U:()=>ou,V:()=>Ca,W:()=>vs,X:()=>ea,Y:()=>Cd,Z:()=>Dd,_:()=>Da,a:()=>yu,a0:()=>Rm,a1:()=>tr,a2:()=>q0,a3:()=>hy,a4:()=>Rd,a5:()=>na,a6:()=>rs,a7:()=>Kc,a8:()=>Sa,a9:()=>Md,aA:()=>W,aB:()=>la,aC:()=>We,aD:()=>yn,aE:()=>ca,aF:()=>Su,aG:()=>Fa,aH:()=>cr,aL:()=>Pa,aO:()=>ts,aa:()=>Ef,ab:()=>Pd,ac:()=>kd,ad:()=>Lm,ae:()=>Qc,af:()=>Nd,ai:()=>Od,aj:()=>Vm,ak:()=>bf,an:()=>Ad,ao:()=>nl,aq:()=>il,ar:()=>ol,as:()=>et,at:()=>pt,au:()=>Ne,av:()=>ce,aw:()=>Ot,ax:()=>ml,ay:()=>In,az:()=>Me,b:()=>jd,c:()=>Wn,d:()=>Cu,e:()=>_c,f:()=>vc,g:()=>Ui,h:()=>ss,i:()=>ro,j:()=>Gm,k:()=>as,l:()=>cl,m:()=>ja,p:()=>ke,r:()=>xt,s:()=>di,u:()=>bi});var u=V(5861),H=V(9058),O=V(7592),re=V(7582),le=V(7879),_e=V(4537);const ke={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},Y={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Fe=function ae(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},it=function Ge(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Ue=new H.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Le=new le.Yd("@firebase/auth");function wt(I,..._){Le.logLevel<=le.in.ERROR&&Le.error(`Auth (${O.SDK_VERSION}): ${I}`,..._)}function ce(I,..._){throw He(I,..._)}function Me(I,..._){return He(I,..._)}function pe(I,_,y){const T=Object.assign(Object.assign({},it()),{[_]:y});return new H.LL("auth","Firebase",T).create(_,{appName:I.name})}function Ae(I,_,y){if(!(_ instanceof y))throw y.name!==_.constructor.name&&ce(I,"argument-error"),pe(I,"argument-error",`Type of ${_.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function He(I,..._){if("string"!=typeof I){const y=_[0],T=[..._.slice(1)];return T[0]&&(T[0].appName=I.name),I._errorFactory.create(y,...T)}return Ue.create(I,..._)}function W(I,_,...y){if(!I)throw He(_,...y)}function Oe(I){const _="INTERNAL ASSERTION FAILED: "+I;throw wt(_),new Error(_)}function et(I,_){I||Oe(_)}function Rt(){var I;return typeof self<"u"&&(null===(I=self.location)||void 0===I?void 0:I.href)||""}function gn(){return"http:"===Fn()||"https:"===Fn()}function Fn(){var I;return typeof self<"u"&&(null===(I=self.location)||void 0===I?void 0:I.protocol)||null}class Mn{constructor(_,y){this.shortDelay=_,this.longDelay=y,et(y>_,"Short delay should be less than long delay!"),this.isMobile=(0,H.uI)()||(0,H.b$)()}get(){return function Ln(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(gn()||(0,H.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Hr(I,_){et(I.emulator,"Emulator should always be set here");const{url:y}=I.emulator;return _?`${y}${_.startsWith("/")?_.slice(1):_}`:y}class de{static initialize(_,y,T){this.fetchImpl=_,y&&(this.headersImpl=y),T&&(this.responseImpl=T)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Oe("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Oe("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Oe("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const ye={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Ie=new Mn(3e4,6e4);function fe(I,_){return I.tenantId&&!_.tenantId?Object.assign(Object.assign({},_),{tenantId:I.tenantId}):_}function Pe(I,_,y,T){return Xe.apply(this,arguments)}function Xe(){return(Xe=(0,u.Z)(function*(I,_,y,T,P={}){return ot(I,P,(0,u.Z)(function*(){let L={},ne={};T&&("GET"===_?ne=T:L={body:JSON.stringify(T)});const me=(0,H.xO)(Object.assign({key:I.config.apiKey},ne)).slice(1),nt=yield I._getAdditionalHeaders();return nt["Content-Type"]="application/json",I.languageCode&&(nt["X-Firebase-Locale"]=I.languageCode),de.fetch()(un(I,I.config.apiHost,y,me),Object.assign({method:_,headers:nt,referrerPolicy:"no-referrer"},L))}))})).apply(this,arguments)}function ot(I,_,y){return tt.apply(this,arguments)}function tt(){return(tt=(0,u.Z)(function*(I,_,y){I._canInitEmulator=!1;const T=Object.assign(Object.assign({},ye),_);try{const P=new bt(I),L=yield Promise.race([y(),P.promise]);P.clearNetworkTimeout();const ne=yield L.json();if("needConfirmation"in ne)throw wn(I,"account-exists-with-different-credential",ne);if(L.ok&&!("errorMessage"in ne))return ne;{const me=L.ok?ne.errorMessage:ne.error.message,[nt,ut]=me.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===nt)throw wn(I,"credential-already-in-use",ne);if("EMAIL_EXISTS"===nt)throw wn(I,"email-already-in-use",ne);if("USER_DISABLED"===nt)throw wn(I,"user-disabled",ne);const Mt=T[nt]||nt.toLowerCase().replace(/[_\s]+/g,"-");if(ut)throw pe(I,Mt,ut);ce(I,Mt)}}catch(P){if(P instanceof H.ZR)throw P;ce(I,"network-request-failed",{message:String(P)})}})).apply(this,arguments)}function Tn(I,_,y,T){return $t.apply(this,arguments)}function $t(){return($t=(0,u.Z)(function*(I,_,y,T,P={}){const L=yield Pe(I,_,y,T,P);return"mfaPendingCredential"in L&&ce(I,"multi-factor-auth-required",{_serverResponse:L}),L})).apply(this,arguments)}function un(I,_,y,T){const P=`${_}${y}?${T}`;return I.config.emulator?Hr(I.config,P):`${I.config.apiScheme}://${P}`}class bt{constructor(_){this.auth=_,this.timer=null,this.promise=new Promise((y,T)=>{this.timer=setTimeout(()=>T(Me(this.auth,"network-request-failed")),Ie.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function wn(I,_,y){const T={appName:I.name};y.email&&(T.email=y.email),y.phoneNumber&&(T.phoneNumber=y.phoneNumber);const P=Me(I,_,T);return P.customData._tokenResponse=y,P}function zn(){return(zn=(0,u.Z)(function*(I,_){return Pe(I,"POST","/v1/accounts:delete",_)})).apply(this,arguments)}function fr(){return(fr=(0,u.Z)(function*(I,_){return Pe(I,"POST","/v1/accounts:update",_)})).apply(this,arguments)}function Rr(){return(Rr=(0,u.Z)(function*(I,_){return Pe(I,"POST","/v1/accounts:lookup",_)})).apply(this,arguments)}function qn(I){if(I)try{const _=new Date(Number(I));if(!isNaN(_.getTime()))return _.toUTCString()}catch{}}function ms(){return(ms=(0,u.Z)(function*(I,_=!1){const y=(0,H.m9)(I),T=yield y.getIdToken(_),P=Ft(T);W(P&&P.exp&&P.auth_time&&P.iat,y.auth,"internal-error");const L="object"==typeof P.firebase?P.firebase:void 0,ne=L?.sign_in_provider;return{claims:P,token:T,authTime:qn(Nt(P.auth_time)),issuedAtTime:qn(Nt(P.iat)),expirationTime:qn(Nt(P.exp)),signInProvider:ne||null,signInSecondFactor:L?.sign_in_second_factor||null}})).apply(this,arguments)}function Nt(I){return 1e3*Number(I)}function Ft(I){const[_,y,T]=I.split(".");if(void 0===_||void 0===y||void 0===T)return wt("JWT malformed, contained fewer than 3 sections"),null;try{const P=(0,H.tV)(y);return P?JSON.parse(P):(wt("Failed to decode base64 JWT payload"),null)}catch(P){return wt("Caught error parsing JWT payload as JSON",P?.toString()),null}}function an(I,_){return pr.apply(this,arguments)}function pr(){return(pr=(0,u.Z)(function*(I,_,y=!1){if(y)return _;try{return yield _}catch(T){throw T instanceof H.ZR&&function vr({code:I}){return"auth/user-disabled"===I||"auth/user-token-expired"===I}(T)&&I.auth.currentUser===I&&(yield I.auth.signOut()),T}})).apply(this,arguments)}class en{constructor(_){this.user=_,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(_){var y;if(_){const T=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),T}{this.errorBackoff=3e4;const P=(null!==(y=this.user.stsTokenManager.expirationTime)&&void 0!==y?y:0)-Date.now()-3e5;return Math.max(0,P)}}schedule(_=!1){var y=this;if(!this.isRunning)return;const T=this.getInterval(_);this.timerId=setTimeout((0,u.Z)(function*(){yield y.iteration()}),T)}iteration(){var _=this;return(0,u.Z)(function*(){try{yield _.user.getIdToken(!0)}catch(y){return void("auth/network-request-failed"===y?.code&&_.schedule(!0))}_.schedule()})()}}class Hn{constructor(_,y){this.createdAt=_,this.lastLoginAt=y,this._initializeTime()}_initializeTime(){this.lastSignInTime=qn(this.lastLoginAt),this.creationTime=qn(this.createdAt)}_copy(_){this.createdAt=_.createdAt,this.lastLoginAt=_.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Ni(I){return _n.apply(this,arguments)}function _n(){return _n=(0,u.Z)(function*(I){var _;const y=I.auth,T=yield I.getIdToken(),P=yield an(I,function ki(I,_){return Rr.apply(this,arguments)}(y,{idToken:T}));W(P?.users.length,y,"internal-error");const L=P.users[0];I._notifyReloadListener(L);const ne=null!==(_=L.providerUserInfo)&&void 0!==_&&_.length?function Qi(I){return I.map(_=>{var{providerId:y}=_,T=(0,re._T)(_,["providerId"]);return{providerId:y,uid:T.rawId||"",displayName:T.displayName||null,email:T.email||null,phoneNumber:T.phoneNumber||null,photoURL:T.photoUrl||null}})}(L.providerUserInfo):[],me=function Gn(I,_){return[...I.filter(T=>!_.some(P=>P.providerId===T.providerId)),..._]}(I.providerData,ne),Mt=!!I.isAnonymous&&!(I.email&&L.passwordHash||me?.length),hn={uid:L.localId,displayName:L.displayName||null,photoURL:L.photoUrl||null,email:L.email||null,emailVerified:L.emailVerified||!1,phoneNumber:L.phoneNumber||null,tenantId:L.tenantId||null,providerData:me,metadata:new Hn(L.createdAt,L.lastLoginAt),isAnonymous:Mt};Object.assign(I,hn)}),_n.apply(this,arguments)}function sn(){return(sn=(0,u.Z)(function*(I){const _=(0,H.m9)(I);yield Ni(_),yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)})).apply(this,arguments)}function wr(){return(wr=(0,u.Z)(function*(I,_){const y=yield ot(I,{},(0,u.Z)(function*(){const T=(0,H.xO)({grant_type:"refresh_token",refresh_token:_}).slice(1),{tokenApiHost:P,apiKey:L}=I.config,ne=un(I,P,"/v1/token",`key=${L}`),me=yield I._getAdditionalHeaders();return me["Content-Type"]="application/x-www-form-urlencoded",de.fetch()(ne,{method:"POST",headers:me,body:T})}));return{accessToken:y.access_token,expiresIn:y.expires_in,refreshToken:y.refresh_token}})).apply(this,arguments)}class ar{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(_){W(_.idToken,"internal-error"),W(typeof _.idToken<"u","internal-error"),W(typeof _.refreshToken<"u","internal-error");const y="expiresIn"in _&&typeof _.expiresIn<"u"?Number(_.expiresIn):function Wt(I){const _=Ft(I);return W(_,"internal-error"),W(typeof _.exp<"u","internal-error"),W(typeof _.iat<"u","internal-error"),Number(_.exp)-Number(_.iat)}(_.idToken);this.updateTokensAndExpiration(_.idToken,_.refreshToken,y)}getToken(_,y=!1){var T=this;return(0,u.Z)(function*(){return W(!T.accessToken||T.refreshToken,_,"user-token-expired"),y||!T.accessToken||T.isExpired?T.refreshToken?(yield T.refresh(_,T.refreshToken),T.accessToken):null:T.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(_,y){var T=this;return(0,u.Z)(function*(){const{accessToken:P,refreshToken:L,expiresIn:ne}=yield function gs(I,_){return wr.apply(this,arguments)}(_,y);T.updateTokensAndExpiration(P,L,Number(ne))})()}updateTokensAndExpiration(_,y,T){this.refreshToken=y||null,this.accessToken=_||null,this.expirationTime=Date.now()+1e3*T}static fromJSON(_,y){const{refreshToken:T,accessToken:P,expirationTime:L}=y,ne=new ar;return T&&(W("string"==typeof T,"internal-error",{appName:_}),ne.refreshToken=T),P&&(W("string"==typeof P,"internal-error",{appName:_}),ne.accessToken=P),L&&(W("number"==typeof L,"internal-error",{appName:_}),ne.expirationTime=L),ne}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(_){this.accessToken=_.accessToken,this.refreshToken=_.refreshToken,this.expirationTime=_.expirationTime}_clone(){return Object.assign(new ar,this.toJSON())}_performRefresh(){return Oe("not implemented")}}function Ee(I,_){W("string"==typeof I||typeof I>"u","internal-error",{appName:_})}class Q{constructor(_){var{uid:y,auth:T,stsTokenManager:P}=_,L=(0,re._T)(_,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new en(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=y,this.auth=T,this.stsTokenManager=P,this.accessToken=P.accessToken,this.displayName=L.displayName||null,this.email=L.email||null,this.emailVerified=L.emailVerified||!1,this.phoneNumber=L.phoneNumber||null,this.photoURL=L.photoURL||null,this.isAnonymous=L.isAnonymous||!1,this.tenantId=L.tenantId||null,this.providerData=L.providerData?[...L.providerData]:[],this.metadata=new Hn(L.createdAt||void 0,L.lastLoginAt||void 0)}getIdToken(_){var y=this;return(0,u.Z)(function*(){const T=yield an(y,y.stsTokenManager.getToken(y.auth,_));return W(T,y.auth,"internal-error"),y.accessToken!==T&&(y.accessToken=T,yield y.auth._persistUserIfCurrent(y),y.auth._notifyListenersIfCurrent(y)),T})()}getIdTokenResult(_){return function ri(I){return ms.apply(this,arguments)}(this,_)}reload(){return function ii(I){return sn.apply(this,arguments)}(this)}_assign(_){this!==_&&(W(this.uid===_.uid,this.auth,"internal-error"),this.displayName=_.displayName,this.photoURL=_.photoURL,this.email=_.email,this.emailVerified=_.emailVerified,this.phoneNumber=_.phoneNumber,this.isAnonymous=_.isAnonymous,this.tenantId=_.tenantId,this.providerData=_.providerData.map(y=>Object.assign({},y)),this.metadata._copy(_.metadata),this.stsTokenManager._assign(_.stsTokenManager))}_clone(_){const y=new Q(Object.assign(Object.assign({},this),{auth:_,stsTokenManager:this.stsTokenManager._clone()}));return y.metadata._copy(this.metadata),y}_onReload(_){W(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=_,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(_){this.reloadListener?this.reloadListener(_):this.reloadUserInfo=_}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(_,y=!1){var T=this;return(0,u.Z)(function*(){let P=!1;_.idToken&&_.idToken!==T.stsTokenManager.accessToken&&(T.stsTokenManager.updateFromServerResponse(_),P=!0),y&&(yield Ni(T)),yield T.auth._persistUserIfCurrent(T),P&&T.auth._notifyListenersIfCurrent(T)})()}delete(){var _=this;return(0,u.Z)(function*(){const y=yield _.getIdToken();return yield an(_,function Zn(I,_){return zn.apply(this,arguments)}(_.auth,{idToken:y})),_.stsTokenManager.clearRefreshToken(),_.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(_=>Object.assign({},_)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(_,y){var T,P,L,ne,me,nt,ut,Mt;const hn=null!==(T=y.displayName)&&void 0!==T?T:void 0,ji=null!==(P=y.email)&&void 0!==P?P:void 0,lo=null!==(L=y.phoneNumber)&&void 0!==L?L:void 0,$a=null!==(ne=y.photoURL)&&void 0!==ne?ne:void 0,Iy=null!==(me=y.tenantId)&&void 0!==me?me:void 0,Qd=null!==(nt=y._redirectEventId)&&void 0!==nt?nt:void 0,yl=null!==(ut=y.createdAt)&&void 0!==ut?ut:void 0,vl=null!==(Mt=y.lastLoginAt)&&void 0!==Mt?Mt:void 0,{uid:Gf,emailVerified:Xd,isAnonymous:uo,providerData:Ou,stsTokenManager:bc}=y;W(Gf&&bc,_,"internal-error");const Jd=ar.fromJSON(this.name,bc);W("string"==typeof Gf,_,"internal-error"),Ee(hn,_.name),Ee(ji,_.name),W("boolean"==typeof Xd,_,"internal-error"),W("boolean"==typeof uo,_,"internal-error"),Ee(lo,_.name),Ee($a,_.name),Ee(Iy,_.name),Ee(Qd,_.name),Ee(yl,_.name),Ee(vl,_.name);const Tc=new Q({uid:Gf,auth:_,email:ji,emailVerified:Xd,displayName:hn,isAnonymous:uo,photoURL:$a,phoneNumber:lo,tenantId:Iy,stsTokenManager:Jd,createdAt:yl,lastLoginAt:vl});return Ou&&Array.isArray(Ou)&&(Tc.providerData=Ou.map(qf=>Object.assign({},qf))),Qd&&(Tc._redirectEventId=Qd),Tc}static _fromIdTokenResponse(_,y,T=!1){return(0,u.Z)(function*(){const P=new ar;P.updateFromServerResponse(y);const L=new Q({uid:y.localId,auth:_,stsTokenManager:P,isAnonymous:T});return yield Ni(L),L})()}}const Ce=new Map;function We(I){et(I instanceof Function,"Expected a class definition");let _=Ce.get(I);return _?(et(_ instanceof I,"Instance stored in cache mismatched with class"),_):(_=new I,Ce.set(I,_),_)}const Tt=(()=>{class I{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,u.Z)(function*(){return!0})()}_set(y,T){var P=this;return(0,u.Z)(function*(){P.storage[y]=T})()}_get(y){var T=this;return(0,u.Z)(function*(){const P=T.storage[y];return void 0===P?null:P})()}_remove(y){var T=this;return(0,u.Z)(function*(){delete T.storage[y]})()}_addListener(y,T){}_removeListener(y,T){}}return I.type="NONE",I})();function yn(I,_,y){return`firebase:${I}:${_}:${y}`}class q{constructor(_,y,T){this.persistence=_,this.auth=y,this.userKey=T;const{config:P,name:L}=this.auth;this.fullUserKey=yn(this.userKey,P.apiKey,L),this.fullPersistenceKey=yn("persistence",P.apiKey,L),this.boundEventHandler=y._onStorageEvent.bind(y),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(_){return this.persistence._set(this.fullUserKey,_.toJSON())}getCurrentUser(){var _=this;return(0,u.Z)(function*(){const y=yield _.persistence._get(_.fullUserKey);return y?Q._fromJSON(_.auth,y):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(_){var y=this;return(0,u.Z)(function*(){if(y.persistence===_)return;const T=yield y.getCurrentUser();return yield y.removeCurrentUser(),y.persistence=_,T?y.setCurrentUser(T):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(_,y,T="authUser"){return(0,u.Z)(function*(){if(!y.length)return new q(We(Tt),_,T);const P=(yield Promise.all(y.map(function(){var ut=(0,u.Z)(function*(Mt){if(yield Mt._isAvailable())return Mt});return function(Mt){return ut.apply(this,arguments)}}()))).filter(ut=>ut);let L=P[0]||We(Tt);const ne=yn(T,_.config.apiKey,_.name);let me=null;for(const ut of y)try{const Mt=yield ut._get(ne);if(Mt){const hn=Q._fromJSON(_,Mt);ut!==L&&(me=hn),L=ut;break}}catch{}const nt=P.filter(ut=>ut._shouldAllowMigration);return L._shouldAllowMigration&&nt.length?(L=nt[0],me&&(yield L._set(ne,me.toJSON())),yield Promise.all(y.map(function(){var ut=(0,u.Z)(function*(Mt){if(Mt!==L)try{yield Mt._remove(ne)}catch{}});return function(Mt){return ut.apply(this,arguments)}}())),new q(L,_,T)):new q(L,_,T)})()}}function G(I){const _=I.toLowerCase();if(_.includes("opera/")||_.includes("opr/")||_.includes("opios/"))return"Opera";if(se(_))return"IEMobile";if(_.includes("msie")||_.includes("trident/"))return"IE";if(_.includes("edge/"))return"Edge";if(U(_))return"Firefox";if(_.includes("silk/"))return"Silk";if(rt(_))return"Blackberry";if(Gt(_))return"Webos";if(B(_))return"Safari";if((_.includes("chrome/")||F(_))&&!_.includes("edge/"))return"Chrome";if(Ne(_))return"Android";{const T=I.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===T?.length)return T[1]}return"Other"}function U(I=(0,H.z$)()){return/firefox\//i.test(I)}function B(I=(0,H.z$)()){const _=I.toLowerCase();return _.includes("safari/")&&!_.includes("chrome/")&&!_.includes("crios/")&&!_.includes("android")}function F(I=(0,H.z$)()){return/crios\//i.test(I)}function se(I=(0,H.z$)()){return/iemobile/i.test(I)}function Ne(I=(0,H.z$)()){return/android/i.test(I)}function rt(I=(0,H.z$)()){return/blackberry/i.test(I)}function Gt(I=(0,H.z$)()){return/webos/i.test(I)}function pt(I=(0,H.z$)()){return/iphone|ipad|ipod/i.test(I)||/macintosh/i.test(I)&&/mobile/i.test(I)}function In(I=(0,H.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(I)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(I)}function tn(I=(0,H.z$)()){return pt(I)||Ne(I)||Gt(I)||rt(I)||/windows phone/i.test(I)||se(I)}function Ea(I,_=[]){let y;switch(I){case"Browser":y=G((0,H.z$)());break;case"Worker":y=`${G((0,H.z$)())}-${I}`;break;default:y=I}const T=_.length?_.join(","):"FirebaseCore-web";return`${y}/JsCore/${O.SDK_VERSION}/${T}`}function Js(){return(Js=(0,u.Z)(function*(I){return(yield Pe(I,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function eo(I,_){return _s.apply(this,arguments)}function _s(){return(_s=(0,u.Z)(function*(I,_){return Pe(I,"GET","/v2/recaptchaConfig",fe(I,_))})).apply(this,arguments)}function pn(I){return void 0!==I&&void 0!==I.getResponse}function Qo(I){return void 0!==I&&void 0!==I.enterprise}class tc{constructor(_){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===_.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=_.recaptchaKey.split("/")[3],this.emailPasswordEnabled=_.recaptchaEnforcementState.some(y=>"EMAIL_PASSWORD_PROVIDER"===y.provider&&"OFF"!==y.enforcementState)}}function Xl(I){return new Promise((_,y)=>{const T=document.createElement("script");T.setAttribute("src",I),T.onload=_,T.onerror=P=>{const L=Me("internal-error");L.customData=P,y(L)},T.type="text/javascript",T.charset="UTF-8",function Ql(){var I,_;return null!==(_=null===(I=document.getElementsByTagName("head"))||void 0===I?void 0:I[0])&&void 0!==_?_:document}().appendChild(T)})}function So(I){return`__${I}${Math.floor(1e6*Math.random())}`}class ic{constructor(_){this.type="recaptcha-enterprise",this.auth=cr(_)}verify(_="verify",y=!1){var T=this;return(0,u.Z)(function*(){function L(){return L=(0,u.Z)(function*(me){if(!y){if(null==me.tenantId&&null!=me._agentRecaptchaConfig)return me._agentRecaptchaConfig.siteKey;if(null!=me.tenantId&&void 0!==me._tenantRecaptchaConfigs[me.tenantId])return me._tenantRecaptchaConfigs[me.tenantId].siteKey}return new Promise(function(){var nt=(0,u.Z)(function*(ut,Mt){eo(me,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(hn=>{if(void 0!==hn.recaptchaKey){const ji=new tc(hn);return null==me.tenantId?me._agentRecaptchaConfig=ji:me._tenantRecaptchaConfigs[me.tenantId]=ji,ut(ji.siteKey)}Mt(new Error("recaptcha Enterprise site key undefined"))}).catch(hn=>{Mt(hn)})});return function(ut,Mt){return nt.apply(this,arguments)}}())}),L.apply(this,arguments)}function ne(me,nt,ut){const Mt=window.grecaptcha;Qo(Mt)?Mt.enterprise.ready(()=>{Mt.enterprise.execute(me,{action:_}).then(hn=>{nt(hn)}).catch(()=>{nt("NO_RECAPTCHA")})}):ut(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((me,nt)=>{(function P(me){return L.apply(this,arguments)})(T.auth).then(ut=>{if(!y&&Qo(window.grecaptcha))ne(ut,me,nt);else{if(typeof window>"u")return void nt(new Error("RecaptchaVerifier is only supported in browser"));Xl("https://www.google.com/recaptcha/enterprise.js?render="+ut).then(()=>{ne(ut,me,nt)}).catch(Mt=>{nt(Mt)})}}).catch(ut=>{nt(ut)})})})()}}function xo(I,_,y){return Ia.apply(this,arguments)}function Ia(){return(Ia=(0,u.Z)(function*(I,_,y,T=!1){const P=new ic(I);let L;try{L=yield P.verify(y)}catch{L=yield P.verify(y,!0)}const ne=Object.assign({},_);return Object.assign(ne,T?{captchaResp:L}:{captchaResponse:L}),Object.assign(ne,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(ne,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),ne})).apply(this,arguments)}class Hc{constructor(_){this.auth=_,this.queue=[]}pushCallback(_,y){const T=L=>new Promise((ne,me)=>{try{ne(_(L))}catch(nt){me(nt)}});T.onAbort=y,this.queue.push(T);const P=this.queue.length-1;return()=>{this.queue[P]=()=>Promise.resolve()}}runMiddleware(_){var y=this;return(0,u.Z)(function*(){if(y.auth.currentUser===_)return;const T=[];try{for(const P of y.queue)yield P(_),P.onAbort&&T.push(P.onAbort)}catch(P){T.reverse();for(const L of T)try{L()}catch{}throw y.auth._errorFactory.create("login-blocked",{originalMessage:P?.message})}})()}}class sc{constructor(_,y,T,P){this.app=_,this.heartbeatServiceProvider=y,this.appCheckServiceProvider=T,this.config=P,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ly(this),this.idTokenSubscription=new ly(this),this.beforeStateQueue=new Hc(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ue,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=_.name,this.clientVersion=P.sdkClientVersion}_initializeWithPersistence(_,y){var T=this;return y&&(this._popupRedirectResolver=We(y)),this._initializationPromise=this.queue((0,u.Z)(function*(){var P,L;if(!T._deleted&&(T.persistenceManager=yield q.create(T,_),!T._deleted)){if(null!==(P=T._popupRedirectResolver)&&void 0!==P&&P._shouldInitProactively)try{yield T._popupRedirectResolver._initialize(T)}catch{}yield T.initializeCurrentUser(y),T.lastNotifiedUid=(null===(L=T.currentUser)||void 0===L?void 0:L.uid)||null,!T._deleted&&(T._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var _=this;return(0,u.Z)(function*(){if(_._deleted)return;const y=yield _.assertedPersistence.getCurrentUser();if(_.currentUser||y){if(_.currentUser&&y&&_.currentUser.uid===y.uid)return _._currentUser._assign(y),void(yield _.currentUser.getIdToken());yield _._updateCurrentUser(y,!0)}})()}initializeCurrentUser(_){var y=this;return(0,u.Z)(function*(){var T;const P=yield y.assertedPersistence.getCurrentUser();let L=P,ne=!1;if(_&&y.config.authDomain){yield y.getOrInitRedirectPersistenceManager();const me=null===(T=y.redirectUser)||void 0===T?void 0:T._redirectEventId,nt=L?._redirectEventId,ut=yield y.tryRedirectSignIn(_);(!me||me===nt)&&ut?.user&&(L=ut.user,ne=!0)}if(!L)return y.directlySetCurrentUser(null);if(!L._redirectEventId){if(ne)try{yield y.beforeStateQueue.runMiddleware(L)}catch(me){L=P,y._popupRedirectResolver._overrideRedirectResult(y,()=>Promise.reject(me))}return L?y.reloadAndSetCurrentUserOrClear(L):y.directlySetCurrentUser(null)}return W(y._popupRedirectResolver,y,"argument-error"),yield y.getOrInitRedirectPersistenceManager(),y.redirectUser&&y.redirectUser._redirectEventId===L._redirectEventId?y.directlySetCurrentUser(L):y.reloadAndSetCurrentUserOrClear(L)})()}tryRedirectSignIn(_){var y=this;return(0,u.Z)(function*(){let T=null;try{T=yield y._popupRedirectResolver._completeRedirectFn(y,_,!0)}catch{yield y._setRedirectUser(null)}return T})()}reloadAndSetCurrentUserOrClear(_){var y=this;return(0,u.Z)(function*(){try{yield Ni(_)}catch(T){if("auth/network-request-failed"!==T?.code)return y.directlySetCurrentUser(null)}return y.directlySetCurrentUser(_)})()}useDeviceLanguage(){this.languageCode=function Vn(){if(typeof navigator>"u")return null;const I=navigator;return I.languages&&I.languages[0]||I.language||null}()}_delete(){var _=this;return(0,u.Z)(function*(){_._deleted=!0})()}updateCurrentUser(_){var y=this;return(0,u.Z)(function*(){const T=_?(0,H.m9)(_):null;return T&&W(T.auth.config.apiKey===y.config.apiKey,y,"invalid-user-token"),y._updateCurrentUser(T&&T._clone(y))})()}_updateCurrentUser(_,y=!1){var T=this;return(0,u.Z)(function*(){if(!T._deleted)return _&&W(T.tenantId===_.tenantId,T,"tenant-id-mismatch"),y||(yield T.beforeStateQueue.runMiddleware(_)),T.queue((0,u.Z)(function*(){yield T.directlySetCurrentUser(_),T.notifyAuthListeners()}))})()}signOut(){var _=this;return(0,u.Z)(function*(){return yield _.beforeStateQueue.runMiddleware(null),(_.redirectPersistenceManager||_._popupRedirectResolver)&&(yield _._setRedirectUser(null)),_._updateCurrentUser(null,!0)})()}setPersistence(_){var y=this;return this.queue((0,u.Z)(function*(){yield y.assertedPersistence.setPersistence(We(_))}))}initializeRecaptchaConfig(){var _=this;return(0,u.Z)(function*(){const y=yield eo(_,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),T=new tc(y);null==_.tenantId?_._agentRecaptchaConfig=T:_._tenantRecaptchaConfigs[_.tenantId]=T,T.emailPasswordEnabled&&new ic(_).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(_){this._errorFactory=new H.LL("auth","Firebase",_())}onAuthStateChanged(_,y,T){return this.registerStateListener(this.authStateSubscription,_,y,T)}beforeAuthStateChanged(_,y){return this.beforeStateQueue.pushCallback(_,y)}onIdTokenChanged(_,y,T){return this.registerStateListener(this.idTokenSubscription,_,y,T)}toJSON(){var _;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(_=this._currentUser)||void 0===_?void 0:_.toJSON()}}_setRedirectUser(_,y){var T=this;return(0,u.Z)(function*(){const P=yield T.getOrInitRedirectPersistenceManager(y);return null===_?P.removeCurrentUser():P.setCurrentUser(_)})()}getOrInitRedirectPersistenceManager(_){var y=this;return(0,u.Z)(function*(){if(!y.redirectPersistenceManager){const T=_&&We(_)||y._popupRedirectResolver;W(T,y,"argument-error"),y.redirectPersistenceManager=yield q.create(y,[We(T._redirectPersistence)],"redirectUser"),y.redirectUser=yield y.redirectPersistenceManager.getCurrentUser()}return y.redirectPersistenceManager})()}_redirectUserForId(_){var y=this;return(0,u.Z)(function*(){var T,P;return y._isInitialized&&(yield y.queue((0,u.Z)(function*(){}))),(null===(T=y._currentUser)||void 0===T?void 0:T._redirectEventId)===_?y._currentUser:(null===(P=y.redirectUser)||void 0===P?void 0:P._redirectEventId)===_?y.redirectUser:null})()}_persistUserIfCurrent(_){var y=this;return(0,u.Z)(function*(){if(_===y.currentUser)return y.queue((0,u.Z)(function*(){return y.directlySetCurrentUser(_)}))})()}_notifyListenersIfCurrent(_){_===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var _,y;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const T=null!==(y=null===(_=this.currentUser)||void 0===_?void 0:_.uid)&&void 0!==y?y:null;this.lastNotifiedUid!==T&&(this.lastNotifiedUid=T,this.authStateSubscription.next(this.currentUser))}registerStateListener(_,y,T,P){if(this._deleted)return()=>{};const L="function"==typeof y?y:y.next.bind(y),ne=this._isInitialized?Promise.resolve():this._initializationPromise;return W(ne,this,"internal-error"),ne.then(()=>L(this.currentUser)),"function"==typeof y?_.addObserver(y,T,P):_.addObserver(y)}directlySetCurrentUser(_){var y=this;return(0,u.Z)(function*(){y.currentUser&&y.currentUser!==_&&y._currentUser._stopProactiveRefresh(),_&&y.isProactiveRefreshEnabled&&_._startProactiveRefresh(),y.currentUser=_,_?yield y.assertedPersistence.setCurrentUser(_):yield y.assertedPersistence.removeCurrentUser()})()}queue(_){return this.operations=this.operations.then(_,_),this.operations}get assertedPersistence(){return W(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(_){!_||this.frameworks.includes(_)||(this.frameworks.push(_),this.frameworks.sort(),this.clientVersion=Ea(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var _=this;return(0,u.Z)(function*(){var y;const T={"X-Client-Version":_.clientVersion};_.app.options.appId&&(T["X-Firebase-gmpid"]=_.app.options.appId);const P=yield null===(y=_.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===y?void 0:y.getHeartbeatsHeader();P&&(T["X-Firebase-Client"]=P);const L=yield _._getAppCheckToken();return L&&(T["X-Firebase-AppCheck"]=L),T})()}_getAppCheckToken(){var _=this;return(0,u.Z)(function*(){var y;const T=yield null===(y=_.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===y?void 0:y.getToken();return T?.error&&function Dt(I,..._){Le.logLevel<=le.in.WARN&&Le.warn(`Auth (${O.SDK_VERSION}): ${I}`,..._)}(`Error while retrieving App Check token: ${T.error}`),T?.token})()}}function cr(I){return(0,H.m9)(I)}class ly{constructor(_){this.auth=_,this.observer=null,this.addObserver=(0,H.ne)(y=>this.observer=y)}get next(){return W(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function mf(I,_,y){const T=cr(I);W(T._canInitEmulator,T,"emulator-config-failed"),W(/^https?:\/\//.test(_),T,"invalid-emulator-scheme");const P=!!y?.disableWarnings,L=Fi(_),{host:ne,port:me}=function Gc(I){const _=Fi(I),y=/(\/\/)?([^?#/]+)/.exec(I.substr(_.length));if(!y)return{host:"",port:null};const T=y[2].split("@").pop()||"",P=/^(\[[^\]]+\])(:|$)/.exec(T);if(P){const L=P[1];return{host:L,port:Jl(T.substr(L.length+1))}}{const[L,ne]=T.split(":");return{host:L,port:Jl(ne)}}}(_);T.config.emulator={url:`${L}//${ne}${null===me?"":`:${me}`}/`},T.settings.appVerificationDisabledForTesting=!0,T.emulatorConfig=Object.freeze({host:ne,port:me,protocol:L.replace(":",""),options:Object.freeze({disableWarnings:P})}),P||function Am(){function I(){const _=document.createElement("p"),y=_.style;_.innerText="Running in emulator mode. Do not use with production credentials.",y.position="fixed",y.width="100%",y.backgroundColor="#ffffff",y.border=".1em solid #000000",y.color="#b50000",y.bottom="0px",y.left="0px",y.margin="0px",y.zIndex="10000",y.textAlign="center",_.classList.add("firebase-emulator-warning"),document.body.appendChild(_)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",I):I())}()}function Fi(I){const _=I.indexOf(":");return _<0?"":I.substr(0,_+1)}function Jl(I){if(!I)return null;const _=Number(I);return isNaN(_)?null:_}class qc{constructor(_,y){this.providerId=_,this.signInMethod=y}toJSON(){return Oe("not implemented")}_getIdTokenResponse(_){return Oe("not implemented")}_linkToIdToken(_,y){return Oe("not implemented")}_getReauthenticationResolver(_){return Oe("not implemented")}}function wd(I,_){return gf.apply(this,arguments)}function gf(){return(gf=(0,u.Z)(function*(I,_){return Pe(I,"POST","/v1/accounts:resetPassword",fe(I,_))})).apply(this,arguments)}function eu(I,_){return Ed.apply(this,arguments)}function Ed(){return(Ed=(0,u.Z)(function*(I,_){return Pe(I,"POST","/v1/accounts:update",_)})).apply(this,arguments)}function Li(){return(Li=(0,u.Z)(function*(I,_){return Pe(I,"POST","/v1/accounts:update",fe(I,_))})).apply(this,arguments)}function tu(I,_){return si.apply(this,arguments)}function si(){return(si=(0,u.Z)(function*(I,_){return Tn(I,"POST","/v1/accounts:signInWithPassword",fe(I,_))})).apply(this,arguments)}function nu(I,_){return Id.apply(this,arguments)}function Id(){return(Id=(0,u.Z)(function*(I,_){return Pe(I,"POST","/v1/accounts:sendOobCode",fe(I,_))})).apply(this,arguments)}function ru(){return(ru=(0,u.Z)(function*(I,_){return nu(I,_)})).apply(this,arguments)}function iu(I,_){return oc.apply(this,arguments)}function oc(){return(oc=(0,u.Z)(function*(I,_){return nu(I,_)})).apply(this,arguments)}function su(I,_){return dn.apply(this,arguments)}function dn(){return(dn=(0,u.Z)(function*(I,_){return nu(I,_)})).apply(this,arguments)}function Yr(){return(Yr=(0,u.Z)(function*(I,_){return nu(I,_)})).apply(this,arguments)}function Qr(){return(Qr=(0,u.Z)(function*(I,_){return Tn(I,"POST","/v1/accounts:signInWithEmailLink",fe(I,_))})).apply(this,arguments)}function Td(){return(Td=(0,u.Z)(function*(I,_){return Tn(I,"POST","/v1/accounts:signInWithEmailLink",fe(I,_))})).apply(this,arguments)}class ba extends qc{constructor(_,y,T,P=null){super("password",T),this._email=_,this._password=y,this._tenantId=P}static _fromEmailAndPassword(_,y){return new ba(_,y,"password")}static _fromEmailAndCode(_,y,T=null){return new ba(_,y,"emailLink",T)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(_){const y="string"==typeof _?JSON.parse(_):_;if(y?.email&&y?.password){if("password"===y.signInMethod)return this._fromEmailAndPassword(y.email,y.password);if("emailLink"===y.signInMethod)return this._fromEmailAndCode(y.email,y.password,y.tenantId)}return null}_getIdTokenResponse(_){var y=this;return(0,u.Z)(function*(){var T;switch(y.signInMethod){case"password":const P={returnSecureToken:!0,email:y._email,password:y._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(T=_._getRecaptchaConfig())&&void 0!==T&&T.emailPasswordEnabled){const L=yield xo(_,P,"signInWithPassword");return tu(_,L)}return tu(_,P).catch(function(){var L=(0,u.Z)(function*(ne){if("auth/missing-recaptcha-token"===ne.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const me=yield xo(_,P,"signInWithPassword");return tu(_,me)}return Promise.reject(ne)});return function(ne){return L.apply(this,arguments)}}());case"emailLink":return function ac(I,_){return Qr.apply(this,arguments)}(_,{email:y._email,oobCode:y._password});default:ce(_,"internal-error")}})()}_linkToIdToken(_,y){var T=this;return(0,u.Z)(function*(){switch(T.signInMethod){case"password":return eu(_,{idToken:y,returnSecureToken:!0,email:T._email,password:T._password});case"emailLink":return function Sm(I,_){return Td.apply(this,arguments)}(_,{idToken:y,email:T._email,oobCode:T._password});default:ce(_,"internal-error")}})()}_getReauthenticationResolver(_){return this._getIdTokenResponse(_)}}function Xo(I,_){return cc.apply(this,arguments)}function cc(){return(cc=(0,u.Z)(function*(I,_){return Tn(I,"POST","/v1/accounts:signInWithIdp",fe(I,_))})).apply(this,arguments)}class ct extends qc{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(_){const y=new ct(_.providerId,_.signInMethod);return _.idToken||_.accessToken?(_.idToken&&(y.idToken=_.idToken),_.accessToken&&(y.accessToken=_.accessToken),_.nonce&&!_.pendingToken&&(y.nonce=_.nonce),_.pendingToken&&(y.pendingToken=_.pendingToken)):_.oauthToken&&_.oauthTokenSecret?(y.accessToken=_.oauthToken,y.secret=_.oauthTokenSecret):ce("argument-error"),y}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(_){const y="string"==typeof _?JSON.parse(_):_,{providerId:T,signInMethod:P}=y,L=(0,re._T)(y,["providerId","signInMethod"]);if(!T||!P)return null;const ne=new ct(T,P);return ne.idToken=L.idToken||void 0,ne.accessToken=L.accessToken||void 0,ne.secret=L.secret,ne.nonce=L.nonce,ne.pendingToken=L.pendingToken||null,ne}_getIdTokenResponse(_){return Xo(_,this.buildRequest())}_linkToIdToken(_,y){const T=this.buildRequest();return T.idToken=y,Xo(_,T)}_getReauthenticationResolver(_){const y=this.buildRequest();return y.autoCreate=!1,Xo(_,y)}buildRequest(){const _={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)_.pendingToken=this.pendingToken;else{const y={};this.idToken&&(y.id_token=this.idToken),this.accessToken&&(y.access_token=this.accessToken),this.secret&&(y.oauth_token_secret=this.secret),y.providerId=this.providerId,this.nonce&&!this.pendingToken&&(y.nonce=this.nonce),_.postBody=(0,H.xO)(y)}return _}}function Un(){return(Un=(0,u.Z)(function*(I,_){return Pe(I,"POST","/v1/accounts:sendVerificationCode",fe(I,_))})).apply(this,arguments)}function Ro(){return(Ro=(0,u.Z)(function*(I,_){return Tn(I,"POST","/v1/accounts:signInWithPhoneNumber",fe(I,_))})).apply(this,arguments)}function Ta(){return(Ta=(0,u.Z)(function*(I,_){const y=yield Tn(I,"POST","/v1/accounts:signInWithPhoneNumber",fe(I,_));if(y.temporaryProof)throw wn(I,"account-exists-with-different-credential",y);return y})).apply(this,arguments)}const er={USER_NOT_FOUND:"user-not-found"};function Jo(){return(Jo=(0,u.Z)(function*(I,_){return Tn(I,"POST","/v1/accounts:signInWithPhoneNumber",fe(I,Object.assign(Object.assign({},_),{operation:"REAUTH"})),er)})).apply(this,arguments)}class Lt extends qc{constructor(_){super("phone","phone"),this.params=_}static _fromVerification(_,y){return new Lt({verificationId:_,verificationCode:y})}static _fromTokenResponse(_,y){return new Lt({phoneNumber:_,temporaryProof:y})}_getIdTokenResponse(_){return function Xi(I,_){return Ro.apply(this,arguments)}(_,this._makeVerificationRequest())}_linkToIdToken(_,y){return function wi(I,_){return Ta.apply(this,arguments)}(_,Object.assign({idToken:y},this._makeVerificationRequest()))}_getReauthenticationResolver(_){return function Mo(I,_){return Jo.apply(this,arguments)}(_,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:_,phoneNumber:y,verificationId:T,verificationCode:P}=this.params;return _&&y?{temporaryProof:_,phoneNumber:y}:{sessionInfo:T,code:P}}toJSON(){const _={providerId:this.providerId};return this.params.phoneNumber&&(_.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(_.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(_.verificationCode=this.params.verificationCode),this.params.verificationId&&(_.verificationId=this.params.verificationId),_}static fromJSON(_){"string"==typeof _&&(_=JSON.parse(_));const{verificationId:y,verificationCode:T,phoneNumber:P,temporaryProof:L}=_;return T||y||P||L?new Lt({verificationId:y,verificationCode:T,phoneNumber:P,temporaryProof:L}):null}}class Ji{constructor(_){var y,T,P,L,ne,me;const nt=(0,H.zd)((0,H.pd)(_)),ut=null!==(y=nt.apiKey)&&void 0!==y?y:null,Mt=null!==(T=nt.oobCode)&&void 0!==T?T:null,hn=function Ls(I){switch(I){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(P=nt.mode)&&void 0!==P?P:null);W(ut&&Mt&&hn,"argument-error"),this.apiKey=ut,this.operation=hn,this.code=Mt,this.continueUrl=null!==(L=nt.continueUrl)&&void 0!==L?L:null,this.languageCode=null!==(ne=nt.languageCode)&&void 0!==ne?ne:null,this.tenantId=null!==(me=nt.tenantId)&&void 0!==me?me:null}static parseLink(_){const y=function _f(I){const _=(0,H.zd)((0,H.pd)(I)).link,y=_?(0,H.zd)((0,H.pd)(_)).deep_link_id:null,T=(0,H.zd)((0,H.pd)(I)).deep_link_id;return(T?(0,H.zd)((0,H.pd)(T)).link:null)||T||y||_||I}(_);try{return new Ji(y)}catch{return null}}}let lc=(()=>{class I{constructor(){this.providerId=I.PROVIDER_ID}static credential(y,T){return ba._fromEmailAndPassword(y,T)}static credentialWithLink(y,T){const P=Ji.parseLink(T);return W(P,"argument-error"),ba._fromEmailAndCode(y,P.code,P.tenantId)}}return I.PROVIDER_ID="password",I.EMAIL_PASSWORD_SIGN_IN_METHOD="password",I.EMAIL_LINK_SIGN_IN_METHOD="emailLink",I})();class es{constructor(_){this.providerId=_,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(_){this.defaultLanguageCode=_}setCustomParameters(_){return this.customParameters=_,this}getCustomParameters(){return this.customParameters}}class Ei extends es{constructor(){super(...arguments),this.scopes=[]}addScope(_){return this.scopes.includes(_)||this.scopes.push(_),this}getScopes(){return[...this.scopes]}}class ea extends Ei{static credentialFromJSON(_){const y="string"==typeof _?JSON.parse(_):_;return W("providerId"in y&&"signInMethod"in y,"argument-error"),ct._fromParams(y)}credential(_){return this._credential(Object.assign(Object.assign({},_),{nonce:_.rawNonce}))}_credential(_){return W(_.idToken||_.accessToken,"argument-error"),ct._fromParams(Object.assign(Object.assign({},_),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(_){return ea.oauthCredentialFromTaggedObject(_)}static credentialFromError(_){return ea.oauthCredentialFromTaggedObject(_.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthIdToken:y,oauthAccessToken:T,oauthTokenSecret:P,pendingToken:L,nonce:ne,providerId:me}=_;if(!T&&!P&&!y&&!L||!me)return null;try{return new ea(me)._credential({idToken:y,accessToken:T,nonce:ne,pendingToken:L})}catch{return null}}}let ou=(()=>{class I extends Ei{constructor(){super("facebook.com")}static credential(y){return ct._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.FACEBOOK_SIGN_IN_METHOD,accessToken:y})}static credentialFromResult(y){return I.credentialFromTaggedObject(y)}static credentialFromError(y){return I.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y||!("oauthAccessToken"in y)||!y.oauthAccessToken)return null;try{return I.credential(y.oauthAccessToken)}catch{return null}}}return I.FACEBOOK_SIGN_IN_METHOD="facebook.com",I.PROVIDER_ID="facebook.com",I})(),Ca=(()=>{class I extends Ei{constructor(){super("google.com"),this.addScope("profile")}static credential(y,T){return ct._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.GOOGLE_SIGN_IN_METHOD,idToken:y,accessToken:T})}static credentialFromResult(y){return I.credentialFromTaggedObject(y)}static credentialFromError(y){return I.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{oauthIdToken:T,oauthAccessToken:P}=y;if(!T&&!P)return null;try{return I.credential(T,P)}catch{return null}}}return I.GOOGLE_SIGN_IN_METHOD="google.com",I.PROVIDER_ID="google.com",I})(),vs=(()=>{class I extends Ei{constructor(){super("github.com")}static credential(y){return ct._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.GITHUB_SIGN_IN_METHOD,accessToken:y})}static credentialFromResult(y){return I.credentialFromTaggedObject(y)}static credentialFromError(y){return I.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y||!("oauthAccessToken"in y)||!y.oauthAccessToken)return null;try{return I.credential(y.oauthAccessToken)}catch{return null}}}return I.GITHUB_SIGN_IN_METHOD="github.com",I.PROVIDER_ID="github.com",I})();class ts extends qc{constructor(_,y){super(_,_),this.pendingToken=y}_getIdTokenResponse(_){return Xo(_,this.buildRequest())}_linkToIdToken(_,y){const T=this.buildRequest();return T.idToken=y,Xo(_,T)}_getReauthenticationResolver(_){const y=this.buildRequest();return y.autoCreate=!1,Xo(_,y)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(_){const y="string"==typeof _?JSON.parse(_):_,{providerId:T,signInMethod:P,pendingToken:L}=y;return T&&P&&L&&T===P?new ts(T,L):null}static _create(_,y){return new ts(_,y)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Cd extends es{constructor(_){W(_.startsWith("saml."),"argument-error"),super(_)}static credentialFromResult(_){return Cd.samlCredentialFromTaggedObject(_)}static credentialFromError(_){return Cd.samlCredentialFromTaggedObject(_.customData||{})}static credentialFromJSON(_){const y=ts.fromJSON(_);return W(y,"argument-error"),y}static samlCredentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{pendingToken:y,providerId:T}=_;if(!y||!T)return null;try{return ts._create(T,y)}catch{return null}}}let Dd=(()=>{class I extends Ei{constructor(){super("twitter.com")}static credential(y,T){return ct._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.TWITTER_SIGN_IN_METHOD,oauthToken:y,oauthTokenSecret:T})}static credentialFromResult(y){return I.credentialFromTaggedObject(y)}static credentialFromError(y){return I.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{oauthAccessToken:T,oauthTokenSecret:P}=y;if(!T||!P)return null;try{return I.credential(T,P)}catch{return null}}}return I.TWITTER_SIGN_IN_METHOD="twitter.com",I.PROVIDER_ID="twitter.com",I})();function uc(I,_){return Xr.apply(this,arguments)}function Xr(){return(Xr=(0,u.Z)(function*(I,_){return Tn(I,"POST","/v1/accounts:signUp",fe(I,_))})).apply(this,arguments)}class oi{constructor(_){this.user=_.user,this.providerId=_.providerId,this._tokenResponse=_._tokenResponse,this.operationType=_.operationType}static _fromIdTokenResponse(_,y,T,P=!1){return(0,u.Z)(function*(){const L=yield Q._fromIdTokenResponse(_,T,P),ne=ta(T);return new oi({user:L,providerId:ne,_tokenResponse:T,operationType:y})})()}static _forOperation(_,y,T){return(0,u.Z)(function*(){yield _._updateTokensIfNecessary(T,!0);const P=ta(T);return new oi({user:_,providerId:P,_tokenResponse:T,operationType:y})})()}}function ta(I){return I.providerId?I.providerId:"phoneNumber"in I?"phone":null}function Da(I){return kr.apply(this,arguments)}function kr(){return(kr=(0,u.Z)(function*(I){var _;const y=cr(I);if(yield y._initializationPromise,null!==(_=y.currentUser)&&void 0!==_&&_.isAnonymous)return new oi({user:y.currentUser,providerId:null,operationType:"signIn"});const T=yield uc(y,{returnSecureToken:!0}),P=yield oi._fromIdTokenResponse(y,"signIn",T,!0);return yield y._updateCurrentUser(P.user),P})).apply(this,arguments)}class yf extends H.ZR{constructor(_,y,T,P){var L;super(y.code,y.message),this.operationType=T,this.user=P,Object.setPrototypeOf(this,yf.prototype),this.customData={appName:_.name,tenantId:null!==(L=_.tenantId)&&void 0!==L?L:void 0,_serverResponse:y.customData._serverResponse,operationType:T}}static _fromErrorAndOperation(_,y,T,P){return new yf(_,y,T,P)}}function ai(I,_,y,T){return("reauthenticate"===_?y._getReauthenticationResolver(I):y._getIdTokenResponse(I)).catch(L=>{throw"auth/multi-factor-auth-required"===L.code?yf._fromErrorAndOperation(I,L,_,T):L})}function ci(I){return new Set(I.map(({providerId:_})=>_).filter(_=>!!_))}function Ad(I,_){return Po.apply(this,arguments)}function Po(){return Po=(0,u.Z)(function*(I,_){const y=(0,H.m9)(I);yield Aa(!0,y,_);const{providerUserInfo:T}=yield function En(I,_){return fr.apply(this,arguments)}(y.auth,{idToken:yield y.getIdToken(),deleteProvider:[_]}),P=ci(T||[]);return y.providerData=y.providerData.filter(L=>P.has(L.providerId)),P.has("phone")||(y.phoneNumber=null),yield y.auth._persistUserIfCurrent(y),y}),Po.apply(this,arguments)}function ns(I,_){return Vi.apply(this,arguments)}function Vi(){return(Vi=(0,u.Z)(function*(I,_,y=!1){const T=yield an(I,_._linkToIdToken(I.auth,yield I.getIdToken()),y);return oi._forOperation(I,"link",T)})).apply(this,arguments)}function Aa(I,_,y){return Wc.apply(this,arguments)}function Wc(){return(Wc=(0,u.Z)(function*(I,_,y){yield Ni(_);const P=!1===I?"provider-already-linked":"no-such-provider";W(ci(_.providerData).has(y)===I,_.auth,P)})).apply(this,arguments)}function vf(I,_){return xm.apply(this,arguments)}function xm(){return(xm=(0,u.Z)(function*(I,_,y=!1){const{auth:T}=I,P="reauthenticate";try{const L=yield an(I,ai(T,P,_,I),y);W(L.idToken,T,"internal-error");const ne=Ft(L.idToken);W(ne,T,"internal-error");const{sub:me}=ne;return W(I.uid===me,T,"user-mismatch"),oi._forOperation(I,P,L)}catch(L){throw"auth/user-not-found"===L?.code&&ce(T,"user-mismatch"),L}})).apply(this,arguments)}function Sd(I,_){return cu.apply(this,arguments)}function cu(){return(cu=(0,u.Z)(function*(I,_,y=!1){const T="signIn",P=yield ai(I,T,_),L=yield oi._fromIdTokenResponse(I,T,P);return y||(yield I._updateCurrentUser(L.user)),L})).apply(this,arguments)}function xd(I,_){return wf.apply(this,arguments)}function wf(){return(wf=(0,u.Z)(function*(I,_){return Sd(cr(I),_)})).apply(this,arguments)}function Rm(I,_){return Mm.apply(this,arguments)}function Mm(){return(Mm=(0,u.Z)(function*(I,_){const y=(0,H.m9)(I);return yield Aa(!1,y,_.providerId),ns(y,_)})).apply(this,arguments)}function tr(I,_){return Pm.apply(this,arguments)}function Pm(){return(Pm=(0,u.Z)(function*(I,_){return vf((0,H.m9)(I),_)})).apply(this,arguments)}function km(){return(km=(0,u.Z)(function*(I,_){return Tn(I,"POST","/v1/accounts:signInWithCustomToken",fe(I,_))})).apply(this,arguments)}function q0(I,_){return lu.apply(this,arguments)}function lu(){return lu=(0,u.Z)(function*(I,_){const y=cr(I),T=yield function G0(I,_){return km.apply(this,arguments)}(y,{token:_,returnSecureToken:!0}),P=yield oi._fromIdTokenResponse(y,"signIn",T);return yield y._updateCurrentUser(P.user),P}),lu.apply(this,arguments)}class Vs{constructor(_,y){this.factorId=_,this.uid=y.mfaEnrollmentId,this.enrollmentTime=new Date(y.enrolledAt).toUTCString(),this.displayName=y.displayName}static _fromServerResponse(_,y){return"phoneInfo"in y?Nm._fromServerResponse(_,y):"totpInfo"in y?dc._fromServerResponse(_,y):ce(_,"internal-error")}}class Nm extends Vs{constructor(_){super("phone",_),this.phoneNumber=_.phoneInfo}static _fromServerResponse(_,y){return new Nm(y)}}class dc extends Vs{constructor(_){super("totp",_)}static _fromServerResponse(_,y){return new dc(y)}}function hc(I,_,y){var T;W((null===(T=y.url)||void 0===T?void 0:T.length)>0,I,"invalid-continue-uri"),W(typeof y.dynamicLinkDomain>"u"||y.dynamicLinkDomain.length>0,I,"invalid-dynamic-link-domain"),_.continueUrl=y.url,_.dynamicLinkDomain=y.dynamicLinkDomain,_.canHandleCodeInApp=y.handleCodeInApp,y.iOS&&(W(y.iOS.bundleId.length>0,I,"missing-ios-bundle-id"),_.iOSBundleId=y.iOS.bundleId),y.android&&(W(y.android.packageName.length>0,I,"missing-android-pkg-name"),_.androidInstallApp=y.android.installApp,_.androidMinimumVersionCode=y.android.minimumVersion,_.androidPackageName=y.android.packageName)}function hy(I,_,y){return Om.apply(this,arguments)}function Om(){return Om=(0,u.Z)(function*(I,_,y){var T;const P=cr(I),L={requestType:"PASSWORD_RESET",email:_,clientType:"CLIENT_TYPE_WEB"};if(null!==(T=P._getRecaptchaConfig())&&void 0!==T&&T.emailPasswordEnabled){const ne=yield xo(P,L,"getOobCode",!0);y&&hc(P,ne,y),yield iu(P,ne)}else y&&hc(P,L,y),yield iu(P,L).catch(function(){var ne=(0,u.Z)(function*(me){if("auth/missing-recaptcha-token"!==me.code)return Promise.reject(me);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const nt=yield xo(P,L,"getOobCode",!0);y&&hc(P,nt,y),yield iu(P,nt)}});return function(me){return ne.apply(this,arguments)}}())}),Om.apply(this,arguments)}function Rd(I,_,y){return ko.apply(this,arguments)}function ko(){return(ko=(0,u.Z)(function*(I,_,y){yield wd((0,H.m9)(I),{oobCode:_,newPassword:y})})).apply(this,arguments)}function na(I,_){return uu.apply(this,arguments)}function uu(){return uu=(0,u.Z)(function*(I,_){yield function dy(I,_){return Li.apply(this,arguments)}((0,H.m9)(I),{oobCode:_})}),uu.apply(this,arguments)}function rs(I,_){return Er.apply(this,arguments)}function Er(){return(Er=(0,u.Z)(function*(I,_){const y=(0,H.m9)(I),T=yield wd(y,{oobCode:_}),P=T.requestType;switch(W(P,y,"internal-error"),P){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":W(T.newEmail,y,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":W(T.mfaInfo,y,"internal-error");default:W(T.email,y,"internal-error")}let L=null;return T.mfaInfo&&(L=Vs._fromServerResponse(cr(y),T.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===T.requestType?T.newEmail:T.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===T.requestType?T.email:T.newEmail)||null,multiFactorInfo:L},operation:P}})).apply(this,arguments)}function Kc(I,_){return li.apply(this,arguments)}function li(){return(li=(0,u.Z)(function*(I,_){const{data:y}=yield rs((0,H.m9)(I),_);return y.email})).apply(this,arguments)}function Sa(I,_,y){return Zc.apply(this,arguments)}function Zc(){return Zc=(0,u.Z)(function*(I,_,y){var T;const P=cr(I),L={returnSecureToken:!0,email:_,password:y,clientType:"CLIENT_TYPE_WEB"};let ne;if(null!==(T=P._getRecaptchaConfig())&&void 0!==T&&T.emailPasswordEnabled){const ut=yield xo(P,L,"signUpPassword");ne=uc(P,ut)}else ne=uc(P,L).catch(function(){var ut=(0,u.Z)(function*(Mt){if("auth/missing-recaptcha-token"===Mt.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const hn=yield xo(P,L,"signUpPassword");return uc(P,hn)}return Promise.reject(Mt)});return function(Mt){return ut.apply(this,arguments)}}());const me=yield ne.catch(ut=>Promise.reject(ut)),nt=yield oi._fromIdTokenResponse(P,"signIn",me);return yield P._updateCurrentUser(nt.user),nt}),Zc.apply(this,arguments)}function Md(I,_,y){return xd((0,H.m9)(I),lc.credential(_,y))}function Ef(I,_,y){return ra.apply(this,arguments)}function ra(){return ra=(0,u.Z)(function*(I,_,y){var T;const P=cr(I),L={requestType:"EMAIL_SIGNIN",email:_,clientType:"CLIENT_TYPE_WEB"};function ne(me,nt){W(nt.handleCodeInApp,P,"argument-error"),nt&&hc(P,me,nt)}if(null!==(T=P._getRecaptchaConfig())&&void 0!==T&&T.emailPasswordEnabled){const me=yield xo(P,L,"getOobCode",!0);ne(me,y),yield su(P,me)}else ne(L,y),yield su(P,L).catch(function(){var me=(0,u.Z)(function*(nt){if("auth/missing-recaptcha-token"!==nt.code)return Promise.reject(nt);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const ut=yield xo(P,L,"getOobCode",!0);ne(ut,y),yield su(P,ut)}});return function(nt){return me.apply(this,arguments)}}())}),ra.apply(this,arguments)}function Pd(I,_){const y=Ji.parseLink(_);return"EMAIL_SIGNIN"===y?.operation}function kd(I,_,y){return mr.apply(this,arguments)}function mr(){return(mr=(0,u.Z)(function*(I,_,y){const T=(0,H.m9)(I),P=lc.credentialWithLink(_,y||Rt());return W(P._tenantId===(T.tenantId||null),T,"tenant-id-mismatch"),xd(T,P)})).apply(this,arguments)}function Yc(){return(Yc=(0,u.Z)(function*(I,_){return Pe(I,"POST","/v1/accounts:createAuthUri",fe(I,_))})).apply(this,arguments)}function Lm(I,_){return xa.apply(this,arguments)}function xa(){return xa=(0,u.Z)(function*(I,_){const T={identifier:_,continueUri:gn()?Rt():"http://localhost"},{signinMethods:P}=yield function Fm(I,_){return Yc.apply(this,arguments)}((0,H.m9)(I),T);return P||[]}),xa.apply(this,arguments)}function Qc(I,_){return to.apply(this,arguments)}function to(){return to=(0,u.Z)(function*(I,_){const y=(0,H.m9)(I),P={requestType:"VERIFY_EMAIL",idToken:yield I.getIdToken()};_&&hc(y.auth,P,_);const{email:L}=yield function bd(I,_){return ru.apply(this,arguments)}(y.auth,P);L!==I.email&&(yield I.reload())}),to.apply(this,arguments)}function Nd(I,_,y){return du.apply(this,arguments)}function du(){return du=(0,u.Z)(function*(I,_,y){const T=(0,H.m9)(I),L={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield I.getIdToken(),newEmail:_};y&&hc(T.auth,L,y);const{email:ne}=yield function Mr(I,_){return Yr.apply(this,arguments)}(T.auth,L);ne!==I.email&&(yield I.reload())}),du.apply(this,arguments)}function Jc(){return(Jc=(0,u.Z)(function*(I,_){return Pe(I,"POST","/v1/accounts:update",_)})).apply(this,arguments)}function Od(I,_){return If.apply(this,arguments)}function If(){return If=(0,u.Z)(function*(I,{displayName:_,photoURL:y}){if(void 0===_&&void 0===y)return;const T=(0,H.m9)(I),L={idToken:yield T.getIdToken(),displayName:_,photoUrl:y,returnSecureToken:!0},ne=yield an(T,function Xc(I,_){return Jc.apply(this,arguments)}(T.auth,L));T.displayName=ne.displayName||null,T.photoURL=ne.photoUrl||null;const me=T.providerData.find(({providerId:nt})=>"password"===nt);me&&(me.displayName=T.displayName,me.photoURL=T.photoURL),yield T._updateTokensIfNecessary(ne)}),If.apply(this,arguments)}function Vm(I,_){return el((0,H.m9)(I),_,null)}function bf(I,_){return el((0,H.m9)(I),null,_)}function el(I,_,y){return Tf.apply(this,arguments)}function Tf(){return(Tf=(0,u.Z)(function*(I,_,y){const{auth:T}=I,L={idToken:yield I.getIdToken(),returnSecureToken:!0};_&&(L.email=_),y&&(L.password=y);const ne=yield an(I,eu(T,L));yield I._updateTokensIfNecessary(ne,!0)})).apply(this,arguments)}class tl{constructor(_,y,T={}){this.isNewUser=_,this.providerId=y,this.profile=T}}class Cf extends tl{constructor(_,y,T,P){super(_,y,T),this.username=P}}class fu extends tl{constructor(_,y){super(_,"facebook.com",y)}}class Fd extends Cf{constructor(_,y){super(_,"github.com",y,"string"==typeof y?.login?y?.login:null)}}class Df extends tl{constructor(_,y){super(_,"google.com",y)}}class pu extends Cf{constructor(_,y,T){super(_,"twitter.com",y,T)}}function nl(I){const{user:_,_tokenResponse:y}=I;return _.isAnonymous&&!y?{providerId:null,isNewUser:!1,profile:null}:function hu(I){var _,y;if(!I)return null;const{providerId:T}=I,P=I.rawUserInfo?JSON.parse(I.rawUserInfo):{},L=I.isNewUser||"identitytoolkit#SignupNewUserResponse"===I.kind;if(!T&&I?.idToken){const ne=null===(y=null===(_=Ft(I.idToken))||void 0===_?void 0:_.firebase)||void 0===y?void 0:y.sign_in_provider;if(ne)return new tl(L,"anonymous"!==ne&&"custom"!==ne?ne:null)}if(!T)return null;switch(T){case"facebook.com":return new fu(L,P);case"github.com":return new Fd(L,P);case"google.com":return new Df(L,P);case"twitter.com":return new pu(L,P,I.screenName||null);case"custom":case"anonymous":return new tl(L,null);default:return new tl(L,T,P)}}(y)}class Us{constructor(_,y,T){this.type=_,this.credential=y,this.auth=T}static _fromIdtoken(_,y){return new Us("enroll",_,y)}static _fromMfaPendingCredential(_){return new Us("signin",_)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(_){var y,T;if(_?.multiFactorSession){if(null!==(y=_.multiFactorSession)&&void 0!==y&&y.pendingCredential)return Us._fromMfaPendingCredential(_.multiFactorSession.pendingCredential);if(null!==(T=_.multiFactorSession)&&void 0!==T&&T.idToken)return Us._fromIdtoken(_.multiFactorSession.idToken)}return null}}class fc{constructor(_,y,T){this.session=_,this.hints=y,this.signInResolver=T}static _fromError(_,y){const T=cr(_),P=y.customData._serverResponse,L=(P.mfaInfo||[]).map(me=>Vs._fromServerResponse(T,me));W(P.mfaPendingCredential,T,"internal-error");const ne=Us._fromMfaPendingCredential(P.mfaPendingCredential);return new fc(ne,L,function(){var me=(0,u.Z)(function*(nt){const ut=yield nt._process(T,ne);delete P.mfaInfo,delete P.mfaPendingCredential;const Mt=Object.assign(Object.assign({},P),{idToken:ut.idToken,refreshToken:ut.refreshToken});switch(y.operationType){case"signIn":const hn=yield oi._fromIdTokenResponse(T,y.operationType,Mt);return yield T._updateCurrentUser(hn.user),hn;case"reauthenticate":return W(y.user,T,"internal-error"),oi._forOperation(y.user,y.operationType,Mt);default:ce(T,"internal-error")}});return function(nt){return me.apply(this,arguments)}}())}resolveSignIn(_){var y=this;return(0,u.Z)(function*(){return y.signInResolver(_)})()}}function il(I,_){var y;const T=(0,H.m9)(I),P=_;return W(_.customData.operationType,T,"argument-error"),W(null===(y=P.customData._serverResponse)||void 0===y?void 0:y.mfaPendingCredential,T,"argument-error"),fc._fromError(T,P)}class _u{constructor(_){this.user=_,this.enrolledFactors=[],_._onReload(y=>{y.mfaInfo&&(this.enrolledFactors=y.mfaInfo.map(T=>Vs._fromServerResponse(_.auth,T)))})}static _fromUser(_){return new _u(_)}getSession(){var _=this;return(0,u.Z)(function*(){return Us._fromIdtoken(yield _.user.getIdToken(),_.user.auth)})()}enroll(_,y){var T=this;return(0,u.Z)(function*(){const P=_,L=yield T.getSession(),ne=yield an(T.user,P._process(T.user.auth,L,y));return yield T.user._updateTokensIfNecessary(ne),T.user.reload()})()}unenroll(_){var y=this;return(0,u.Z)(function*(){const T="string"==typeof _?_:_.uid,P=yield y.user.getIdToken();try{const L=yield an(y.user,function Sf(I,_){return Pe(I,"POST","/v2/accounts/mfaEnrollment:withdraw",fe(I,_))}(y.user.auth,{idToken:P,mfaEnrollmentId:T}));y.enrolledFactors=y.enrolledFactors.filter(({uid:ne})=>ne!==T),yield y.user._updateTokensIfNecessary(L),yield y.user.reload()}catch(L){throw L}})()}}const Cn=new WeakMap;function ol(I){const _=(0,H.m9)(I);return Cn.has(_)||Cn.set(_,_u._fromUser(_)),Cn.get(_)}const no="__sak";class Ii{constructor(_,y){this.storageRetriever=_,this.type=y}_isAvailable(){try{return this.storage?(this.storage.setItem(no,"1"),this.storage.removeItem(no),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(_,y){return this.storage.setItem(_,JSON.stringify(y)),Promise.resolve()}_get(_){const y=this.storage.getItem(_);return Promise.resolve(y?JSON.parse(y):null)}_remove(_){return this.storage.removeItem(_),Promise.resolve()}get storage(){return this.storageRetriever()}}const jd=(()=>{class I extends Ii{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(y,T)=>this.onStorageEvent(y,T),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function gy(){const I=(0,H.z$)();return B(I)||pt(I)}()&&function Oi(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=tn(),this._shouldAllowMigration=!0}forAllChangedKeys(y){for(const T of Object.keys(this.listeners)){const P=this.storage.getItem(T),L=this.localCache[T];P!==L&&y(T,L,P)}}onStorageEvent(y,T=!1){if(!y.key)return void this.forAllChangedKeys((me,nt,ut)=>{this.notifyListeners(me,ut)});const P=y.key;if(T?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const me=this.storage.getItem(P);if(y.newValue!==me)null!==y.newValue?this.storage.setItem(P,y.newValue):this.storage.removeItem(P);else if(this.localCache[P]===y.newValue&&!T)return}const L=()=>{const me=this.storage.getItem(P);!T&&this.localCache[P]===me||this.notifyListeners(P,me)},ne=this.storage.getItem(P);!function Pn(){return(0,H.w1)()&&10===document.documentMode}()||ne===y.newValue||y.newValue===y.oldValue?L():setTimeout(L,10)}notifyListeners(y,T){this.localCache[y]=T;const P=this.listeners[y];if(P)for(const L of Array.from(P))L(T&&JSON.parse(T))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((y,T,P)=>{this.onStorageEvent(new StorageEvent("storage",{key:y,oldValue:T,newValue:P}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(y,T){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[y]||(this.listeners[y]=new Set,this.localCache[y]=this.storage.getItem(y)),this.listeners[y].add(T)}_removeListener(y,T){this.listeners[y]&&(this.listeners[y].delete(T),0===this.listeners[y].size&&delete this.listeners[y]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(y,T){var P=()=>super._set,L=this;return(0,u.Z)(function*(){yield P().call(L,y,T),L.localCache[y]=JSON.stringify(T)})()}_get(y){var T=()=>super._get,P=this;return(0,u.Z)(function*(){const L=yield T().call(P,y);return P.localCache[y]=JSON.stringify(L),L})()}_remove(y){var T=()=>super._remove,P=this;return(0,u.Z)(function*(){yield T().call(P,y),delete P.localCache[y]})()}}return I.type="LOCAL",I})(),yu=(()=>{class I extends Ii{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(y,T){}_removeListener(y,T){}}return I.type="SESSION",I})();let jm=(()=>{class I{constructor(y){this.eventTarget=y,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(y){const T=this.receivers.find(L=>L.isListeningto(y));if(T)return T;const P=new I(y);return this.receivers.push(P),P}isListeningto(y){return this.eventTarget===y}handleEvent(y){var T=this;return(0,u.Z)(function*(){const P=y,{eventId:L,eventType:ne,data:me}=P.data,nt=T.handlersMap[ne];if(!nt?.size)return;P.ports[0].postMessage({status:"ack",eventId:L,eventType:ne});const ut=Array.from(nt).map(function(){var hn=(0,u.Z)(function*(ji){return ji(P.origin,me)});return function(ji){return hn.apply(this,arguments)}}()),Mt=yield function Ma(I){return Promise.all(I.map(function(){var _=(0,u.Z)(function*(y){try{return{fulfilled:!0,value:yield y}}catch(T){return{fulfilled:!1,reason:T}}});return function(y){return _.apply(this,arguments)}}()))}(ut);P.ports[0].postMessage({status:"done",eventId:L,eventType:ne,response:Mt})})()}_subscribe(y,T){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[y]||(this.handlersMap[y]=new Set),this.handlersMap[y].add(T)}_unsubscribe(y,T){this.handlersMap[y]&&T&&this.handlersMap[y].delete(T),(!T||0===this.handlersMap[y].size)&&delete this.handlersMap[y],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return I.receivers=[],I})();function Pa(I="",_=10){let y="";for(let T=0;T<_;T++)y+=Math.floor(10*Math.random());return I+y}class _y{constructor(_){this.target=_,this.handlers=new Set}removeMessageHandler(_){_.messageChannel&&(_.messageChannel.port1.removeEventListener("message",_.onMessage),_.messageChannel.port1.close()),this.handlers.delete(_)}_send(_,y,T=50){var P=this;return(0,u.Z)(function*(){const L=typeof MessageChannel<"u"?new MessageChannel:null;if(!L)throw new Error("connection_unavailable");let ne,me;return new Promise((nt,ut)=>{const Mt=Pa("",20);L.port1.start();const hn=setTimeout(()=>{ut(new Error("unsupported_event"))},T);me={messageChannel:L,onMessage(ji){const lo=ji;if(lo.data.eventId===Mt)switch(lo.data.status){case"ack":clearTimeout(hn),ne=setTimeout(()=>{ut(new Error("timeout"))},3e3);break;case"done":clearTimeout(ne),nt(lo.data.response);break;default:clearTimeout(hn),clearTimeout(ne),ut(new Error("invalid_response"))}}},P.handlers.add(me),L.port1.addEventListener("message",me.onMessage),P.target.postMessage({eventType:_,eventId:Mt,data:y},[L.port2])}).finally(()=>{me&&P.removeMessageHandler(me)})})()}}function Nr(){return window}function Rf(){return typeof Nr().WorkerGlobalScope<"u"&&"function"==typeof Nr().importScripts}function vu(){return(vu=(0,u.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Or="firebaseLocalStorageDb",Ir="firebaseLocalStorage",ia="fbase_key";class mc{constructor(_){this.request=_}toPromise(){return new Promise((_,y)=>{this.request.addEventListener("success",()=>{_(this.request.result)}),this.request.addEventListener("error",()=>{y(this.request.error)})})}}function $d(I,_){return I.transaction([Ir],_?"readwrite":"readonly").objectStore(Ir)}function Mf(){const I=indexedDB.open(Or,1);return new Promise((_,y)=>{I.addEventListener("error",()=>{y(I.error)}),I.addEventListener("upgradeneeded",()=>{const T=I.result;try{T.createObjectStore(Ir,{keyPath:ia})}catch(P){y(P)}}),I.addEventListener("success",(0,u.Z)(function*(){const T=I.result;T.objectStoreNames.contains(Ir)?_(T):(T.close(),yield function zm(){const I=indexedDB.deleteDatabase(Or);return new mc(I).toPromise()}(),_(yield Mf()))}))})}function Pf(I,_,y){return Ve.apply(this,arguments)}function Ve(){return(Ve=(0,u.Z)(function*(I,_,y){const T=$d(I,!0).put({[ia]:_,value:y});return new mc(T).toPromise()})).apply(this,arguments)}function is(){return(is=(0,u.Z)(function*(I,_){const y=$d(I,!1).get(_),T=yield new mc(y).toPromise();return void 0===T?null:T.value})).apply(this,arguments)}function zd(I,_){const y=$d(I,!0).delete(_);return new mc(y).toPromise()}const ro=(()=>{class I{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var y=this;return(0,u.Z)(function*(){return y.db||(y.db=yield Mf()),y.db})()}_withRetries(y){var T=this;return(0,u.Z)(function*(){let P=0;for(;;)try{const L=yield T._openDb();return yield y(L)}catch(L){if(P++>3)throw L;T.db&&(T.db.close(),T.db=void 0)}})()}initializeServiceWorkerMessaging(){var y=this;return(0,u.Z)(function*(){return Rf()?y.initializeReceiver():y.initializeSender()})()}initializeReceiver(){var y=this;return(0,u.Z)(function*(){y.receiver=jm._getInstance(function wu(){return Rf()?self:null}()),y.receiver._subscribe("keyChanged",function(){var T=(0,u.Z)(function*(P,L){return{keyProcessed:(yield y._poll()).includes(L.key)}});return function(P,L){return T.apply(this,arguments)}}()),y.receiver._subscribe("ping",function(){var T=(0,u.Z)(function*(P,L){return["keyChanged"]});return function(P,L){return T.apply(this,arguments)}}())})()}initializeSender(){var y=this;return(0,u.Z)(function*(){var T,P;if(y.activeServiceWorker=yield function zt(){return vu.apply(this,arguments)}(),!y.activeServiceWorker)return;y.sender=new _y(y.activeServiceWorker);const L=yield y.sender._send("ping",{},800);L&&null!==(T=L[0])&&void 0!==T&&T.fulfilled&&null!==(P=L[0])&&void 0!==P&&P.value.includes("keyChanged")&&(y.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(y){var T=this;return(0,u.Z)(function*(){if(T.sender&&T.activeServiceWorker&&function yy(){var I;return(null===(I=navigator?.serviceWorker)||void 0===I?void 0:I.controller)||null}()===T.activeServiceWorker)try{yield T.sender._send("keyChanged",{key:y},T.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,u.Z)(function*(){try{if(!indexedDB)return!1;const y=yield Mf();return yield Pf(y,no,"1"),yield zd(y,no),!0}catch{}return!1})()}_withPendingWrite(y){var T=this;return(0,u.Z)(function*(){T.pendingWrites++;try{yield y()}finally{T.pendingWrites--}})()}_set(y,T){var P=this;return(0,u.Z)(function*(){return P._withPendingWrite((0,u.Z)(function*(){return yield P._withRetries(L=>Pf(L,y,T)),P.localCache[y]=T,P.notifyServiceWorker(y)}))})()}_get(y){var T=this;return(0,u.Z)(function*(){const P=yield T._withRetries(L=>function mn(I,_){return is.apply(this,arguments)}(L,y));return T.localCache[y]=P,P})()}_remove(y){var T=this;return(0,u.Z)(function*(){return T._withPendingWrite((0,u.Z)(function*(){return yield T._withRetries(P=>zd(P,y)),delete T.localCache[y],T.notifyServiceWorker(y)}))})()}_poll(){var y=this;return(0,u.Z)(function*(){const T=yield y._withRetries(ne=>{const me=$d(ne,!1).getAll();return new mc(me).toPromise()});if(!T)return[];if(0!==y.pendingWrites)return[];const P=[],L=new Set;for(const{fbase_key:ne,value:me}of T)L.add(ne),JSON.stringify(y.localCache[ne])!==JSON.stringify(me)&&(y.notifyListeners(ne,me),P.push(ne));for(const ne of Object.keys(y.localCache))y.localCache[ne]&&!L.has(ne)&&(y.notifyListeners(ne,null),P.push(ne));return P})()}notifyListeners(y,T){this.localCache[y]=T;const P=this.listeners[y];if(P)for(const L of Array.from(P))L(T)}startPolling(){var y=this;this.stopPolling(),this.pollTimer=setInterval((0,u.Z)(function*(){return y._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(y,T){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[y]||(this.listeners[y]=new Set,this._get(y)),this.listeners[y].add(T)}_removeListener(y,T){this.listeners[y]&&(this.listeners[y].delete(T),0===this.listeners[y].size&&delete this.listeners[y]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return I.type="LOCAL",I})(),ei=1e12;class io{constructor(_){this.auth=_,this.counter=ei,this._widgets=new Map}render(_,y){const T=this.counter;return this._widgets.set(T,new Nf(_,this.auth.name,y||{})),this.counter++,T}reset(_){var y;const T=_||ei;null===(y=this._widgets.get(T))||void 0===y||y.delete(),this._widgets.delete(T)}getResponse(_){var y;return(null===(y=this._widgets.get(_||ei))||void 0===y?void 0:y.getResponse())||""}execute(_){var y=this;return(0,u.Z)(function*(){var T;return null===(T=y._widgets.get(_||ei))||void 0===T||T.execute(),""})()}}class Nf{constructor(_,y,T){this.params=T,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const P="string"==typeof _?document.getElementById(_):_;W(P,"argument-error",{appName:y}),this.container=P,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function ka(I){const _=[],y="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let T=0;T<I;T++)_.push(y.charAt(Math.floor(62*Math.random())));return _.join("")}(50);const{callback:_,"expired-callback":y}=this.params;if(_)try{_(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,y)try{y()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const so=So("rcb"),vy=new Mn(3e4,6e4);class Iu{constructor(){var _;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(_=Nr().grecaptcha)||void 0===_||!_.render)}load(_,y=""){return W(function wy(I){return I.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(I)}(y),_,"argument-error"),this.shouldResolveImmediately(y)&&pn(Nr().grecaptcha)?Promise.resolve(Nr().grecaptcha):new Promise((T,P)=>{const L=Nr().setTimeout(()=>{P(Me(_,"network-request-failed"))},vy.get());Nr()[so]=()=>{Nr().clearTimeout(L),delete Nr()[so];const me=Nr().grecaptcha;if(!me||!pn(me))return void P(Me(_,"internal-error"));const nt=me.render;me.render=(ut,Mt)=>{const hn=nt(ut,Mt);return this.counter++,hn},this.hostLanguage=y,T(me)},Xl(`https://www.google.com/recaptcha/api.js??${(0,H.xO)({onload:so,render:"explicit",hl:y})}`).catch(()=>{clearTimeout(L),P(Me(_,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(_){var y;return!(null===(y=Nr().grecaptcha)||void 0===y||!y.render)&&(_===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class bu{load(_){return(0,u.Z)(function*(){return new io(_)})()}clearedOneInstance(){}}const qd="recaptcha",Wd={theme:"light",type:"image"};class Ff{constructor(_,y=Object.assign({},Wd),T){this.parameters=y,this.type=qd,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=cr(T),this.isInvisible="invisible"===this.parameters.size,W(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const P="string"==typeof _?document.getElementById(_):_;W(P,this.auth,"argument-error"),this.container=P,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new bu:new Iu,this.validateStartingState()}verify(){var _=this;return(0,u.Z)(function*(){_.assertNotDestroyed();const y=yield _.render(),T=_.getAssertedRecaptcha();return T.getResponse(y)||new Promise(L=>{const ne=me=>{me&&(_.tokenChangeListeners.delete(ne),L(me))};_.tokenChangeListeners.add(ne),_.isInvisible&&T.execute(y)})})()}render(){try{this.assertNotDestroyed()}catch(_){return Promise.reject(_)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(_=>{throw this.renderPromise=null,_})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(_=>{this.container.removeChild(_)})}validateStartingState(){W(!this.parameters.sitekey,this.auth,"argument-error"),W(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),W(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(_){return y=>{if(this.tokenChangeListeners.forEach(T=>T(y)),"function"==typeof _)_(y);else if("string"==typeof _){const T=Nr()[_];"function"==typeof T&&T(y)}}}assertNotDestroyed(){W(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var _=this;return(0,u.Z)(function*(){if(yield _.init(),!_.widgetId){let y=_.container;if(!_.isInvisible){const T=document.createElement("div");y.appendChild(T),y=T}_.widgetId=_.getAssertedRecaptcha().render(y,_.parameters)}return _.widgetId})()}init(){var _=this;return(0,u.Z)(function*(){W(gn()&&!Rf(),_.auth,"internal-error"),yield function Lf(){let I=null;return new Promise(_=>{"complete"!==document.readyState?(I=()=>_(),window.addEventListener("load",I)):_()}).catch(_=>{throw I&&window.removeEventListener("load",I),_})}(),_.recaptcha=yield _._recaptchaLoader.load(_.auth,_.auth.languageCode||void 0);const y=yield function Ao(I){return Js.apply(this,arguments)}(_.auth);W(y,_.auth,"internal-error"),_.parameters.sitekey=y})()}getAssertedRecaptcha(){return W(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Kd{constructor(_,y){this.verificationId=_,this.onConfirmation=y}confirm(_){const y=Lt._fromVerification(this.verificationId,_);return this.onConfirmation(y)}}function di(I,_,y){return sa.apply(this,arguments)}function sa(){return(sa=(0,u.Z)(function*(I,_,y){const T=cr(I),P=yield ll(T,_,(0,H.m9)(y));return new Kd(P,L=>xd(T,L))})).apply(this,arguments)}function cl(I,_,y){return Bn.apply(this,arguments)}function Bn(){return(Bn=(0,u.Z)(function*(I,_,y){const T=(0,H.m9)(I);yield Aa(!1,T,"phone");const P=yield ll(T.auth,_,(0,H.m9)(y));return new Kd(P,L=>Rm(T,L))})).apply(this,arguments)}function xt(I,_,y){return br.apply(this,arguments)}function br(){return(br=(0,u.Z)(function*(I,_,y){const T=(0,H.m9)(I),P=yield ll(T.auth,_,(0,H.m9)(y));return new Kd(P,L=>tr(T,L))})).apply(this,arguments)}function ll(I,_,y){return Tu.apply(this,arguments)}function Tu(){return Tu=(0,u.Z)(function*(I,_,y){var T;const P=yield y.verify();try{let L;if(W("string"==typeof P,I,"argument-error"),W(y.type===qd,I,"argument-error"),L="string"==typeof _?{phoneNumber:_}:_,"session"in L){const ne=L.session;if("phoneNumber"in L)return W("enroll"===ne.type,I,"internal-error"),(yield function Af(I,_){return Pe(I,"POST","/v2/accounts/mfaEnrollment:start",fe(I,_))}(I,{idToken:ne.credential,phoneEnrollmentInfo:{phoneNumber:L.phoneNumber,recaptchaToken:P}})).phoneSessionInfo.sessionInfo;{W("signin"===ne.type,I,"internal-error");const me=(null===(T=L.multiFactorHint)||void 0===T?void 0:T.uid)||L.multiFactorUid;return W(me,I,"missing-multi-factor-info"),(yield function kf(I,_){return Pe(I,"POST","/v2/accounts/mfaSignIn:start",fe(I,_))}(I,{mfaPendingCredential:ne.credential,mfaEnrollmentId:me,phoneSignInInfo:{recaptchaToken:P}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:ne}=yield function Yt(I,_){return Un.apply(this,arguments)}(I,{phoneNumber:L.phoneNumber,recaptchaToken:P});return ne}}finally{y._reset()}}),Tu.apply(this,arguments)}function bi(I,_){return Bs.apply(this,arguments)}function Bs(){return(Bs=(0,u.Z)(function*(I,_){yield ns((0,H.m9)(I),_)})).apply(this,arguments)}let Yn=(()=>{class I{constructor(y){this.providerId=I.PROVIDER_ID,this.auth=cr(y)}verifyPhoneNumber(y,T){return ll(this.auth,y,(0,H.m9)(T))}static credential(y,T){return Lt._fromVerification(y,T)}static credentialFromResult(y){return I.credentialFromTaggedObject(y)}static credentialFromError(y){return I.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{phoneNumber:T,temporaryProof:P}=y;return T&&P?Lt._fromTokenResponse(T,P):null}}return I.PROVIDER_ID="phone",I.PHONE_SIGN_IN_METHOD="phone",I})();function No(I,_){return _?We(_):(W(I._popupRedirectResolver,I,"argument-error"),I._popupRedirectResolver)}class gc extends qc{constructor(_){super("custom","custom"),this.params=_}_getIdTokenResponse(_){return Xo(_,this._buildIdpRequest())}_linkToIdToken(_,y){return Xo(_,this._buildIdpRequest(y))}_getReauthenticationResolver(_){return Xo(_,this._buildIdpRequest())}_buildIdpRequest(_){const y={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return _&&(y.idToken=_),y}}function Vt(I){return Sd(I.auth,new gc(I),I.bypassAuthState)}function Vf(I){const{auth:_,user:y}=I;return W(y,_,"internal-error"),vf(y,new gc(I),I.bypassAuthState)}function Zd(I){return oa.apply(this,arguments)}function oa(){return(oa=(0,u.Z)(function*(I){const{auth:_,user:y}=I;return W(y,_,"internal-error"),ns(y,new gc(I),I.bypassAuthState)})).apply(this,arguments)}class oo{constructor(_,y,T,P,L=!1){this.auth=_,this.resolver=T,this.user=P,this.bypassAuthState=L,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(y)?y:[y]}execute(){var _=this;return new Promise(function(){var y=(0,u.Z)(function*(T,P){_.pendingPromise={resolve:T,reject:P};try{_.eventManager=yield _.resolver._initialize(_.auth),yield _.onExecution(),_.eventManager.registerConsumer(_)}catch(L){_.reject(L)}});return function(T,P){return y.apply(this,arguments)}}())}onAuthEvent(_){var y=this;return(0,u.Z)(function*(){const{urlResponse:T,sessionId:P,postBody:L,tenantId:ne,error:me,type:nt}=_;if(me)return void y.reject(me);const ut={auth:y.auth,requestUri:T,sessionId:P,tenantId:ne||void 0,postBody:L||void 0,user:y.user,bypassAuthState:y.bypassAuthState};try{y.resolve(yield y.getIdpTask(nt)(ut))}catch(Mt){y.reject(Mt)}})()}onError(_){this.reject(_)}getIdpTask(_){switch(_){case"signInViaPopup":case"signInViaRedirect":return Vt;case"linkViaPopup":case"linkViaRedirect":return Zd;case"reauthViaPopup":case"reauthViaRedirect":return Vf;default:ce(this.auth,"internal-error")}}resolve(_){et(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(_),this.unregisterAndCleanUp()}reject(_){et(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(_),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const ao=new Mn(2e3,1e4);function Wn(I,_,y){return aa.apply(this,arguments)}function aa(){return(aa=(0,u.Z)(function*(I,_,y){const T=cr(I);Ae(I,_,es);const P=No(T,y);return new Na(T,"signInViaPopup",_,P).executeNotNull()})).apply(this,arguments)}function _c(I,_,y){return yc.apply(this,arguments)}function yc(){return(yc=(0,u.Z)(function*(I,_,y){const T=(0,H.m9)(I);Ae(T.auth,_,es);const P=No(T.auth,y);return new Na(T.auth,"reauthViaPopup",_,P,T).executeNotNull()})).apply(this,arguments)}function Cu(I,_,y){return Yd.apply(this,arguments)}function Yd(){return(Yd=(0,u.Z)(function*(I,_,y){const T=(0,H.m9)(I);Ae(T.auth,_,es);const P=No(T.auth,y);return new Na(T.auth,"linkViaPopup",_,P,T).executeNotNull()})).apply(this,arguments)}let Na=(()=>{class I extends oo{constructor(y,T,P,L,ne){super(y,T,L,ne),this.provider=P,this.authWindow=null,this.pollId=null,I.currentPopupAction&&I.currentPopupAction.cancel(),I.currentPopupAction=this}executeNotNull(){var y=this;return(0,u.Z)(function*(){const T=yield y.execute();return W(T,y.auth,"internal-error"),T})()}onExecution(){var y=this;return(0,u.Z)(function*(){et(1===y.filter.length,"Popup operations only handle one event");const T=Pa();y.authWindow=yield y.resolver._openPopup(y.auth,y.provider,y.filter[0],T),y.authWindow.associatedEvent=T,y.resolver._originValidation(y.auth).catch(P=>{y.reject(P)}),y.resolver._isIframeWebStorageSupported(y.auth,P=>{P||y.reject(Me(y.auth,"web-storage-unsupported"))}),y.pollUserCancellation()})()}get eventId(){var y;return(null===(y=this.authWindow)||void 0===y?void 0:y.associatedEvent)||null}cancel(){this.reject(Me(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,I.currentPopupAction=null}pollUserCancellation(){const y=()=>{var T,P;this.pollId=null!==(P=null===(T=this.authWindow)||void 0===T?void 0:T.window)&&void 0!==P&&P.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Me(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(y,ao.get())};y()}}return I.currentPopupAction=null,I})();const ul="pendingRedirect",Es=new Map;class Oa extends oo{constructor(_,y,T=!1){super(_,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],y,void 0,T),this.eventId=null}execute(){var _=()=>super.execute,y=this;return(0,u.Z)(function*(){let T=Es.get(y.auth._key());if(!T){try{const L=(yield function Du(I,_){return dl.apply(this,arguments)}(y.resolver,y.auth))?yield _().call(y):null;T=()=>Promise.resolve(L)}catch(P){T=()=>Promise.reject(P)}Es.set(y.auth._key(),T)}return y.bypassAuthState||Es.set(y.auth._key(),()=>Promise.resolve(null)),T()})()}onAuthEvent(_){var y=()=>super.onAuthEvent,T=this;return(0,u.Z)(function*(){if("signInViaRedirect"===_.type)return y().call(T,_);if("unknown"!==_.type){if(_.eventId){const P=yield T.auth._redirectUserForId(_.eventId);if(P)return T.user=P,y().call(T,_);T.resolve(null)}}else T.resolve(null)})()}onExecution(){return(0,u.Z)(function*(){})()}cleanUp(){}}function dl(){return(dl=(0,u.Z)(function*(I,_){const y=Uf(_),T=Ti(I);if(!(yield T._isAvailable()))return!1;const P="true"===(yield T._get(y));return yield T._remove(y),P})).apply(this,arguments)}function Au(I,_){return hl.apply(this,arguments)}function hl(){return(hl=(0,u.Z)(function*(I,_){return Ti(I)._set(Uf(_),"true")})).apply(this,arguments)}function Fa(){Es.clear()}function Su(I,_){Es.set(I._key(),_)}function Ti(I){return We(I._redirectPersistence)}function Uf(I){return yn(ul,I.config.apiKey,I.name)}function vc(I,_,y){return function Fr(I,_,y){return Tr.apply(this,arguments)}(I,_,y)}function Tr(){return(Tr=(0,u.Z)(function*(I,_,y){const T=cr(I);Ae(I,_,es),yield T._initializationPromise;const P=No(T,y);return yield Au(P,T),P._openRedirect(T,_,"signInViaRedirect")})).apply(this,arguments)}function ss(I,_,y){return function La(I,_,y){return Gr.apply(this,arguments)}(I,_,y)}function Gr(){return(Gr=(0,u.Z)(function*(I,_,y){const T=(0,H.m9)(I);Ae(T.auth,_,es),yield T.auth._initializationPromise;const P=No(T.auth,y);yield Au(P,T.auth);const L=yield os(T);return P._openRedirect(T.auth,_,"reauthViaRedirect",L)})).apply(this,arguments)}function Ui(I,_,y){return function fl(I,_,y){return xu.apply(this,arguments)}(I,_,y)}function xu(){return(xu=(0,u.Z)(function*(I,_,y){const T=(0,H.m9)(I);Ae(T.auth,_,es),yield T.auth._initializationPromise;const P=No(T.auth,y);yield Aa(!1,T,_.providerId),yield Au(P,T.auth);const L=yield os(T);return P._openRedirect(T.auth,_,"linkViaRedirect",L)})).apply(this,arguments)}function Gm(I,_){return Cr.apply(this,arguments)}function Cr(){return(Cr=(0,u.Z)(function*(I,_){return yield cr(I)._initializationPromise,ca(I,_,!1)})).apply(this,arguments)}function ca(I,_){return Qn.apply(this,arguments)}function Qn(){return(Qn=(0,u.Z)(function*(I,_,y=!1){const T=cr(I),P=No(T,_),ne=yield new Oa(T,P,y).execute();return ne&&!y&&(delete ne.user._redirectEventId,yield T._persistUserIfCurrent(ne.user),yield T._setRedirectUser(null,_)),ne})).apply(this,arguments)}function os(I){return Ru.apply(this,arguments)}function Ru(){return(Ru=(0,u.Z)(function*(I){const _=Pa(`${I.uid}:::`);return I._redirectEventId=_,yield I.auth._setRedirectUser(I),yield I.auth._persistUserIfCurrent(I),_})).apply(this,arguments)}class la{constructor(_){this.auth=_,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(_){this.consumers.add(_),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,_)&&(this.sendToConsumer(this.queuedRedirectEvent,_),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(_){this.consumers.delete(_)}onEvent(_){if(this.hasEventBeenHandled(_))return!1;let y=!1;return this.consumers.forEach(T=>{this.isEventForConsumer(_,T)&&(y=!0,this.sendToConsumer(_,T),this.saveEventToCache(_))}),this.hasHandledPotentialRedirect||!function ua(I){switch(I.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return pl(I);default:return!1}}(_)||(this.hasHandledPotentialRedirect=!0,y||(this.queuedRedirectEvent=_,y=!0)),y}sendToConsumer(_,y){var T;if(_.error&&!pl(_)){const P=(null===(T=_.error.code)||void 0===T?void 0:T.split("auth/")[1])||"internal-error";y.onError(Me(this.auth,P))}else y.onAuthEvent(_)}isEventForConsumer(_,y){const T=null===y.eventId||!!_.eventId&&_.eventId===y.eventId;return y.filter.includes(_.type)&&T}hasEventBeenHandled(_){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Mu(_))}saveEventToCache(_){this.cachedEventUids.add(Mu(_)),this.lastProcessedEventTime=Date.now()}}function Mu(I){return[I.type,I.eventId,I.sessionId,I.tenantId].filter(_=>_).join("-")}function pl({type:I,error:_}){return"unknown"===I&&"auth/no-auth-event"===_?.code}function ml(I){return Is.apply(this,arguments)}function Is(){return(Is=(0,u.Z)(function*(I,_={}){return Pe(I,"GET","/v1/projects",_)})).apply(this,arguments)}const Jt=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Va=/^https?/;function da(){return(da=(0,u.Z)(function*(I){if(I.config.emulator)return;const{authorizedDomains:_}=yield ml(I);for(const y of _)try{if(Bf(y))return}catch{}ce(I,"unauthorized-domain")})).apply(this,arguments)}function Bf(I){const _=Rt(),{protocol:y,hostname:T}=new URL(_);if(I.startsWith("chrome-extension://")){const ne=new URL(I);return""===ne.hostname&&""===T?"chrome-extension:"===y&&I.replace("chrome-extension://","")===_.replace("chrome-extension://",""):"chrome-extension:"===y&&ne.hostname===T}if(!Va.test(y))return!1;if(Jt.test(I))return T===I;const P=I.replace(/\./g,"\\.");return new RegExp("^(.+\\."+P+"|"+P+")$","i").test(T)}const Ua=new Mn(3e4,6e4);function hi(){const I=Nr().___jsl;if(I?.H)for(const _ of Object.keys(I.H))if(I.H[_].r=I.H[_].r||[],I.H[_].L=I.H[_].L||[],I.H[_].r=[...I.H[_].L],I.CP)for(let y=0;y<I.CP.length;y++)I.CP[y]=null}let Lr=null;const $f=new Mn(5e3,15e3),co="__/auth/iframe",qm="emulator/auth/iframe",Wm={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},gl=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ec(I){const _=I.config;W(_.authDomain,I,"auth-domain-config-required");const y=_.emulator?Hr(_,qm):`https://${I.config.authDomain}/${co}`,T={apiKey:_.apiKey,appName:I.name,v:O.SDK_VERSION},P=gl.get(I.config.apiHost);P&&(T.eid=P);const L=I._getFrameworks();return L.length&&(T.fw=L.join(",")),`${y}?${(0,H.xO)(T).slice(1)}`}function Fo(){return Fo=(0,u.Z)(function*(I){const _=yield function Bi(I){return Lr=Lr||function jf(I){return new Promise((_,y)=>{var T,P,L;function ne(){hi(),gapi.load("gapi.iframes",{callback:()=>{_(gapi.iframes.getContext())},ontimeout:()=>{hi(),y(Me(I,"network-request-failed"))},timeout:Ua.get()})}if(null!==(P=null===(T=Nr().gapi)||void 0===T?void 0:T.iframes)&&void 0!==P&&P.Iframe)_(gapi.iframes.getContext());else{if(null===(L=Nr().gapi)||void 0===L||!L.load){const me=So("iframefcb");return Nr()[me]=()=>{gapi.load?ne():y(Me(I,"network-request-failed"))},Xl(`https://apis.google.com/js/api.js?onload=${me}`).catch(nt=>y(nt))}ne()}}).catch(_=>{throw Lr=null,_})}(I),Lr}(I),y=Nr().gapi;return W(y,I,"internal-error"),_.open({where:document.body,url:Ec(I),messageHandlersFilter:y.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Wm,dontclear:!0},T=>new Promise(function(){var P=(0,u.Z)(function*(L,ne){yield T.restyle({setHideOnLeave:!1});const me=Me(I,"network-request-failed"),nt=Nr().setTimeout(()=>{ne(me)},$f.get());function ut(){Nr().clearTimeout(nt),L(T)}T.ping(ut).then(ut,()=>{ne(me)})});return function(L,ne){return P.apply(this,arguments)}}()))}),Fo.apply(this,arguments)}const b={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class ie{constructor(_){this.window=_,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const st="__/auth/handler",At="emulator/auth/handler",Ht=encodeURIComponent("fac");function Ot(I,_,y,T,P,L){return Ci.apply(this,arguments)}function Ci(){return(Ci=(0,u.Z)(function*(I,_,y,T,P,L){W(I.config.authDomain,I,"auth-domain-config-required"),W(I.config.apiKey,I,"invalid-api-key");const ne={apiKey:I.config.apiKey,appName:I.name,authType:y,redirectUrl:T,v:O.SDK_VERSION,eventId:P};if(_ instanceof es){_.setDefaultLanguage(I.languageCode),ne.providerId=_.providerId||"",(0,H.xb)(_.getCustomParameters())||(ne.customParameters=JSON.stringify(_.getCustomParameters()));for(const[Mt,hn]of Object.entries(L||{}))ne[Mt]=hn}if(_ instanceof Ei){const Mt=_.getScopes().filter(hn=>""!==hn);Mt.length>0&&(ne.scopes=Mt.join(","))}I.tenantId&&(ne.tid=I.tenantId);const me=ne;for(const Mt of Object.keys(me))void 0===me[Mt]&&delete me[Mt];const nt=yield I._getAppCheckToken(),ut=nt?`#${Ht}=${encodeURIComponent(nt)}`:"";return`${function Dr({config:I}){return I.emulator?Hr(I,At):`https://${I.authDomain}/${st}`}(I)}?${(0,H.xO)(me).slice(1)}${ut}`})).apply(this,arguments)}const Xn="webStorageSupport",as=class _l{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=yu,this._completeRedirectFn=ca,this._overrideRedirectResult=Su}_openPopup(_,y,T,P){var L=this;return(0,u.Z)(function*(){var ne;et(null===(ne=L.eventManagers[_._key()])||void 0===ne?void 0:ne.manager,"_initialize() not called before _openPopup()");const me=yield Ot(_,y,T,Rt(),P);return function Te(I,_,y,T=500,P=600){const L=Math.max((window.screen.availHeight-P)/2,0).toString(),ne=Math.max((window.screen.availWidth-T)/2,0).toString();let me="";const nt=Object.assign(Object.assign({},b),{width:T.toString(),height:P.toString(),top:L,left:ne}),ut=(0,H.z$)().toLowerCase();y&&(me=F(ut)?"_blank":y),U(ut)&&(_=_||"http://localhost",nt.scrollbars="yes");const Mt=Object.entries(nt).reduce((ji,[lo,$a])=>`${ji}${lo}=${$a},`,"");if(function Kt(I=(0,H.z$)()){var _;return pt(I)&&!(null===(_=window.navigator)||void 0===_||!_.standalone)}(ut)&&"_self"!==me)return function lt(I,_){const y=document.createElement("a");y.href=I,y.target=_;const T=document.createEvent("MouseEvent");T.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),y.dispatchEvent(T)}(_||"",me),new ie(null);const hn=window.open(_||"",me,Mt);W(hn,I,"popup-blocked");try{hn.focus()}catch{}return new ie(hn)}(_,me,Pa())})()}_openRedirect(_,y,T,P){var L=this;return(0,u.Z)(function*(){return yield L._originValidation(_),function pc(I){Nr().location.href=I}(yield Ot(_,y,T,Rt(),P)),new Promise(()=>{})})()}_initialize(_){const y=_._key();if(this.eventManagers[y]){const{manager:P,promise:L}=this.eventManagers[y];return P?Promise.resolve(P):(et(L,"If manager is not set, promise should be"),L)}const T=this.initAndGetManager(_);return this.eventManagers[y]={promise:T},T.catch(()=>{delete this.eventManagers[y]}),T}initAndGetManager(_){var y=this;return(0,u.Z)(function*(){const T=yield function Ba(I){return Fo.apply(this,arguments)}(_),P=new la(_);return T.register("authEvent",L=>(W(L?.authEvent,_,"invalid-auth-event"),{status:P.onEvent(L.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),y.eventManagers[_._key()]={manager:P},y.iframes[_._key()]=T,P})()}_isIframeWebStorageSupported(_,y){this.iframes[_._key()].send(Xn,{type:Xn},P=>{var L;const ne=null===(L=P?.[0])||void 0===L?void 0:L[Xn];void 0!==ne&&y(!!ne),ce(_,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(_){const y=_._key();return this.originValidationPromises[y]||(this.originValidationPromises[y]=function wc(I){return da.apply(this,arguments)}(_)),this.originValidationPromises[y]}get _shouldInitProactively(){return tn()||B()||pt()}};class bs{constructor(_){this.factorId=_}_process(_,y,T){switch(y.type){case"enroll":return this._finalizeEnroll(_,y.credential,T);case"signin":return this._finalizeSignIn(_,y.credential);default:return Oe("unexpected MultiFactorSessionType")}}}class ur extends bs{constructor(_){super("phone"),this.credential=_}static _fromCredential(_){return new ur(_)}_finalizeEnroll(_,y,T){return function sl(I,_){return Pe(I,"POST","/v2/accounts/mfaEnrollment:finalize",fe(I,_))}(_,{idToken:y,displayName:T,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(_,y){return function Hd(I,_){return Pe(I,"POST","/v2/accounts/mfaSignIn:finalize",fe(I,_))}(_,{mfaPendingCredential:y,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let ja=(()=>{class I{constructor(){}static assertion(y){return ur._fromCredential(y)}}return I.FACTOR_ID="phone",I})();var Z0="@firebase/auth";class YC{constructor(_){this.auth=_,this.internalListeners=new Map}getUid(){var _;return this.assertAuthConfigured(),(null===(_=this.auth.currentUser)||void 0===_?void 0:_.uid)||null}getToken(_){var y=this;return(0,u.Z)(function*(){return y.assertAuthConfigured(),yield y.auth._initializationPromise,y.auth.currentUser?{accessToken:yield y.auth.currentUser.getIdToken(_)}:null})()}addAuthTokenListener(_){if(this.assertAuthConfigured(),this.internalListeners.has(_))return;const y=this.auth.onIdTokenChanged(T=>{_(T?.stsTokenManager.accessToken||null)});this.internalListeners.set(_,y),this.updateProactiveRefresh()}removeAuthTokenListener(_){this.assertAuthConfigured();const y=this.internalListeners.get(_);y&&(this.internalListeners.delete(_),y(),this.updateProactiveRefresh())}assertAuthConfigured(){W(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,H.Pz)("authIdTokenMaxAge"),function Km(I){(0,O._registerComponent)(new _e.wA("auth",(_,{options:y})=>{const T=_.getProvider("app").getImmediate(),P=_.getProvider("heartbeat"),L=_.getProvider("app-check-internal"),{apiKey:ne,authDomain:me}=T.options;W(ne&&!ne.includes(":"),"invalid-api-key",{appName:T.name});const nt={apiKey:ne,authDomain:me,clientPlatform:I,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ea(I)},ut=new sc(T,P,L,nt);return function uy(I,_){const y=_?.persistence||[],T=(Array.isArray(y)?y:[y]).map(We);_?.errorMap&&I._updateErrorMap(_.errorMap),I._initializeWithPersistence(T,_?.popupRedirectResolver)}(ut,y),ut},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((_,y,T)=>{_.getProvider("auth-internal").initialize()})),(0,O._registerComponent)(new _e.wA("auth-internal",_=>{const y=cr(_.getProvider("auth").getImmediate());return new YC(y)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,O.registerVersion)(Z0,"0.23.2",function js(I){switch(I){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(I)),(0,O.registerVersion)(Z0,"0.23.2","esm2017")}("Browser")},9058:(It,Re,V)=>{V.d(Re,{$s:()=>We,BH:()=>pe,G6:()=>Hr,L:()=>ve,LL:()=>Xe,P0:()=>wt,Pz:()=>Me,Sg:()=>Ae,UG:()=>Oe,US:()=>_e,ZB:()=>ae,ZR:()=>Pe,aH:()=>ce,b$:()=>gn,eu:()=>ye,hl:()=>de,jU:()=>et,m9:()=>yn,ne:()=>an,pd:()=>Ft,r3:()=>En,ru:()=>Rt,tV:()=>z,uI:()=>W,vZ:()=>qn,w1:()=>Ln,xO:()=>ms,xb:()=>ki,z$:()=>He,zI:()=>Ie,zd:()=>Nt});const re=function(q){const G=[];let U=0;for(let B=0;B<q.length;B++){let F=q.charCodeAt(B);F<128?G[U++]=F:F<2048?(G[U++]=F>>6|192,G[U++]=63&F|128):55296==(64512&F)&&B+1<q.length&&56320==(64512&q.charCodeAt(B+1))?(F=65536+((1023&F)<<10)+(1023&q.charCodeAt(++B)),G[U++]=F>>18|240,G[U++]=F>>12&63|128,G[U++]=F>>6&63|128,G[U++]=63&F|128):(G[U++]=F>>12|224,G[U++]=F>>6&63|128,G[U++]=63&F|128)}return G},_e={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(q,G){if(!Array.isArray(q))throw Error("encodeByteArray takes an array as a parameter");this.init_();const U=G?this.byteToCharMapWebSafe_:this.byteToCharMap_,B=[];for(let F=0;F<q.length;F+=3){const se=q[F],Ne=F+1<q.length,rt=Ne?q[F+1]:0,Gt=F+2<q.length,pt=Gt?q[F+2]:0;let Pn=(15&rt)<<2|pt>>6,tn=63&pt;Gt||(tn=64,Ne||(Pn=64)),B.push(U[se>>2],U[(3&se)<<4|rt>>4],U[Pn],U[tn])}return B.join("")},encodeString(q,G){return this.HAS_NATIVE_SUPPORT&&!G?btoa(q):this.encodeByteArray(re(q),G)},decodeString(q,G){return this.HAS_NATIVE_SUPPORT&&!G?atob(q):function(q){const G=[];let U=0,B=0;for(;U<q.length;){const F=q[U++];if(F<128)G[B++]=String.fromCharCode(F);else if(F>191&&F<224){const se=q[U++];G[B++]=String.fromCharCode((31&F)<<6|63&se)}else if(F>239&&F<365){const Gt=((7&F)<<18|(63&q[U++])<<12|(63&q[U++])<<6|63&q[U++])-65536;G[B++]=String.fromCharCode(55296+(Gt>>10)),G[B++]=String.fromCharCode(56320+(1023&Gt))}else{const se=q[U++],Ne=q[U++];G[B++]=String.fromCharCode((15&F)<<12|(63&se)<<6|63&Ne)}}return G.join("")}(this.decodeStringToByteArray(q,G))},decodeStringToByteArray(q,G){this.init_();const U=G?this.charToByteMapWebSafe_:this.charToByteMap_,B=[];for(let F=0;F<q.length;){const se=U[q.charAt(F++)],rt=F<q.length?U[q.charAt(F)]:0;++F;const pt=F<q.length?U[q.charAt(F)]:64;++F;const Kt=F<q.length?U[q.charAt(F)]:64;if(++F,null==se||null==rt||null==pt||null==Kt)throw new De;B.push(se<<2|rt>>4),64!==pt&&(B.push(rt<<4&240|pt>>2),64!==Kt&&B.push(pt<<6&192|Kt))}return B},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let q=0;q<this.ENCODED_VALS.length;q++)this.byteToCharMap_[q]=this.ENCODED_VALS.charAt(q),this.charToByteMap_[this.byteToCharMap_[q]]=q,this.byteToCharMapWebSafe_[q]=this.ENCODED_VALS_WEBSAFE.charAt(q),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[q]]=q,q>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(q)]=q,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(q)]=q)}}};class De extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ve=function(q){return function(q){const G=re(q);return _e.encodeByteArray(G,!0)}(q).replace(/\./g,"")},z=function(q){try{return _e.decodeString(q,!0)}catch(G){console.error("base64Decode failed: ",G)}return null};function ae(q,G){if(!(G instanceof Object))return G;switch(G.constructor){case Date:return new Date(G.getTime());case Object:void 0===q&&(q={});break;case Array:q=[];break;default:return G}for(const U in G)!G.hasOwnProperty(U)||!Ge(U)||(q[U]=ae(q[U],G[U]));return q}function Ge(q){return"__proto__"!==q}const Le=()=>{try{return function Fe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const q=process.env.__FIREBASE_DEFAULTS__;return q?JSON.parse(q):void 0})()||(()=>{if(typeof document>"u")return;let q;try{q=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const G=q&&z(q[1]);return G&&JSON.parse(G)})()}catch(q){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${q}`)}},wt=q=>{const G=(q=>{var G,U;return null===(U=null===(G=Le())||void 0===G?void 0:G.emulatorHosts)||void 0===U?void 0:U[q]})(q);if(!G)return;const U=G.lastIndexOf(":");if(U<=0||U+1===G.length)throw new Error(`Invalid host ${G} with no separate hostname and port!`);const B=parseInt(G.substring(U+1),10);return"["===G[0]?[G.substring(1,U-1),B]:[G.substring(0,U),B]},ce=()=>{var q;return null===(q=Le())||void 0===q?void 0:q.config},Me=q=>{var G;return null===(G=Le())||void 0===G?void 0:G[`_${q}`]};class pe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((G,U)=>{this.resolve=G,this.reject=U})}wrapCallback(G){return(U,B)=>{U?this.reject(U):this.resolve(B),"function"==typeof G&&(this.promise.catch(()=>{}),1===G.length?G(U):G(U,B))}}}function Ae(q,G){if(q.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const B=G||"demo-project",F=q.iat||0,se=q.sub||q.user_id;if(!se)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Ne=Object.assign({iss:`https://securetoken.google.com/${B}`,aud:B,iat:F,exp:F+3600,auth_time:F,sub:se,user_id:se,firebase:{sign_in_provider:"custom",identities:{}}},q);return[ve(JSON.stringify({alg:"none",type:"JWT"})),ve(JSON.stringify(Ne)),""].join(".")}function He(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function W(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(He())}function Oe(){var q;const G=null===(q=Le())||void 0===q?void 0:q.forceEnvironment;if("node"===G)return!0;if("browser"===G)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function et(){return"object"==typeof self&&self.self===self}function Rt(){const q="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof q&&void 0!==q.id}function gn(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Ln(){const q=He();return q.indexOf("MSIE ")>=0||q.indexOf("Trident/")>=0}function Hr(){return!Oe()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function de(){try{return"object"==typeof indexedDB}catch{return!1}}function ye(){return new Promise((q,G)=>{try{let U=!0;const B="validate-browser-context-for-indexeddb-analytics-module",F=self.indexedDB.open(B);F.onsuccess=()=>{F.result.close(),U||self.indexedDB.deleteDatabase(B),q(!0)},F.onupgradeneeded=()=>{U=!1},F.onerror=()=>{var se;G((null===(se=F.error)||void 0===se?void 0:se.message)||"")}}catch(U){G(U)}})}function Ie(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Pe extends Error{constructor(G,U,B){super(U),this.code=G,this.customData=B,this.name="FirebaseError",Object.setPrototypeOf(this,Pe.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Xe.prototype.create)}}class Xe{constructor(G,U,B){this.service=G,this.serviceName=U,this.errors=B}create(G,...U){const B=U[0]||{},F=`${this.service}/${G}`,se=this.errors[G],Ne=se?function ot(q,G){return q.replace(tt,(U,B)=>{const F=G[B];return null!=F?String(F):`<${B}?>`})}(se,B):"Error";return new Pe(F,`${this.serviceName}: ${Ne} (${F}).`,B)}}const tt=/\{\$([^}]+)}/g;function En(q,G){return Object.prototype.hasOwnProperty.call(q,G)}function ki(q){for(const G in q)if(Object.prototype.hasOwnProperty.call(q,G))return!1;return!0}function qn(q,G){if(q===G)return!0;const U=Object.keys(q),B=Object.keys(G);for(const F of U){if(!B.includes(F))return!1;const se=q[F],Ne=G[F];if(Jn(se)&&Jn(Ne)){if(!qn(se,Ne))return!1}else if(se!==Ne)return!1}for(const F of B)if(!U.includes(F))return!1;return!0}function Jn(q){return null!==q&&"object"==typeof q}function ms(q){const G=[];for(const[U,B]of Object.entries(q))Array.isArray(B)?B.forEach(F=>{G.push(encodeURIComponent(U)+"="+encodeURIComponent(F))}):G.push(encodeURIComponent(U)+"="+encodeURIComponent(B));return G.length?"&"+G.join("&"):""}function Nt(q){const G={};return q.replace(/^\?/,"").split("&").forEach(B=>{if(B){const[F,se]=B.split("=");G[decodeURIComponent(F)]=decodeURIComponent(se)}}),G}function Ft(q){const G=q.indexOf("?");if(!G)return"";const U=q.indexOf("#",G);return q.substring(G,U>0?U:void 0)}function an(q,G){const U=new pr(q,G);return U.subscribe.bind(U)}class pr{constructor(G,U){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=U,this.task.then(()=>{G(this)}).catch(B=>{this.error(B)})}next(G){this.forEachObserver(U=>{U.next(G)})}error(G){this.forEachObserver(U=>{U.error(G)}),this.close(G)}complete(){this.forEachObserver(G=>{G.complete()}),this.close()}subscribe(G,U,B){let F;if(void 0===G&&void 0===U&&void 0===B)throw new Error("Missing Observer.");F=function en(q,G){if("object"!=typeof q||null===q)return!1;for(const U of G)if(U in q&&"function"==typeof q[U])return!0;return!1}(G,["next","error","complete"])?G:{next:G,error:U,complete:B},void 0===F.next&&(F.next=Hn),void 0===F.error&&(F.error=Hn),void 0===F.complete&&(F.complete=Hn);const se=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?F.error(this.finalError):F.complete()}catch{}}),this.observers.push(F),se}unsubscribeOne(G){void 0===this.observers||void 0===this.observers[G]||(delete this.observers[G],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(G){if(!this.finalized)for(let U=0;U<this.observers.length;U++)this.sendOne(U,G)}sendOne(G,U){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[G])try{U(this.observers[G])}catch(B){typeof console<"u"&&console.error&&console.error(B)}})}close(G){this.finalized||(this.finalized=!0,void 0!==G&&(this.finalError=G),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Hn(){}const ar=1e3,Ee=2,Q=144e5,Ce=.5;function We(q,G=ar,U=Ee){const B=G*Math.pow(U,q),F=Math.round(Ce*B*(Math.random()-.5)*2);return Math.min(Q,B+F)}function yn(q){return q&&q._delegate?q._delegate:q}},1096:(It,Re,V)=>{var u=V(5879);let H=null;function O(){return H}class le{}const _e=new u.OlP("DocumentToken");let De=(()=>{var n;class e{historyGo(r){throw new Error("Not implemented")}}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return(0,u.f3M)(ve)},providedIn:"platform"}),e})();const ke=new u.OlP("Location Initialized");let ve=(()=>{var n;class e extends De{constructor(){super(),this._doc=(0,u.f3M)(_e),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return O().getBaseHref(this._doc)}onPopState(r){const i=O().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){const i=O().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,s){this._history.pushState(r,i,s)}replaceState(r,i,s){this._history.replaceState(r,i,s)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return new n},providedIn:"platform"}),e})();function z(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Y(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function ae(n){return n&&"?"!==n[0]?"?"+n:n}let Ge=(()=>{var n;class e{historyGo(r){throw new Error("Not implemented")}}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return(0,u.f3M)(it)},providedIn:"root"}),e})();const Fe=new u.OlP("appBaseHref");let it=(()=>{var n;class e extends Ge{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??(0,u.f3M)(_e).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return z(this._baseHref,r)}path(r=!1){const i=this._platformLocation.pathname+ae(this._platformLocation.search),s=this._platformLocation.hash;return s&&r?`${i}${s}`:i}pushState(r,i,s,c){const h=this.prepareExternalUrl(s+ae(c));this._platformLocation.pushState(r,i,h)}replaceState(r,i,s,c){const h=this.prepareExternalUrl(s+ae(c));this._platformLocation.replaceState(r,i,h)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}}return(n=e).\u0275fac=function(r){return new(r||n)(u.LFG(De),u.LFG(Fe,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),e})(),Ue=(()=>{var n;class e extends Ge{constructor(r,i){super(),this._platformLocation=r,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}path(r=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(r){const i=z(this._baseHref,r);return i.length>0?"#"+i:i}pushState(r,i,s,c){let h=this.prepareExternalUrl(s+ae(c));0==h.length&&(h=this._platformLocation.pathname),this._platformLocation.pushState(r,i,h)}replaceState(r,i,s,c){let h=this.prepareExternalUrl(s+ae(c));0==h.length&&(h=this._platformLocation.pathname),this._platformLocation.replaceState(r,i,h)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}}return(n=e).\u0275fac=function(r){return new(r||n)(u.LFG(De),u.LFG(Fe,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),e})(),at=(()=>{var n;class e{constructor(r){this._subject=new u.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;const i=this._locationStrategy.getBaseHref();this._basePath=function ce(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(Y(wt(i))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+ae(i))}normalize(r){return e.stripTrailingSlash(function Dt(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,wt(r)))}prepareExternalUrl(r){return r&&"/"!==r[0]&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",s=null){this._locationStrategy.pushState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+ae(i)),s)}replaceState(r,i="",s=null){this._locationStrategy.replaceState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+ae(i)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(s=>s(r,i))}subscribe(r,i,s){return this._subject.subscribe({next:r,error:i,complete:s})}}return(n=e).normalizeQueryParams=ae,n.joinWithSlash=z,n.stripTrailingSlash=Y,n.\u0275fac=function(r){return new(r||n)(u.LFG(Ge))},n.\u0275prov=u.Yz7({token:n,factory:function(){return function Le(){return new at((0,u.LFG)(Ge))}()},providedIn:"root"}),e})();function wt(n){return n.replace(/\/index.html$/,"")}const Me={ADP:[void 0,void 0,0],AFN:[void 0,"\u060b",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058f",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20bc"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GHS:[void 0,"GH\u20b5"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202fCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var pe=function(n){return n[n.Decimal=0]="Decimal",n[n.Percent=1]="Percent",n[n.Currency=2]="Currency",n[n.Scientific=3]="Scientific",n}(pe||{}),et=function(n){return n[n.Decimal=0]="Decimal",n[n.Group=1]="Group",n[n.List=2]="List",n[n.PercentSign=3]="PercentSign",n[n.PlusSign=4]="PlusSign",n[n.MinusSign=5]="MinusSign",n[n.Exponential=6]="Exponential",n[n.SuperscriptingExponent=7]="SuperscriptingExponent",n[n.PerMille=8]="PerMille",n[n.Infinity=9]="Infinity",n[n.NaN=10]="NaN",n[n.TimeSeparator=11]="TimeSeparator",n[n.CurrencyDecimal=12]="CurrencyDecimal",n[n.CurrencyGroup=13]="CurrencyGroup",n}(et||{});function Pe(n,e){const t=(0,u.cg1)(n),r=t[u.wAp.NumberSymbols][e];if(typeof r>"u"){if(e===et.CurrencyDecimal)return t[u.wAp.NumberSymbols][et.Decimal];if(e===et.CurrencyGroup)return t[u.wAp.NumberSymbols][et.Group]}return r}const F=/^(\d+)?\.((\d+)(-(\d+))?)?$/,se=22,Ne=".",rt="0",Gt=";",pt=",",In="#";function Oi(n,e,t,r,i){const c=function Js(n,e="-"){const t={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=n.split(Gt),i=r[0],s=r[1],c=-1!==i.indexOf(Ne)?i.split(Ne):[i.substring(0,i.lastIndexOf(rt)+1),i.substring(i.lastIndexOf(rt)+1)],h=c[0],p=c[1]||"";t.posPre=h.substring(0,h.indexOf(In));for(let w=0;w<p.length;w++){const D=p.charAt(w);D===rt?t.minFrac=t.maxFrac=w+1:D===In?t.maxFrac=w+1:t.posSuf+=D}const g=h.split(pt);if(t.gSize=g[1]?g[1].length:0,t.lgSize=g[2]||g[1]?(g[2]||g[1]).length:0,s){const w=i.length-t.posPre.length-t.posSuf.length,D=s.indexOf(In);t.negPre=s.substring(0,D).replace(/'/g,""),t.negSuf=s.slice(D+w).replace(/'/g,"")}else t.negPre=e+t.posPre,t.negSuf=t.posSuf;return t}(function Xe(n,e){return(0,u.cg1)(n)[u.wAp.NumberFormats][e]}(e,pe.Currency),Pe(e,et.MinusSign));return c.minFrac=function qn(n){let e;const t=Me[n];return t&&(e=t[2]),"number"==typeof e?e:2}(r),c.maxFrac=c.minFrac,function tn(n,e,t,r,i,s,c=!1){let h="",p=!1;if(isFinite(n)){let g=function _s(n){let r,i,s,c,h,e=Math.abs(n)+"",t=0;for((i=e.indexOf(Ne))>-1&&(e=e.replace(Ne,"")),(s=e.search(/e/i))>0?(i<0&&(i=s),i+=+e.slice(s+1),e=e.substring(0,s)):i<0&&(i=e.length),s=0;e.charAt(s)===rt;s++);if(s===(h=e.length))r=[0],i=1;else{for(h--;e.charAt(h)===rt;)h--;for(i-=s,r=[],c=0;s<=h;s++,c++)r[c]=Number(e.charAt(s))}return i>se&&(r=r.splice(0,se-1),t=i-1,i=1),{digits:r,exponent:t,integerLen:i}}(n);c&&(g=function eo(n){if(0===n.digits[0])return n;const e=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(0===e?n.digits.push(0,0):1===e&&n.digits.push(0),n.integerLen+=2),n}(g));let w=e.minInt,D=e.minFrac,M=e.maxFrac;if(s){const $e=s.match(F);if(null===$e)throw new Error(`${s} is not a valid digit info`);const ze=$e[1],Qe=$e[3],_t=$e[5];null!=ze&&(w=Qo(ze)),null!=Qe&&(D=Qo(Qe)),null!=_t?M=Qo(_t):null!=Qe&&D>M&&(M=D)}!function pn(n,e,t){if(e>t)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${t}).`);let r=n.digits,i=r.length-n.integerLen;const s=Math.min(Math.max(e,i),t);let c=s+n.integerLen,h=r[c];if(c>0){r.splice(Math.max(n.integerLen,c));for(let D=c;D<r.length;D++)r[D]=0}else{i=Math.max(0,i),n.integerLen=1,r.length=Math.max(1,c=s+1),r[0]=0;for(let D=1;D<c;D++)r[D]=0}if(h>=5)if(c-1<0){for(let D=0;D>c;D--)r.unshift(0),n.integerLen++;r.unshift(1),n.integerLen++}else r[c-1]++;for(;i<Math.max(0,s);i++)r.push(0);let p=0!==s;const g=e+n.integerLen,w=r.reduceRight(function(D,M,N,K){return K[N]=(M+=D)<10?M:M-10,p&&(0===K[N]&&N>=g?K.pop():p=!1),M>=10?1:0},0);w&&(r.unshift(w),n.integerLen++)}(g,D,M);let N=g.digits,K=g.integerLen;const te=g.exponent;let X=[];for(p=N.every($e=>!$e);K<w;K++)N.unshift(0);for(;K<0;K++)N.unshift(0);K>0?X=N.splice(K,N.length):(X=N,N=[0]);const be=[];for(N.length>=e.lgSize&&be.unshift(N.splice(-e.lgSize,N.length).join(""));N.length>e.gSize;)be.unshift(N.splice(-e.gSize,N.length).join(""));N.length&&be.unshift(N.join("")),h=be.join(Pe(t,r)),X.length&&(h+=Pe(t,i)+X.join("")),te&&(h+=Pe(t,et.Exponential)+"+"+te)}else h=Pe(t,et.Infinity);return h=n<0&&!p?e.negPre+h+e.negSuf:e.posPre+h+e.posSuf,h}(n,c,e,et.CurrencyGroup,et.CurrencyDecimal,i).replace("\xa4",t).replace("\xa4","").trim()}function Qo(n){const e=parseInt(n);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+n);return e}function nc(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,s]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}class Hc{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let sc=(()=>{var n;class e{set ngForOf(r){this._ngForOf=r,this._ngForOfDirty=!0}set ngForTrackBy(r){this._trackByFn=r}get ngForTrackBy(){return this._trackByFn}constructor(r,i,s){this._viewContainer=r,this._template=i,this._differs=s,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(r){r&&(this._template=r)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const r=this._ngForOf;!this._differ&&r&&(this._differ=this._differs.find(r).create(this.ngForTrackBy))}if(this._differ){const r=this._differ.diff(this._ngForOf);r&&this._applyChanges(r)}}_applyChanges(r){const i=this._viewContainer;r.forEachOperation((s,c,h)=>{if(null==s.previousIndex)i.createEmbeddedView(this._template,new Hc(s.item,this._ngForOf,-1,-1),null===h?void 0:h);else if(null==h)i.remove(null===c?void 0:c);else if(null!==c){const p=i.get(c);i.move(p,h),cr(p,s)}});for(let s=0,c=i.length;s<c;s++){const p=i.get(s).context;p.index=s,p.count=c,p.ngForOf=this._ngForOf}r.forEachIdentityChange(s=>{cr(i.get(s.currentIndex),s)})}static ngTemplateContextGuard(r,i){return!0}}return(n=e).\u0275fac=function(r){return new(r||n)(u.Y36(u.s_b),u.Y36(u.Rgc),u.Y36(u.ZZ4))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),e})();function cr(n,e){n.context.$implicit=e.item}let ys=(()=>{var n;class e{constructor(r,i){this._viewContainer=r,this._context=new uy,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){mf("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){mf("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,i){return!0}}return(n=e).\u0275fac=function(r){return new(r||n)(u.Y36(u.s_b),u.Y36(u.Rgc))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),e})();class uy{constructor(){this.$implicit=null,this.ngIf=null}}function mf(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,u.AaK)(e)}'.`)}function Li(n,e){return new u.vHH(2100,!1)}let su=(()=>{var n;class e{transform(r){if(null==r)return null;if("string"!=typeof r)throw Li();return r.toUpperCase()}}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275pipe=u.Yjl({name:"uppercase",type:n,pure:!0,standalone:!0}),e})(),Un=(()=>{var n;class e{constructor(r,i="USD"){this._locale=r,this._defaultCurrencyCode=i}transform(r,i=this._defaultCurrencyCode,s="symbol",c,h){if(!function Xi(n){return!(null==n||""===n||n!=n)}(r))return null;h=h||this._locale,"boolean"==typeof s&&(s=s?"symbol":"code");let p=i||this._defaultCurrencyCode;"code"!==s&&(p="symbol"===s||"symbol-narrow"===s?function ki(n,e,t="en"){const r=function $t(n){return(0,u.cg1)(n)[u.wAp.Currencies]}(t)[n]||Me[n]||[],i=r[1];return"narrow"===e&&"string"==typeof i?i:r[0]||n}(p,"symbol"===s?"wide":"narrow",h):s);try{return Oi(function Ro(n){if("string"==typeof n&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if("number"!=typeof n)throw new Error(`${n} is not a number`);return n}(r),h,p,i,c)}catch(g){throw Li()}}}return(n=e).\u0275fac=function(r){return new(r||n)(u.Y36(u.soG,16),u.Y36(u.EJc,16))},n.\u0275pipe=u.Yjl({name:"currency",type:n,pure:!0,standalone:!0}),e})();let er=(()=>{var n;class e{}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),e})();const Mo="browser";function Ji(n){return"server"===n}let Ei=(()=>{var n;class e{}return(n=e).\u0275prov=(0,u.Yz7)({token:n,providedIn:"root",factory:()=>new ea((0,u.LFG)(_e),window)}),e})();class ea{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function ou(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&"function"==typeof n.body.attachShadow){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const c=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(c)return c}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){this.supportsScrolling()&&(this.window.history.scrollRestoration=e)}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class vs{}class Df extends le{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class pu extends Df{static makeCurrent(){!function re(n){H||(H=n)}(new pu)}onAndCancel(e,t,r){return e.addEventListener(t,r),()=>{e.removeEventListener(t,r)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function fy(){return nl=nl||document.querySelector("base"),nl?nl.getAttribute("href"):null}();return null==t?null:function Um(n){Ld=Ld||document.createElement("a"),Ld.setAttribute("href",n);const e=Ld.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){nl=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return nc(document.cookie,e)}}let Ld,nl=null,py=(()=>{var n;class e{build(){return new XMLHttpRequest}}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),e})();const Ud=new u.OlP("EventManagerPlugins");let Bm=(()=>{var n;class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(s=>{s.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,s){return this._findPluginFor(i).addEventListener(r,i,s)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(c=>c.supports(r)),!i)throw new u.vHH(5101,!1);return this._eventNameToPlugin.set(r,i),i}}return(n=e).\u0275fac=function(r){return new(r||n)(u.LFG(Ud),u.LFG(u.R0b))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),e})();class mu{constructor(e){this._doc=e}}const rl="ng-app-id";let gu=(()=>{var n;class e{constructor(r,i,s,c={}){this.doc=r,this.appId=i,this.nonce=s,this.platformId=c,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Ji(c),this.resetHostNodes()}addStyles(r){for(const i of r)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(r){for(const i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){const r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(const i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(const i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(const i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){const i=this.styleRef;i.get(r)?.elements?.forEach(s=>s.remove()),i.delete(r)}collectServerRenderedStyles(){const r=this.doc.head?.querySelectorAll(`style[${rl}="${this.appId}"]`);if(r?.length){const i=new Map;return r.forEach(s=>{null!=s.textContent&&i.set(s.textContent,s)}),i}return null}changeUsageCount(r,i){const s=this.styleRef;if(s.has(r)){const c=s.get(r);return c.usage+=i,c.usage}return s.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){const s=this.styleNodesInDOM,c=s?.get(i);if(c?.parentNode===r)return s.delete(i),c.removeAttribute(rl),c;{const h=this.doc.createElement("style");return this.nonce&&h.setAttribute("nonce",this.nonce),h.textContent=i,this.platformIsServer&&h.setAttribute(rl,this.appId),h}}addStyleToHost(r,i){const s=this.getStyleElement(r,i);r.appendChild(s);const c=this.styleRef,h=c.get(i)?.elements;h?h.push(s):c.set(i,{elements:[s],usage:1})}resetHostNodes(){const r=this.hostNodes;r.clear(),r.add(this.doc.head)}}return(n=e).\u0275fac=function(r){return new(r||n)(u.LFG(_e),u.LFG(u.AFp),u.LFG(u.Ojb,8),u.LFG(u.Lbi))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),e})();const Us={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},fc=/%COMP%/g,ws=new u.OlP("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function Cn(n,e){return e.map(t=>t.replace(fc,n))}let ol=(()=>{var n;class e{constructor(r,i,s,c,h,p,g,w=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=s,this.removeStylesOnCompDestroy=c,this.doc=h,this.platformId=p,this.ngZone=g,this.nonce=w,this.rendererByCompId=new Map,this.platformIsServer=Ji(p),this.defaultRenderer=new no(r,h,g,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===u.ifc.ShadowDom&&(i={...i,encapsulation:u.ifc.Emulated});const s=this.getOrCreateRenderer(r,i);return s instanceof jd?s.applyToHost(r):s instanceof ui&&s.applyStyles(),s}getOrCreateRenderer(r,i){const s=this.rendererByCompId;let c=s.get(i.id);if(!c){const h=this.doc,p=this.ngZone,g=this.eventManager,w=this.sharedStylesHost,D=this.removeStylesOnCompDestroy,M=this.platformIsServer;switch(i.encapsulation){case u.ifc.Emulated:c=new jd(g,w,i,this.appId,D,h,p,M);break;case u.ifc.ShadowDom:return new Ra(g,w,r,i,h,p,this.nonce,M);default:c=new ui(g,w,i,D,h,p,M)}s.set(i.id,c)}return c}ngOnDestroy(){this.rendererByCompId.clear()}}return(n=e).\u0275fac=function(r){return new(r||n)(u.LFG(Bm),u.LFG(gu),u.LFG(u.AFp),u.LFG(ws),u.LFG(_e),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(u.Ojb))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),e})();class no{constructor(e,t,r,i){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(Us[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(Bd(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(Bd(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new u.vHH(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const s=Us[i];s?e.setAttributeNS(s,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=Us[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(u.JOm.DashCase|u.JOm.Important)?e.style.setProperty(t,r,i&u.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&u.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){if("string"==typeof e&&!(e=O().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(r))}decoratePreventDefault(e){return t=>{if("__ngUnwrap__"===t)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))&&t.preventDefault()}}}function Bd(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class Ra extends no{constructor(e,t,r,i,s,c,h,p){super(e,s,c,p),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const g=Cn(i.id,i.styles);for(const w of g){const D=document.createElement("style");h&&D.setAttribute("nonce",h),D.textContent=w,this.shadowRoot.appendChild(D)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class ui extends no{constructor(e,t,r,i,s,c,h,p){super(e,s,c,h),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i,this.styles=p?Cn(p,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class jd extends ui{constructor(e,t,r,i,s,c,h,p){const g=i+"-"+r.id;super(e,t,r,s,c,h,p,g),this.contentAttr=function Sf(n){return"_ngcontent-%COMP%".replace(fc,n)}(g),this.hostAttr=function _u(n){return"_nghost-%COMP%".replace(fc,n)}(g)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}let xf=(()=>{var n;class e extends mu{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,s){return r.addEventListener(i,s,!1),()=>this.removeEventListener(r,i,s)}removeEventListener(r,i,s){return r.removeEventListener(i,s)}}return(n=e).\u0275fac=function(r){return new(r||n)(u.LFG(_e))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),e})();const yu=["alt","control","meta","shift"],Ma={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},jm={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Pa=(()=>{var n;class e extends mu{constructor(r){super(r)}supports(r){return null!=e.parseEventName(r)}addEventListener(r,i,s){const c=e.parseEventName(i),h=e.eventCallback(c.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>O().onAndCancel(r,c.domEventName,h))}static parseEventName(r){const i=r.toLowerCase().split("."),s=i.shift();if(0===i.length||"keydown"!==s&&"keyup"!==s)return null;const c=e._normalizeKey(i.pop());let h="",p=i.indexOf("code");if(p>-1&&(i.splice(p,1),h="code."),yu.forEach(w=>{const D=i.indexOf(w);D>-1&&(i.splice(D,1),h+=w+".")}),h+=c,0!=i.length||0===c.length)return null;const g={};return g.domEventName=s,g.fullKey=h,g}static matchEventFullKeyCode(r,i){let s=Ma[r.key]||r.key,c="";return i.indexOf("code.")>-1&&(s=r.code,c="code."),!(null==s||!s)&&(s=s.toLowerCase()," "===s?s="space":"."===s&&(s="dot"),yu.forEach(h=>{h!==s&&(0,jm[h])(r)&&(c+=h+".")}),c+=s,c===i)}static eventCallback(r,i,s){return c=>{e.matchEventFullKeyCode(c,r)&&s.runGuarded(()=>i(c))}}static _normalizeKey(r){return"esc"===r?"escape":r}}return(n=e).\u0275fac=function(r){return new(r||n)(u.LFG(_e))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),e})();const Or=(0,u.eFA)(u._c5,"browser",[{provide:u.Lbi,useValue:Mo},{provide:u.g9A,useValue:function zt(){pu.makeCurrent()},multi:!0},{provide:_e,useFactory:function yy(){return(0,u.RDi)(document),document},deps:[]}]),$m=new u.OlP(""),Ir=[{provide:u.rWj,useClass:class Vd{addToWindow(e){u.dqk.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new u.vHH(5103,!1);return s},u.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),u.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),u.dqk.frameworkStabilizers||(u.dqk.frameworkStabilizers=[]),u.dqk.frameworkStabilizers.push(r=>{const i=u.dqk.getAllAngularTestabilities();let s=i.length,c=!1;const h=function(p){c=c||p,s--,0==s&&r(c)};i.forEach(p=>{p.whenStable(h)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?O().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:u.lri,useClass:u.dDg,deps:[u.R0b,u.eoX,u.rWj]},{provide:u.dDg,useClass:u.dDg,deps:[u.R0b,u.eoX,u.rWj]}],ia=[{provide:u.zSh,useValue:"root"},{provide:u.qLn,useFactory:function vu(){return new u.qLn},deps:[]},{provide:Ud,useClass:xf,multi:!0,deps:[_e,u.R0b,u.Lbi]},{provide:Ud,useClass:Pa,multi:!0,deps:[_e]},ol,gu,Bm,{provide:u.FYo,useExisting:ol},{provide:vs,useClass:py,deps:[]},[]];let mc=(()=>{var n;class e{constructor(r){}static withServerTransition(r){return{ngModule:e,providers:[{provide:u.AFp,useValue:r.appId}]}}}return(n=e).\u0275fac=function(r){return new(r||n)(u.LFG($m,12))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[...ia,...Ir],imports:[er,u.hGG]}),e})(),Ve=(()=>{var n;class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}}return(n=e).\u0275fac=function(r){return new(r||n)(u.LFG(_e))},n.\u0275prov=u.Yz7({token:n,factory:function(r){let i=null;return i=r?new r:function Pf(){return new Ve((0,u.LFG)(_e))}(),i},providedIn:"root"}),e})();typeof window<"u"&&window;var di=V(5592),sa=V(4674);function cl(n){return!!n&&(n instanceof di.y||(0,sa.m)(n.lift)&&(0,sa.m)(n.subscribe))}var Bn=V(2459),xt=V(2096),br=V(5619);const{isArray:ll}=Array,{getPrototypeOf:Tu,prototype:bi,keys:Bs}=Object;function Yn(n){if(1===n.length){const e=n[0];if(ll(e))return{args:e,keys:null};if(function No(n){return n&&"object"==typeof n&&Tu(n)===bi}(e)){const t=Bs(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var gc=V(2737),Vt=V(7398);const{isArray:Vf}=Array;function oa(n){return(0,Vt.U)(e=>function Zd(n,e){return Vf(e)?n(...e):n(e)}(n,e))}var oo=V(9940);function ao(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}var Wn=V(8251),aa=V(7103);function _c(...n){const e=(0,oo.yG)(n),t=(0,oo.jO)(n),{args:r,keys:i}=Yn(n);if(0===r.length)return(0,Bn.D)([],e);const s=new di.y(function yc(n,e,t=gc.y){return r=>{Cu(e,()=>{const{length:i}=n,s=new Array(i);let c=i,h=i;for(let p=0;p<i;p++)Cu(e,()=>{const g=(0,Bn.D)(n[p],e);let w=!1;g.subscribe((0,Wn.x)(r,D=>{s[p]=D,w||(w=!0,h--),h||r.next(t(s.slice()))},()=>{--c||r.complete()}))},r)},r)}}(r,e,i?c=>ao(i,c):gc.y));return t?s.pipe(oa(t)):s}function Cu(n,e,t){n?(0,aa.f)(t,n,e):e()}const Na=(0,V(2306).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var ul=V(7537);function Oa(...n){return function Es(){return(0,ul.J)(1)}()((0,Bn.D)(n,(0,oo.yG)(n)))}var Du=V(4829);function dl(n){return new di.y(e=>{(0,Du.Xf)(n()).subscribe(e)})}var Au=V(8407);function hl(n,e){const t=(0,sa.m)(n)?n:()=>n,r=i=>i.error(t());return new di.y(e?i=>e.schedule(r,0,i):r)}var Fa=V(6232),Su=V(7394),Ti=V(9360);function Uf(){return(0,Ti.e)((n,e)=>{let t=null;n._refCount++;const r=(0,Wn.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,s=t;t=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class vc extends di.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,Ti.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Su.w0;const t=this.getSubject();e.add(this.source.subscribe((0,Wn.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Su.w0.EMPTY)}return e}refCount(){return Uf()(this)}}var Fr=V(8645),Tr=V(4664);function ss(n){return n<=0?()=>Fa.E:(0,Ti.e)((e,t)=>{let r=0;e.subscribe((0,Wn.x)(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function La(...n){const e=(0,oo.yG)(n);return(0,Ti.e)((t,r)=>{(e?Oa(n,t,e):Oa(n,t)).subscribe(r)})}function Gr(n,e){return(0,Ti.e)((t,r)=>{let i=0;t.subscribe((0,Wn.x)(r,s=>n.call(e,s,i++)&&r.next(s)))})}var Ui=V(1631);function fl(n){return(0,Ti.e)((e,t)=>{let r=!1;e.subscribe((0,Wn.x)(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function xu(n=Gm){return(0,Ti.e)((e,t)=>{let r=!1;e.subscribe((0,Wn.x)(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function Gm(){return new Na}function Cr(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Gr((i,s)=>n(i,s,r)):gc.y,ss(1),t?fl(e):xu(()=>new Na))}function ca(n,e){return(0,sa.m)(e)?(0,Ui.z)(n,e,1):(0,Ui.z)(n,1)}var Qn=V(9397);function os(n){return(0,Ti.e)((e,t)=>{let s,r=null,i=!1;r=e.subscribe((0,Wn.x)(t,void 0,void 0,c=>{s=(0,Du.Xf)(n(c,os(n)(e))),r?(r.unsubscribe(),r=null,s.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(t))})}function Oo(n,e){return(0,Ti.e)(function Ru(n,e,t,r,i){return(s,c)=>{let h=t,p=e,g=0;s.subscribe((0,Wn.x)(c,w=>{const D=g++;p=h?n(p,w,D):(h=!0,w),r&&c.next(p)},i&&(()=>{h&&c.next(p),c.complete()})))}}(n,e,arguments.length>=2,!0))}function la(n){return n<=0?()=>Fa.E:(0,Ti.e)((e,t)=>{let r=[];e.subscribe((0,Wn.x)(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function ua(n){return(0,Ti.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}var ml=V(2420);function Is(n){return(0,Ti.e)((e,t)=>{(0,Du.Xf)(n).subscribe((0,Wn.x)(t,()=>t.complete(),ml.Z)),!t.closed&&e.subscribe(t)})}const Jt="primary",Va=Symbol("RouteTitle");class wc{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function da(n){return new wc(n)}function Bf(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let s=0;s<r.length;s++){const c=r[s],h=n[s];if(c.startsWith(":"))i[c.substring(1)]=h;else if(c!==h.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function hi(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let s=0;s<t.length;s++)if(i=t[s],!jf(n[i],e[i]))return!1;return!0}function jf(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,s)=>r[s]===i)}return n===e}function Lr(n){return n.length>0?n[n.length-1]:null}function Bi(n){return cl(n)?n:(0,u.QGY)(n)?(0,Bn.D)(Promise.resolve(n)):(0,xt.of)(n)}const $f={exact:function gl(n,e,t){if(!ie(n.segments,e.segments)||!b(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!gl(n.children[r],e.children[r],t))return!1;return!0},subset:Ba},co={exact:function Wm(n,e){return hi(n,e)},subset:function Ec(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>jf(n[t],e[t]))},ignored:()=>!0};function qm(n,e,t){return $f[t.paths](n.root,e.root,t.matrixParams)&&co[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function Ba(n,e,t){return Fo(n,e,e.segments,t)}function Fo(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!ie(i,t)||e.hasChildren()||!b(i,t,r))}if(n.segments.length===t.length){if(!ie(n.segments,t)||!b(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!Ba(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!!(ie(n.segments,i)&&b(n.segments,i,r)&&n.children[Jt])&&Fo(n.children[Jt],e,s,r)}}function b(n,e,t){return e.every((r,i)=>co[t](n[i].parameters,r.parameters))}class S{constructor(e=new R([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=da(this.queryParams)),this._queryParamMap}toString(){return At.serialize(this)}}class R{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ht(this)}}class j{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=da(this.parameters)),this._parameterMap}toString(){return ur(this)}}function ie(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let lt=(()=>{var n;class e{}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return new st},providedIn:"root"}),e})();class st{parse(e){const t=new ku(e);return new S(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Ot(e.root,!0)}`,r=function K0(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${Dr(t)}=${Dr(i)}`).join("&"):`${Dr(t)}=${Dr(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function Xn(n){return encodeURI(n)}(e.fragment)}`:""}`}}const At=new st;function Ht(n){return n.segments.map(e=>ur(e)).join("/")}function Ot(n,e){if(!n.hasChildren())return Ht(n);if(e){const t=n.children[Jt]?Ot(n.children[Jt],!1):"",r=[];return Object.entries(n.children).forEach(([i,s])=>{i!==Jt&&r.push(`${i}:${Ot(s,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function Te(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===Jt&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==Jt&&(t=t.concat(e(i,r)))}),t}(n,(r,i)=>i===Jt?[Ot(n.children[Jt],!1)]:[`${i}:${Ot(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Jt]?`${Ht(n)}/${t[0]}`:`${Ht(n)}/(${t.join("//")})`}}function Ci(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Dr(n){return Ci(n).replace(/%3B/gi,";")}function _l(n){return Ci(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function as(n){return decodeURIComponent(n)}function bs(n){return as(n.replace(/\+/g,"%20"))}function ur(n){return`${_l(n.path)}${function ja(n){return Object.keys(n).map(e=>`;${_l(e)}=${_l(n[e])}`).join("")}(n.parameters)}`}const Pu=/^[^\/()?;#]+/;function Ic(n){const e=n.match(Pu);return e?e[0]:""}const zf=/^[^\/()?;=#]+/,Ey=/^[^=?&#]+/,js=/^[^&#]+/;class ku{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new R([],{}):new R([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Jt]=new R(e,t)),r}parseSegment(){const e=Ic(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new u.vHH(4009,!1);return this.capture(e),new j(as(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=function Z0(n){const e=n.match(zf);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=Ic(this.remaining);i&&(r=i,this.capture(r))}e[as(t)]=as(r)}parseQueryParam(e){const t=function YC(n){const e=n.match(Ey);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const c=function Km(n){const e=n.match(js);return e?e[0]:""}(this.remaining);c&&(r=c,this.capture(r))}const i=bs(t),s=bs(r);if(e.hasOwnProperty(i)){let c=e[i];Array.isArray(c)||(c=[c],e[i]=c),c.push(s)}else e[i]=s}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Ic(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new u.vHH(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=Jt);const c=this.parseChildren();t[s]=1===Object.keys(c).length?c[Jt]:new R([],c),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new u.vHH(4011,!1)}}function Y0(n){return n.segments.length>0?new R([],{[Jt]:n}):n}function Hf(n){const e={};for(const r of Object.keys(n.children)){const s=Hf(n.children[r]);if(r===Jt&&0===s.segments.length&&s.hasChildren())for(const[c,h]of Object.entries(s.children))e[c]=h;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function Q0(n){if(1===n.numberOfChildren&&n.children[Jt]){const e=n.children[Jt];return new R(n.segments.concat(e.segments),e.children)}return n}(new R(n.segments,e))}function Nu(n){return n instanceof S}function _(n){let e;const i=Y0(function t(s){const c={};for(const p of s.children){const g=t(p);c[p.outlet]=g}const h=new R(s.url,c);return s===n&&(e=h),h}(n.root));return e??i}function y(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(0===e.length)return L(i,i,i,t,r);const s=function nt(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new me(!0,0,n);let e=0,t=!1;const r=n.reduce((i,s,c)=>{if("object"==typeof s&&null!=s){if(s.outlets){const h={};return Object.entries(s.outlets).forEach(([p,g])=>{h[p]="string"==typeof g?g.split("/"):g}),[...i,{outlets:h}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===c?(s.split("/").forEach((h,p)=>{0==p&&"."===h||(0==p&&""===h?t=!0:".."===h?e++:""!=h&&i.push(h))}),i):[...i,s]},[]);return new me(t,e,r)}(e);if(s.toRoot())return L(i,i,new R([],{}),t,r);const c=function Mt(n,e,t){if(n.isAbsolute)return new ut(e,!0,0);if(!t)return new ut(e,!1,NaN);if(null===t.parent)return new ut(t,!0,0);const r=T(n.commands[0])?0:1;return function hn(n,e,t){let r=n,i=e,s=t;for(;s>i;){if(s-=i,r=r.parent,!r)throw new u.vHH(4005,!1);i=r.segments.length}return new ut(r,!1,i-s)}(t,t.segments.length-1+r,n.numberOfDoubleDots)}(s,i,n),h=c.processChildren?$a(c.segmentGroup,c.index,s.commands):lo(c.segmentGroup,c.index,s.commands);return L(i,c.segmentGroup,h,t,r)}function T(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function P(n){return"object"==typeof n&&null!=n&&n.outlets}function L(n,e,t,r,i){let c,s={};r&&Object.entries(r).forEach(([p,g])=>{s[p]=Array.isArray(g)?g.map(w=>`${w}`):`${g}`}),c=n===e?t:ne(n,e,t);const h=Y0(Hf(c));return new S(h,s,i)}function ne(n,e,t){const r={};return Object.entries(n.children).forEach(([i,s])=>{r[i]=s===e?t:ne(s,e,t)}),new R(n.segments,r)}class me{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&T(r[0]))throw new u.vHH(4003,!1);const i=r.find(P);if(i&&i!==Lr(r))throw new u.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class ut{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function lo(n,e,t){if(n||(n=new R([],{})),0===n.segments.length&&n.hasChildren())return $a(n,e,t);const r=function Iy(n,e,t){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return s;const c=n.segments[i],h=t[r];if(P(h))break;const p=`${h}`,g=r<t.length-1?t[r+1]:null;if(i>0&&void 0===p)break;if(p&&g&&"object"==typeof g&&void 0===g.outlets){if(!Gf(p,g,c))return s;r+=2}else{if(!Gf(p,{},c))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const s=new R(n.segments.slice(0,r.pathIndex),{});return s.children[Jt]=new R(n.segments.slice(r.pathIndex),n.children),$a(s,0,i)}return r.match&&0===i.length?new R(n.segments,{}):r.match&&!n.hasChildren()?Qd(n,e,t):r.match?$a(n,0,i):Qd(n,e,t)}function $a(n,e,t){if(0===t.length)return new R(n.segments,{});{const r=function ji(n){return P(n[0])?n[0].outlets:{[Jt]:n}}(t),i={};if(Object.keys(r).some(s=>s!==Jt)&&n.children[Jt]&&1===n.numberOfChildren&&0===n.children[Jt].segments.length){const s=$a(n.children[Jt],e,t);return new R(n.segments,s.children)}return Object.entries(r).forEach(([s,c])=>{"string"==typeof c&&(c=[c]),null!==c&&(i[s]=lo(n.children[s],e,c))}),Object.entries(n.children).forEach(([s,c])=>{void 0===r[s]&&(i[s]=c)}),new R(n.segments,i)}}function Qd(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const s=t[i];if(P(s)){const p=yl(s.outlets);return new R(r,p)}if(0===i&&T(t[0])){r.push(new j(n.segments[e].path,vl(t[0]))),i++;continue}const c=P(s)?s.outlets[Jt]:`${s}`,h=i<t.length-1?t[i+1]:null;c&&h&&T(h)?(r.push(new j(c,vl(h))),i+=2):(r.push(new j(c,{})),i++)}return new R(r,{})}function yl(n){const e={};return Object.entries(n).forEach(([t,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(e[t]=Qd(new R([],{}),0,r))}),e}function vl(n){const e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function Gf(n,e,t){return n==t.path&&hi(e,t.parameters)}const Xd="imperative";class uo{constructor(e,t){this.id=e,this.url=t}}class Ou extends uo{constructor(e,t,r="imperative",i=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class bc extends uo{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Jd extends uo{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Tc extends uo{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=16}}class qf extends uo{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Zm extends uo{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class QC extends uo{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class KM extends uo{constructor(e,t,r,i,s){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class XC extends uo{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class fV extends uo{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class JC{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class pV{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class ZM{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class YM{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class X0{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class mV{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class QM{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Ym{}class eD{constructor(e){this.url=e}}class gV{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new by,this.attachRef=null}}let by=(()=>{var n;class e{constructor(){this.contexts=new Map}onChildOutletCreated(r,i){const s=this.getOrCreateContext(r);s.outlet=i,this.contexts.set(r,s)}onChildOutletDestroyed(r){const i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new gV,this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),e})();class XM{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=J0(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=J0(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Wf(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Wf(e,this._root).map(t=>t.value)}}function J0(n,e){if(n===e.value)return e;for(const t of e.children){const r=J0(n,t);if(r)return r}return null}function Wf(n,e){if(n===e.value)return[e];for(const t of e.children){const r=Wf(n,t);if(r.length)return r.unshift(e),r}return[]}class ha{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function eh(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class eE extends XM{constructor(e,t){super(e),this.snapshot=t,rE(this,e)}toString(){return this.snapshot.toString()}}function tE(n,e){const t=function Kf(n,e){const c=new th([],{},{},"",{},Jt,e,null,{});return new Qm("",new ha(c,[]))}(0,e),r=new br.X([new j("",{})]),i=new br.X({}),s=new br.X({}),c=new br.X({}),h=new br.X(""),p=new wl(r,i,c,h,s,Jt,e,t.root);return p.snapshot=t.root,new eE(new ha(p,[]),t)}class wl{constructor(e,t,r,i,s,c,h,p){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=c,this.component=h,this._futureSnapshot=p,this.title=this.dataSubject?.pipe((0,Vt.U)(g=>g[Va]))??(0,xt.of)(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Vt.U)(e=>da(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Vt.U)(e=>da(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function nE(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],s=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function Ty(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class th{get title(){return this.data?.[Va]}constructor(e,t,r,i,s,c,h,p,g){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=c,this.component=h,this.routeConfig=p,this._resolve=g}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=da(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=da(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Qm extends XM{constructor(e,t){super(t),this.url=e,rE(this,t)}toString(){return tD(this._root)}}function rE(n,e){e.value._routerState=n,e.children.forEach(t=>rE(n,t))}function tD(n){const e=n.children.length>0?` { ${n.children.map(tD).join(", ")} } `:"";return`${n.value}${e}`}function iE(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,hi(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),hi(e.params,t.params)||n.paramsSubject.next(t.params),function Ua(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!hi(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.urlSubject.next(t.url),hi(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function Cy(n,e){const t=hi(n.params,e.params)&&function J(n,e){return ie(n,e)&&n.every((t,r)=>hi(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||Cy(n.parent,e.parent))}let Xm=(()=>{var n;class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=Jt,this.activateEvents=new u.vpe,this.deactivateEvents=new u.vpe,this.attachEvents=new u.vpe,this.detachEvents=new u.vpe,this.parentContexts=(0,u.f3M)(by),this.location=(0,u.f3M)(u.s_b),this.changeDetector=(0,u.f3M)(u.sBO),this.environmentInjector=(0,u.f3M)(u.lqb),this.inputBinder=(0,u.f3M)(Dy,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){const{firstChange:i,previousValue:s}=r.name;if(i)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new u.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new u.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new u.vHH(4012,!1);this.location.detach();const r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){const r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new u.vHH(4013,!1);this._activatedRoute=r;const s=this.location,h=r.snapshot.component,p=this.parentContexts.getOrCreateContext(this.name).children,g=new JM(r,p,s.injector);this.activated=s.createComponent(h,{index:s.length,injector:g,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275dir=u.lG2({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[u.TTD]}),e})();class JM{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===wl?this.route:e===by?this.childContexts:this.parent.get(e,t)}}const Dy=new u.OlP("");let nD=(()=>{var n;class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(r){this.unsubscribeFromRouteData(r),this.subscribeToRouteData(r)}unsubscribeFromRouteData(r){this.outletDataSubscriptions.get(r)?.unsubscribe(),this.outletDataSubscriptions.delete(r)}subscribeToRouteData(r){const{activatedRoute:i}=r,s=_c([i.queryParams,i.params,i.data]).pipe((0,Tr.w)(([c,h,p],g)=>(p={...c,...h,...p},0===g?(0,xt.of)(p):Promise.resolve(p)))).subscribe(c=>{if(!r.isActivated||!r.activatedComponentRef||r.activatedRoute!==i||null===i.component)return void this.unsubscribeFromRouteData(r);const h=(0,u.qFp)(i.component);if(h)for(const{templateName:p}of h.inputs)r.activatedComponentRef.setInput(p,c[p]);else this.unsubscribeFromRouteData(r)});this.outletDataSubscriptions.set(r,s)}}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),e})();function Jm(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function eP(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Jm(n,r,i);return Jm(n,r)})}(n,e,t);return new ha(r,i)}{if(n.shouldAttach(e.value)){const s=n.retrieve(e.value);if(null!==s){const c=s.route;return c.value._futureSnapshot=e.value,c.children=e.children.map(h=>Jm(n,h)),c}}const r=function ho(n){return new wl(new br.X(n.url),new br.X(n.params),new br.X(n.queryParams),new br.X(n.fragment),new br.X(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(s=>Jm(n,s));return new ha(r,i)}}const eg="ngNavigationCancelingError";function sE(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=Nu(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=Ay(!1,0,e);return i.url=t,i.navigationBehaviorOptions=r,i}function Ay(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[eg]=!0,r.cancellationCode=e,t&&(r.url=t),r}function Zf(n){return n&&n[eg]}let oE=(()=>{var n;class e{}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[u.jDz],decls:1,vars:0,template:function(r,i){1&r&&u._UZ(0,"router-outlet")},dependencies:[Xm],encapsulation:2}),e})();function tg(n){const e=n.children&&n.children.map(tg),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Jt&&(t.component=oE),t}function Lo(n){return n.outlet||Jt}function El(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class sD{constructor(e,t,r,i,s){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),iE(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=eh(t);e.children.forEach(s=>{const c=s.value.outlet;this.deactivateRoutes(s,i[c],r),delete i[c]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(i===s)if(i.component){const c=r.getContext(i.outlet);c&&this.deactivateChildRoutes(e,t,c.children)}else this.deactivateChildRoutes(e,t,r);else s&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=eh(e);for(const c of Object.keys(s))this.deactivateRouteAndItsChildren(s[c],i);if(r&&r.outlet){const c=r.outlet.detach(),h=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:c,route:e,contexts:h})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=eh(e);for(const c of Object.keys(s))this.deactivateRouteAndItsChildren(s[c],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){const i=eh(t);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new mV(s.value.snapshot))}),e.children.length&&this.forwardEvent(new YM(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(iE(i),i===s)if(i.component){const c=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,c.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const c=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const h=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),c.children.onOutletReAttached(h.contexts),c.attachRef=h.componentRef,c.route=h.route.value,c.outlet&&c.outlet.attach(h.componentRef,h.route.value),iE(h.route.value),this.activateChildRoutes(e,null,c.children)}else{const h=El(i.snapshot);c.attachRef=null,c.route=i,c.injector=h,c.outlet&&c.outlet.activateWith(i,c.injector),this.activateChildRoutes(e,null,c.children)}}else this.activateChildRoutes(e,null,r)}}class aE{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class ng{constructor(e,t){this.component=e,this.route=t}}function Yf(n,e,t){const r=n._root;return rh(r,e?e._root:null,t,[r.value])}function nh(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||(0,u.Z0I)(n)?e.get(n):n:r}function rh(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=eh(e);return n.children.forEach(c=>{(function xy(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,c=e?e.value:null,h=t?t.getContext(n.value.outlet):null;if(c&&s.routeConfig===c.routeConfig){const p=function lP(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!ie(n.url,e.url);case"pathParamsOrQueryParamsChange":return!ie(n.url,e.url)||!hi(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Cy(n,e)||!hi(n.queryParams,e.queryParams);default:return!Cy(n,e)}}(c,s,s.routeConfig.runGuardsAndResolvers);p?i.canActivateChecks.push(new aE(r)):(s.data=c.data,s._resolvedData=c._resolvedData),rh(n,e,s.component?h?h.children:null:t,r,i),p&&h&&h.outlet&&h.outlet.isActivated&&i.canDeactivateChecks.push(new ng(h.outlet.component,c))}else c&&rg(e,h,i),i.canActivateChecks.push(new aE(r)),rh(n,null,s.component?h?h.children:null:t,r,i)})(c,s[c.value.outlet],t,r.concat([c.value]),i),delete s[c.value.outlet]}),Object.entries(s).forEach(([c,h])=>rg(h,t.getContext(c),i)),i}function rg(n,e,t){const r=eh(n),i=n.value;Object.entries(r).forEach(([s,c])=>{rg(c,i.component?e?e.children.getContext(s):null:e,t)}),t.canDeactivateChecks.push(new ng(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function ig(n){return"function"==typeof n}function cD(n){return n instanceof Na||"EmptyError"===n?.name}const Qf=Symbol("INITIAL_VALUE");function ih(){return(0,Tr.w)(n=>_c(n.map(e=>e.pipe(ss(1),La(Qf)))).pipe((0,Vt.U)(e=>{for(const t of e)if(!0!==t){if(t===Qf)return Qf;if(!1===t||t instanceof S)return t}return!0}),Gr(e=>e!==Qf),ss(1)))}function lE(n){return(0,Au.z)((0,Qn.b)(e=>{if(Nu(e))throw sE(0,e)}),(0,Vt.U)(e=>!0===e))}class sg{constructor(e){this.segmentGroup=e||null}}class og{constructor(e){this.urlTree=e}}function Cc(n){return hl(new sg(n))}function dE(n){return hl(new og(n))}class fD{constructor(e,t){this.urlSerializer=e,this.urlTree=t}noMatchError(e){return new u.vHH(4002,!1)}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return(0,xt.of)(r);if(i.numberOfChildren>1||!i.children[Jt])return hl(new u.vHH(4e3,!1));i=i.children[Jt]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,i){const s=this.createSegmentGroup(e,t.root,r,i);return new S(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Object.entries(e).forEach(([i,s])=>{if("string"==typeof s&&s.startsWith(":")){const h=s.substring(1);r[i]=t[h]}else r[i]=s}),r}createSegmentGroup(e,t,r,i){const s=this.createSegments(e,t.segments,r,i);let c={};return Object.entries(t.children).forEach(([h,p])=>{c[h]=this.createSegmentGroup(e,p,r,i)}),new R(s,c)}createSegments(e,t,r,i){return t.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new u.vHH(4001,!1);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}const ag={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function cg(n,e,t,r,i){const s=fE(n,e,t);return s.matched?(r=function iD(n,e){return n.providers&&!n._injector&&(n._injector=(0,u.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}(e,r),function uE(n,e,t,r){const i=e.canMatch;if(!i||0===i.length)return(0,xt.of)(!0);const s=i.map(c=>{const h=nh(c,n);return Bi(function cE(n){return n&&ig(n.canMatch)}(h)?h.canMatch(e,t):n.runInContext(()=>h(e,t)))});return(0,xt.of)(s).pipe(ih(),lE())}(r,e,t).pipe((0,Vt.U)(c=>!0===c?s:{...ag}))):(0,xt.of)(s)}function fE(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...ag}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(e.matcher||Bf)(t,n,e);if(!i)return{...ag};const s={};Object.entries(i.posParams??{}).forEach(([h,p])=>{s[h]=p.path});const c=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:c,positionalParamSegments:i.posParams??{}}}function pE(n,e,t,r){return t.length>0&&function yP(n,e,t){return t.some(r=>lg(n,e,r)&&Lo(r)!==Jt)}(n,t,r)?{segmentGroup:new R(e,_P(r,new R(t,n.children))),slicedSegments:[]}:0===t.length&&function pD(n,e,t){return t.some(r=>lg(n,e,r))}(n,t,r)?{segmentGroup:new R(n.segments,gP(n,0,t,r,n.children)),slicedSegments:t}:{segmentGroup:new R(n.segments,n.children),slicedSegments:t}}function gP(n,e,t,r,i){const s={};for(const c of r)if(lg(n,t,c)&&!i[Lo(c)]){const h=new R([],{});s[Lo(c)]=h}return{...i,...s}}function _P(n,e){const t={};t[Jt]=e;for(const r of n)if(""===r.path&&Lo(r)!==Jt){const i=new R([],{});t[Lo(r)]=i}return t}function lg(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}class vP{constructor(e,t,r,i,s,c,h){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=c,this.urlSerializer=h,this.allowRedirects=!0,this.applyRedirects=new fD(this.urlSerializer,this.urlTree)}noMatchError(e){return new u.vHH(4002,!1)}recognize(){const e=pE(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,Jt).pipe(os(t=>{if(t instanceof og)return this.allowRedirects=!1,this.urlTree=t.urlTree,this.match(t.urlTree);throw t instanceof sg?this.noMatchError(t):t}),(0,Vt.U)(t=>{const r=new th([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Jt,this.rootComponentType,null,{}),i=new ha(r,t),s=new Qm("",i),c=function I(n,e,t=null,r=null){return y(_(n),e,t,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return c.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(c),this.inheritParamsAndData(s._root),{state:s,tree:c}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,Jt).pipe(os(r=>{throw r instanceof sg?this.noMatchError(r):r}))}inheritParamsAndData(e){const t=e.value,r=nE(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i,!0)}processChildren(e,t,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return(0,Bn.D)(i).pipe(ca(s=>{const c=r.children[s],h=function aP(n,e){const t=n.filter(r=>Lo(r)===e);return t.push(...n.filter(r=>Lo(r)!==e)),t}(t,s);return this.processSegmentGroup(e,h,c,s)}),Oo((s,c)=>(s.push(...c),s)),fl(null),function Mu(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Gr((i,s)=>n(i,s,r)):gc.y,la(1),t?fl(e):xu(()=>new Na))}(),(0,Ui.z)(s=>{if(null===s)return Cc(r);const c=mD(s);return function wP(n){n.sort((e,t)=>e.value.outlet===Jt?-1:t.value.outlet===Jt?1:e.value.outlet.localeCompare(t.value.outlet))}(c),(0,xt.of)(c)}))}processSegment(e,t,r,i,s,c){return(0,Bn.D)(t).pipe(ca(h=>this.processSegmentAgainstRoute(h._injector??e,t,h,r,i,s,c).pipe(os(p=>{if(p instanceof sg)return(0,xt.of)(null);throw p}))),Cr(h=>!!h),os(h=>{if(cD(h))return function mE(n,e,t){return 0===e.length&&!n.children[t]}(r,i,s)?(0,xt.of)([]):Cc(r);throw h}))}processSegmentAgainstRoute(e,t,r,i,s,c,h){return function ky(n,e,t,r){return!!(Lo(n)===r||r!==Jt&&lg(e,t,n))&&("**"===n.path||fE(e,n,t).matched)}(r,i,s,c)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,i,r,s,c,h):h&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,s,c):Cc(i):Cc(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,c){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,c):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,c)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const s=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?dE(s):this.applyRedirects.lineralizeSegments(r,s).pipe((0,Ui.z)(c=>{const h=new R(c,{});return this.processSegment(e,t,h,c,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,c){const{matched:h,consumedSegments:p,remainingSegments:g,positionalParamSegments:w}=fE(t,i,s);if(!h)return Cc(t);const D=this.applyRedirects.applyRedirectCommands(p,i.redirectTo,w);return i.redirectTo.startsWith("/")?dE(D):this.applyRedirects.lineralizeSegments(i,D).pipe((0,Ui.z)(M=>this.processSegment(e,r,t,M.concat(g),c,!1)))}matchSegmentAgainstRoute(e,t,r,i,s,c){let h;if("**"===r.path){const p=i.length>0?Lr(i).parameters:{},g=new th(i,p,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,_D(r),Lo(r),r.component??r._loadedComponent??null,r,oh(r));h=(0,xt.of)({snapshot:g,consumedSegments:[],remainingSegments:[]}),t.children={}}else h=cg(t,r,i,e).pipe((0,Vt.U)(({matched:p,consumedSegments:g,remainingSegments:w,parameters:D})=>p?{snapshot:new th(g,D,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,_D(r),Lo(r),r.component??r._loadedComponent??null,r,oh(r)),consumedSegments:g,remainingSegments:w}:null));return h.pipe((0,Tr.w)(p=>null===p?Cc(t):this.getChildConfig(e=r._injector??e,r,i).pipe((0,Tr.w)(({routes:g})=>{const w=r._loadedInjector??e,{snapshot:D,consumedSegments:M,remainingSegments:N}=p,{segmentGroup:K,slicedSegments:te}=pE(t,M,N,g);if(0===te.length&&K.hasChildren())return this.processChildren(w,g,K).pipe((0,Vt.U)(be=>null===be?null:[new ha(D,be)]));if(0===g.length&&0===te.length)return(0,xt.of)([new ha(D,[])]);const X=Lo(r)===s;return this.processSegment(w,g,K,te,X?Jt:s,!0).pipe((0,Vt.U)(be=>[new ha(D,be)]))}))))}getChildConfig(e,t,r){return t.children?(0,xt.of)({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?(0,xt.of)({routes:t._loadedRoutes,injector:t._loadedInjector}):function hD(n,e,t,r){const i=e.canLoad;if(void 0===i||0===i.length)return(0,xt.of)(!0);const s=i.map(c=>{const h=nh(c,n);return Bi(function dP(n){return n&&ig(n.canLoad)}(h)?h.canLoad(e,t):n.runInContext(()=>h(e,t)))});return(0,xt.of)(s).pipe(ih(),lE())}(e,t,r).pipe((0,Ui.z)(i=>i?this.configLoader.loadChildren(e,t).pipe((0,Qn.b)(s=>{t._loadedRoutes=s.routes,t._loadedInjector=s.injector})):function Py(n){return hl(Ay(!1,3))}())):(0,xt.of)({routes:[],injector:e})}}function EV(n){const e=n.value.routeConfig;return e&&""===e.path}function mD(n){const e=[],t=new Set;for(const r of n){if(!EV(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=mD(r.children);e.push(new ha(r.value,i))}return e.filter(r=>!t.has(r))}function _D(n){return n.data||{}}function oh(n){return n.resolve||{}}function ID(n){return"string"==typeof n.title||null===n.title}function _E(n){return(0,Tr.w)(e=>{const t=n(e);return t?(0,Bn.D)(t).pipe((0,Vt.U)(()=>e)):(0,xt.of)(e)})}const Jf=new u.OlP("ROUTES");let yE=(()=>{var n;class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,u.f3M)(u.Sil)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return(0,xt.of)(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);const i=Bi(r.loadComponent()).pipe((0,Vt.U)(Il),(0,Qn.b)(c=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=c}),ua(()=>{this.componentLoaders.delete(r)})),s=new vc(i,()=>new Fr.x).pipe(Uf());return this.componentLoaders.set(r,s),s}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return(0,xt.of)({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const c=this.loadModuleFactoryOrRoutes(i.loadChildren).pipe((0,Vt.U)(p=>{this.onLoadEndListener&&this.onLoadEndListener(i);let g,w;return Array.isArray(p)?w=p:(g=p.create(r).injector,w=g.get(Jf,[],u.XFs.Self|u.XFs.Optional).flat()),{routes:w.map(tg),injector:g}}),ua(()=>{this.childrenLoaders.delete(i)})),h=new vc(c,()=>new Fr.x).pipe(Uf());return this.childrenLoaders.set(i,h),h}loadModuleFactoryOrRoutes(r){return Bi(r()).pipe((0,Vt.U)(Il),(0,Ui.z)(i=>i instanceof u.YKP||Array.isArray(i)?(0,xt.of)(i):(0,Bn.D)(this.compiler.compileModuleAsync(i))))}}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),e})();function Il(n){return function EP(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let Fu=(()=>{var n;class e{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Fr.x,this.transitionAbortSubject=new Fr.x,this.configLoader=(0,u.f3M)(yE),this.environmentInjector=(0,u.f3M)(u.lqb),this.urlSerializer=(0,u.f3M)(lt),this.rootContexts=(0,u.f3M)(by),this.inputBindingEnabled=null!==(0,u.f3M)(Dy,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,xt.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=s=>this.events.next(new pV(s)),this.configLoader.onLoadStartListener=s=>this.events.next(new JC(s))}complete(){this.transitions?.complete()}handleNavigationRequest(r){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...r,id:i})}setupNavigations(r,i,s){return this.transitions=new br.X({id:0,currentUrlTree:i,currentRawUrl:i,currentBrowserUrl:i,extractedUrl:r.urlHandlingStrategy.extract(i),urlAfterRedirects:r.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Xd,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Gr(c=>0!==c.id),(0,Vt.U)(c=>({...c,extractedUrl:r.urlHandlingStrategy.extract(c.rawUrl)})),(0,Tr.w)(c=>{this.currentTransition=c;let h=!1,p=!1;return(0,xt.of)(c).pipe((0,Qn.b)(g=>{this.currentNavigation={id:g.id,initialUrl:g.rawUrl,extractedUrl:g.extractedUrl,trigger:g.source,extras:g.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,Tr.w)(g=>{const w=g.currentBrowserUrl.toString(),D=!r.navigated||g.extractedUrl.toString()!==w||w!==g.currentUrlTree.toString();if(!D&&"reload"!==(g.extras.onSameUrlNavigation??r.onSameUrlNavigation)){const N="";return this.events.next(new Tc(g.id,this.urlSerializer.serialize(g.rawUrl),N,0)),g.resolve(null),Fa.E}if(r.urlHandlingStrategy.shouldProcessUrl(g.rawUrl))return(0,xt.of)(g).pipe((0,Tr.w)(N=>{const K=this.transitions?.getValue();return this.events.next(new Ou(N.id,this.urlSerializer.serialize(N.extractedUrl),N.source,N.restoredState)),K!==this.transitions?.getValue()?Fa.E:Promise.resolve(N)}),function Ny(n,e,t,r,i,s){return(0,Ui.z)(c=>function Xf(n,e,t,r,i,s,c="emptyOnly"){return new vP(n,e,t,r,i,c,s).recognize()}(n,e,t,r,c.extractedUrl,i,s).pipe((0,Vt.U)(({state:h,tree:p})=>({...c,targetSnapshot:h,urlAfterRedirects:p}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,r.paramsInheritanceStrategy),(0,Qn.b)(N=>{c.targetSnapshot=N.targetSnapshot,c.urlAfterRedirects=N.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:N.urlAfterRedirects};const K=new Zm(N.id,this.urlSerializer.serialize(N.extractedUrl),this.urlSerializer.serialize(N.urlAfterRedirects),N.targetSnapshot);this.events.next(K)}));if(D&&r.urlHandlingStrategy.shouldProcessUrl(g.currentRawUrl)){const{id:N,extractedUrl:K,source:te,restoredState:X,extras:be}=g,$e=new Ou(N,this.urlSerializer.serialize(K),te,X);this.events.next($e);const ze=tE(0,this.rootComponentType).snapshot;return this.currentTransition=c={...g,targetSnapshot:ze,urlAfterRedirects:K,extras:{...be,skipLocationChange:!1,replaceUrl:!1}},(0,xt.of)(c)}{const N="";return this.events.next(new Tc(g.id,this.urlSerializer.serialize(g.extractedUrl),N,1)),g.resolve(null),Fa.E}}),(0,Qn.b)(g=>{const w=new QC(g.id,this.urlSerializer.serialize(g.extractedUrl),this.urlSerializer.serialize(g.urlAfterRedirects),g.targetSnapshot);this.events.next(w)}),(0,Vt.U)(g=>(this.currentTransition=c={...g,guards:Yf(g.targetSnapshot,g.currentSnapshot,this.rootContexts)},c)),function sh(n,e){return(0,Ui.z)(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:c}}=t;return 0===c.length&&0===s.length?(0,xt.of)({...t,guardsResult:!0}):function lD(n,e,t,r){return(0,Bn.D)(n).pipe((0,Ui.z)(i=>function dD(n,e,t,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||0===s.length)return(0,xt.of)(!0);const c=s.map(h=>{const p=El(e)??i,g=nh(h,p);return Bi(function Ry(n){return n&&ig(n.canDeactivate)}(g)?g.canDeactivate(n,e,t,r):p.runInContext(()=>g(n,e,t,r))).pipe(Cr())});return(0,xt.of)(c).pipe(ih())}(i.component,i.route,t,e,r)),Cr(i=>!0!==i,!0))}(c,r,i,n).pipe((0,Ui.z)(h=>h&&function uP(n){return"boolean"==typeof n}(h)?function uD(n,e,t,r){return(0,Bn.D)(e).pipe(ca(i=>Oa(function wV(n,e){return null!==n&&e&&e(new ZM(n)),(0,xt.of)(!0)}(i.route.parent,r),function pP(n,e){return null!==n&&e&&e(new X0(n)),(0,xt.of)(!0)}(i.route,r),function mP(n,e,t){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(c=>function Sy(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(c)).filter(c=>null!==c).map(c=>dl(()=>{const h=c.guards.map(p=>{const g=El(c.node)??t,w=nh(p,g);return Bi(function oD(n){return n&&ig(n.canActivateChild)}(w)?w.canActivateChild(r,n):g.runInContext(()=>w(r,n))).pipe(Cr())});return(0,xt.of)(h).pipe(ih())}));return(0,xt.of)(s).pipe(ih())}(n,i.path,t),function My(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return(0,xt.of)(!0);const i=r.map(s=>dl(()=>{const c=El(e)??t,h=nh(s,c);return Bi(function hP(n){return n&&ig(n.canActivate)}(h)?h.canActivate(e,n):c.runInContext(()=>h(e,n))).pipe(Cr())}));return(0,xt.of)(i).pipe(ih())}(n,i.route,t))),Cr(i=>!0!==i,!0))}(r,s,n,e):(0,xt.of)(h)),(0,Vt.U)(h=>({...t,guardsResult:h})))})}(this.environmentInjector,g=>this.events.next(g)),(0,Qn.b)(g=>{if(c.guardsResult=g.guardsResult,Nu(g.guardsResult))throw sE(0,g.guardsResult);const w=new KM(g.id,this.urlSerializer.serialize(g.extractedUrl),this.urlSerializer.serialize(g.urlAfterRedirects),g.targetSnapshot,!!g.guardsResult);this.events.next(w)}),Gr(g=>!!g.guardsResult||(this.cancelNavigationTransition(g,"",3),!1)),_E(g=>{if(g.guards.canActivateChecks.length)return(0,xt.of)(g).pipe((0,Qn.b)(w=>{const D=new XC(w.id,this.urlSerializer.serialize(w.extractedUrl),this.urlSerializer.serialize(w.urlAfterRedirects),w.targetSnapshot);this.events.next(D)}),(0,Tr.w)(w=>{let D=!1;return(0,xt.of)(w).pipe(function gE(n,e){return(0,Ui.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return(0,xt.of)(t);let s=0;return(0,Bn.D)(i).pipe(ca(c=>function yD(n,e,t,r){const i=n.routeConfig,s=n._resolve;return void 0!==i?.title&&!ID(i)&&(s[Va]=i.title),function vD(n,e,t,r){const i=function wD(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return(0,xt.of)({});const s={};return(0,Bn.D)(i).pipe((0,Ui.z)(c=>function ED(n,e,t,r){const i=El(e)??r,s=nh(n,i);return Bi(s.resolve?s.resolve(e,t):i.runInContext(()=>s(e,t)))}(n[c],e,t,r).pipe(Cr(),(0,Qn.b)(h=>{s[c]=h}))),la(1),function pl(n){return(0,Vt.U)(()=>n)}(s),os(c=>cD(c)?Fa.E:hl(c)))}(s,n,e,r).pipe((0,Vt.U)(c=>(n._resolvedData=c,n.data=nE(n,t).resolve,i&&ID(i)&&(n.data[Va]=i.title),null)))}(c.route,r,n,e)),(0,Qn.b)(()=>s++),la(1),(0,Ui.z)(c=>s===i.length?(0,xt.of)(t):Fa.E))})}(r.paramsInheritanceStrategy,this.environmentInjector),(0,Qn.b)({next:()=>D=!0,complete:()=>{D||this.cancelNavigationTransition(w,"",2)}}))}),(0,Qn.b)(w=>{const D=new fV(w.id,this.urlSerializer.serialize(w.extractedUrl),this.urlSerializer.serialize(w.urlAfterRedirects),w.targetSnapshot);this.events.next(D)}))}),_E(g=>{const w=D=>{const M=[];D.routeConfig?.loadComponent&&!D.routeConfig._loadedComponent&&M.push(this.configLoader.loadComponent(D.routeConfig).pipe((0,Qn.b)(N=>{D.component=N}),(0,Vt.U)(()=>{})));for(const N of D.children)M.push(...w(N));return M};return _c(w(g.targetSnapshot.root)).pipe(fl(),ss(1))}),_E(()=>this.afterPreactivation()),(0,Vt.U)(g=>{const w=function rD(n,e,t){const r=Jm(n,e._root,t?t._root:void 0);return new eE(r,e)}(r.routeReuseStrategy,g.targetSnapshot,g.currentRouterState);return this.currentTransition=c={...g,targetRouterState:w},c}),(0,Qn.b)(()=>{this.events.next(new Ym)}),((n,e,t,r)=>(0,Vt.U)(i=>(new sD(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)))(this.rootContexts,r.routeReuseStrategy,g=>this.events.next(g),this.inputBindingEnabled),ss(1),(0,Qn.b)({next:g=>{h=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new bc(g.id,this.urlSerializer.serialize(g.extractedUrl),this.urlSerializer.serialize(g.urlAfterRedirects))),r.titleStrategy?.updateTitle(g.targetRouterState.snapshot),g.resolve(!0)},complete:()=>{h=!0}}),Is(this.transitionAbortSubject.pipe((0,Qn.b)(g=>{throw g}))),ua(()=>{h||p||this.cancelNavigationTransition(c,"",1),this.currentNavigation?.id===c.id&&(this.currentNavigation=null)}),os(g=>{if(p=!0,Zf(g))this.events.next(new Jd(c.id,this.urlSerializer.serialize(c.extractedUrl),g.message,g.cancellationCode)),function Ts(n){return Zf(n)&&Nu(n.url)}(g)?this.events.next(new eD(g.url)):c.resolve(!1);else{this.events.next(new qf(c.id,this.urlSerializer.serialize(c.extractedUrl),g,c.targetSnapshot??void 0));try{c.resolve(r.errorHandler(g))}catch(w){c.reject(w)}}return Fa.E}))}))}cancelNavigationTransition(r,i,s){const c=new Jd(r.id,this.urlSerializer.serialize(r.extractedUrl),i,s);this.events.next(c),r.resolve(!1)}}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),e})();function bD(n){return n!==Xd}let IP=(()=>{var n;class e{buildTitle(r){let i,s=r.root;for(;void 0!==s;)i=this.getResolvedTitleForRoute(s)??i,s=s.children.find(c=>c.outlet===Jt);return i}getResolvedTitleForRoute(r){return r.data[Va]}}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return(0,u.f3M)(IV)},providedIn:"root"}),e})(),IV=(()=>{var n;class e extends IP{constructor(r){super(),this.title=r}updateTitle(r){const i=this.buildTitle(r);void 0!==i&&this.title.setTitle(i)}}return(n=e).\u0275fac=function(r){return new(r||n)(u.LFG(Ve))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),e})(),bV=(()=>{var n;class e{}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return(0,u.f3M)(CV)},providedIn:"root"}),e})();class TV{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let CV=(()=>{var n;class e extends TV{}return(n=e).\u0275fac=function(){let t;return function(i){return(t||(t=u.n5z(n)))(i||n)}}(),n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),e})();const ug=new u.OlP("",{providedIn:"root",factory:()=>({})});let bP=(()=>{var n;class e{}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return(0,u.f3M)(TP)},providedIn:"root"}),e})(),TP=(()=>{var n;class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),e})();var dg=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(dg||{});function TD(n,e){n.events.pipe(Gr(t=>t instanceof bc||t instanceof Jd||t instanceof qf||t instanceof Tc),(0,Vt.U)(t=>t instanceof bc||t instanceof Tc?dg.COMPLETE:t instanceof Jd&&(0===t.code||1===t.code)?dg.REDIRECTING:dg.FAILED),Gr(t=>t!==dg.REDIRECTING),ss(1)).subscribe(()=>{e()})}function vE(n){throw n}function bl(n,e,t){return e.parse("/")}const hg={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},CD={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let $i=(()=>{var n;class e{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,u.f3M)(u.c2e),this.isNgZoneEnabled=!1,this._events=new Fr.x,this.options=(0,u.f3M)(ug,{optional:!0})||{},this.pendingTasks=(0,u.f3M)(u.HDt),this.errorHandler=this.options.errorHandler||vE,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||bl,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,u.f3M)(bP),this.routeReuseStrategy=(0,u.f3M)(bV),this.titleStrategy=(0,u.f3M)(IP),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,u.f3M)(Jf,{optional:!0})?.flat()??[],this.navigationTransitions=(0,u.f3M)(Fu),this.urlSerializer=(0,u.f3M)(lt),this.location=(0,u.f3M)(at),this.componentInputBindingEnabled=!!(0,u.f3M)(Dy,{optional:!0}),this.eventsSubscription=new Su.w0,this.isNgZoneEnabled=(0,u.f3M)(u.R0b)instanceof u.R0b&&u.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new S,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=tE(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(r=>{this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId},r=>{this.console.warn(`Unhandled Navigation Error: ${r}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const r=this.navigationTransitions.events.subscribe(i=>{try{const{currentTransition:s}=this.navigationTransitions;if(null===s)return void(CP(i)&&this._events.next(i));if(i instanceof Ou)bD(s.source)&&(this.browserUrlTree=s.extractedUrl);else if(i instanceof Tc)this.rawUrlTree=s.rawUrl;else if(i instanceof Zm){if("eager"===this.urlUpdateStrategy){if(!s.extras.skipLocationChange){const c=this.urlHandlingStrategy.merge(s.urlAfterRedirects,s.rawUrl);this.setBrowserUrl(c,s)}this.browserUrlTree=s.urlAfterRedirects}}else if(i instanceof Ym)this.currentUrlTree=s.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(s.urlAfterRedirects,s.rawUrl),this.routerState=s.targetRouterState,"deferred"===this.urlUpdateStrategy&&(s.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,s),this.browserUrlTree=s.urlAfterRedirects);else if(i instanceof Jd)0!==i.code&&1!==i.code&&(this.navigated=!0),(3===i.code||2===i.code)&&this.restoreHistory(s);else if(i instanceof eD){const c=this.urlHandlingStrategy.merge(i.url,s.currentRawUrl),h={skipLocationChange:s.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||bD(s.source)};this.scheduleNavigation(c,Xd,null,h,{resolve:s.resolve,reject:s.reject,promise:s.promise})}i instanceof qf&&this.restoreHistory(s,!0),i instanceof bc&&(this.navigated=!0),CP(i)&&this._events.next(i)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const r=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Xd,r)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(r=>{const i="popstate"===r.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{this.navigateToSyncWithBrowser(r.url,i,r.state)},0)}))}navigateToSyncWithBrowser(r,i,s){const c={replaceUrl:!0},h=s?.navigationId?s:null;if(s){const g={...s};delete g.navigationId,delete g.\u0275routerPageId,0!==Object.keys(g).length&&(c.state=g)}const p=this.parseUrl(r);this.scheduleNavigation(p,i,h,c)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(tg),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){const{relativeTo:s,queryParams:c,fragment:h,queryParamsHandling:p,preserveFragment:g}=i,w=g?this.currentUrlTree.fragment:h;let M,D=null;switch(p){case"merge":D={...this.currentUrlTree.queryParams,...c};break;case"preserve":D=this.currentUrlTree.queryParams;break;default:D=c||null}null!==D&&(D=this.removeEmptyProps(D));try{M=_(s?s.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof r[0]||!r[0].startsWith("/"))&&(r=[]),M=this.currentUrlTree.root}return y(M,r,D,w??null)}navigateByUrl(r,i={skipLocationChange:!1}){const s=Nu(r)?r:this.parseUrl(r),c=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(c,Xd,null,i)}navigate(r,i={skipLocationChange:!1}){return function DD(n){for(let e=0;e<n.length;e++)if(null==n[e])throw new u.vHH(4008,!1)}(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){let i;try{i=this.urlSerializer.parse(r)}catch(s){i=this.malformedUriErrorHandler(s,this.urlSerializer,r)}return i}isActive(r,i){let s;if(s=!0===i?{...hg}:!1===i?{...CD}:i,Nu(r))return qm(this.currentUrlTree,r,s);const c=this.parseUrl(r);return qm(this.currentUrlTree,c,s)}removeEmptyProps(r){return Object.keys(r).reduce((i,s)=>{const c=r[s];return null!=c&&(i[s]=c),i},{})}scheduleNavigation(r,i,s,c,h){if(this.disposed)return Promise.resolve(!1);let p,g,w;h?(p=h.resolve,g=h.reject,w=h.promise):w=new Promise((M,N)=>{p=M,g=N});const D=this.pendingTasks.add();return TD(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(D))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:r,extras:c,resolve:p,reject:g,promise:w,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),w.catch(M=>Promise.reject(M))}setBrowserUrl(r,i){const s=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(s)||i.extras.replaceUrl){const h={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId)};this.location.replaceState(s,"",h)}else{const c={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId+1)};this.location.go(s,"",c)}}restoreHistory(r,i=!1){if("computed"===this.canceledNavigationResolution){const c=this.currentPageId-this.browserPageId;0!==c?this.location.historyGo(c):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===c&&(this.resetState(r),this.browserUrlTree=r.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=r.currentRouterState,this.currentUrlTree=r.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return"computed"===this.canceledNavigationResolution?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),e})();function CP(n){return!(n instanceof Ym||n instanceof eD)}let Oy=(()=>{var n;class e{constructor(r,i,s,c,h,p){this.router=r,this.route=i,this.tabIndexAttribute=s,this.renderer=c,this.el=h,this.locationStrategy=p,this.href=null,this.commands=null,this.onChanges=new Fr.x,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const g=h.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===g||"area"===g,this.isAnchorElement?this.subscription=r.events.subscribe(w=>{w instanceof bc&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(r){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",r)}ngOnChanges(r){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(r){null!=r?(this.commands=Array.isArray(r)?r:[r],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(r,i,s,c,h){return!!(null===this.urlTree||this.isAnchorElement&&(0!==r||i||s||c||h||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const r=null===this.href?null:(0,u.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(r,i){const s=this.renderer,c=this.el.nativeElement;null!==i?s.setAttribute(c,r,i):s.removeAttribute(c,r)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return(n=e).\u0275fac=function(r){return new(r||n)(u.Y36($i),u.Y36(wl),u.$8M("tabindex"),u.Y36(u.Qsj),u.Y36(u.SBq),u.Y36(Ge))},n.\u0275dir=u.lG2({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){1&r&&u.NdJ("click",function(c){return i.onClick(c.button,c.ctrlKey,c.shiftKey,c.altKey,c.metaKey)}),2&r&&u.uIk("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",u.VuI],skipLocationChange:["skipLocationChange","skipLocationChange",u.VuI],replaceUrl:["replaceUrl","replaceUrl",u.VuI],routerLink:"routerLink"},standalone:!0,features:[u.Xq5,u.TTD]}),e})();class Fy{}let AD=(()=>{var n;class e{constructor(r,i,s,c,h){this.router=r,this.injector=s,this.preloadingStrategy=c,this.loader=h}setUpPreloading(){this.subscription=this.router.events.pipe(Gr(r=>r instanceof bc),ca(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(r,i){const s=[];for(const c of i){c.providers&&!c._injector&&(c._injector=(0,u.MMx)(c.providers,r,`Route: ${c.path}`));const h=c._injector??r,p=c._loadedInjector??h;(c.loadChildren&&!c._loadedRoutes&&void 0===c.canLoad||c.loadComponent&&!c._loadedComponent)&&s.push(this.preloadConfig(h,c)),(c.children||c._loadedRoutes)&&s.push(this.processRoutes(p,c.children??c._loadedRoutes))}return(0,Bn.D)(s).pipe((0,ul.J)())}preloadConfig(r,i){return this.preloadingStrategy.preload(i,()=>{let s;s=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(r,i):(0,xt.of)(null);const c=s.pipe((0,Ui.z)(h=>null===h?(0,xt.of)(void 0):(i._loadedRoutes=h.routes,i._loadedInjector=h.injector,this.processRoutes(h.injector??r,h.routes))));if(i.loadComponent&&!i._loadedComponent){const h=this.loader.loadComponent(i);return(0,Bn.D)([c,h]).pipe((0,ul.J)())}return c})}}return(n=e).\u0275fac=function(r){return new(r||n)(u.LFG($i),u.LFG(u.Sil),u.LFG(u.lqb),u.LFG(Fy),u.LFG(yE))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),e})();const EE=new u.OlP("");let SD=(()=>{var n;class e{constructor(r,i,s,c,h={}){this.urlSerializer=r,this.transitions=i,this.viewportScroller=s,this.zone=c,this.options=h,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},h.scrollPositionRestoration=h.scrollPositionRestoration||"disabled",h.anchorScrolling=h.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof Ou?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=r.navigationTrigger,this.restoredId=r.restoredState?r.restoredState.navigationId:0):r instanceof bc?(this.lastId=r.id,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.urlAfterRedirects).fragment)):r instanceof Tc&&0===r.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof QM&&(r.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(r.position):r.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(r.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(r,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new QM(r,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return(n=e).\u0275fac=function(r){u.$Z()},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),e})();function Dc(n,e){return{\u0275kind:n,\u0275providers:e}}function ah(){const n=(0,u.f3M)(u.zs3);return e=>{const t=n.get(u.z2F);if(e!==t.components[0])return;const r=n.get($i),i=n.get(MD);1===n.get(IE)&&r.initialNavigation(),n.get(kD,null,u.XFs.Optional)?.setUpPreloading(),n.get(EE,null,u.XFs.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const MD=new u.OlP("",{factory:()=>new Fr.x}),IE=new u.OlP("",{providedIn:"root",factory:()=>1}),kD=new u.OlP("");function DP(n){return Dc(0,[{provide:kD,useExisting:AD},{provide:Fy,useExisting:n}])}const kn=new u.OlP("ROUTER_FORROOT_GUARD"),fg=[at,{provide:lt,useClass:st},$i,by,{provide:wl,useFactory:function xD(n){return n.routerState.root},deps:[$i]},yE,[]];function ND(){return new u.PXZ("Router",$i)}let TE=(()=>{var n;class e{constructor(r){}static forRoot(r,i){return{ngModule:e,providers:[fg,[],{provide:Jf,multi:!0,useValue:r},{provide:kn,useFactory:OD,deps:[[$i,new u.FiY,new u.tp0]]},{provide:ug,useValue:i||{}},i?.useHash?{provide:Ge,useClass:Ue}:{provide:Ge,useClass:it},{provide:EE,useFactory:()=>{const n=(0,u.f3M)(Ei),e=(0,u.f3M)(u.R0b),t=(0,u.f3M)(ug),r=(0,u.f3M)(Fu),i=(0,u.f3M)(lt);return t.scrollOffset&&n.setOffset(t.scrollOffset),new SD(i,r,n,e,t)}},i?.preloadingStrategy?DP(i.preloadingStrategy).\u0275providers:[],{provide:u.PXZ,multi:!0,useFactory:ND},i?.initialNavigation?FD(i):[],i?.bindToComponentInputs?Dc(8,[nD,{provide:Dy,useExisting:nD}]).\u0275providers:[],[{provide:pg,useFactory:ah},{provide:u.tb,multi:!0,useExisting:pg}]]}}static forChild(r){return{ngModule:e,providers:[{provide:Jf,multi:!0,useValue:r}]}}}return(n=e).\u0275fac=function(r){return new(r||n)(u.LFG(kn,8))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),e})();function OD(n){return"guarded"}function FD(n){return["disabled"===n.initialNavigation?Dc(3,[{provide:u.ip1,multi:!0,useFactory:()=>{const e=(0,u.f3M)($i);return()=>{e.setUpLocationChangeListener()}}},{provide:IE,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Dc(2,[{provide:IE,useValue:0},{provide:u.ip1,multi:!0,deps:[u.zs3],useFactory:e=>{const t=e.get(ke,Promise.resolve());return()=>t.then(()=>new Promise(r=>{const i=e.get($i),s=e.get(MD);TD(i,()=>{r(!0)}),e.get(Fu).afterPreactivation=()=>(r(!0),s.closed?(0,xt.of)(void 0):s),i.initialNavigation()}))}}]).\u0275providers:[]]}const pg=new u.OlP("");class Uy{}class tp{}class Vo{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?"string"==typeof e?this.lazyInit=()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const i=t.slice(0,r),s=i.toLowerCase(),c=t.slice(r+1).trim();this.maybeSetNormalizedName(i,s),this.headers.has(s)?this.headers.get(s).push(c):this.headers.set(s,[c])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,r)=>{this.setHeaderEntries(r,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{this.setHeaderEntries(t,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof Vo?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new Vo;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof Vo?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const i=("a"===e.op?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":const s=e.value;if(s){let c=this.headers.get(t);if(!c)return;c=c.filter(h=>-1===s.indexOf(h)),0===c.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,c)}else this.headers.delete(t),this.normalizedNames.delete(t)}}setHeaderEntries(e,t){const r=(Array.isArray(t)?t:[t]).map(s=>s.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class AE{encodeKey(e){return $y(e)}encodeValue(e){return $y(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const Ac=/%(\d[a-f0-9])/gi,jy={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function $y(n){return encodeURIComponent(n).replace(Ac,(e,t)=>jy[t]??e)}function zy(n){return`${n}`}class Lu{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new AE,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function By(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{const s=i.indexOf("="),[c,h]=-1==s?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,s)),e.decodeValue(i.slice(s+1))],p=t.get(c)||[];p.push(h),t.set(c,p)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t],i=Array.isArray(r)?r.map(zy):[zy(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(s=>{t.push({param:r,value:s,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new Lu({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(zy(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(zy(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class np{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function UD(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function BD(n){return typeof Blob<"u"&&n instanceof Blob}function Hy(n){return typeof FormData<"u"&&n instanceof FormData}class mg{constructor(e,t,r,i){let s;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function PP(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new Vo),this.context||(this.context=new np),this.params){const c=this.params.toString();if(0===c.length)this.urlWithParams=t;else{const h=t.indexOf("?");this.urlWithParams=t+(-1===h?"?":h<t.length-1?"&":"")+c}}else this.params=new Lu,this.urlWithParams=t}serializeBody(){return null===this.body?null:UD(this.body)||BD(this.body)||Hy(this.body)||function jD(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Lu?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Hy(this.body)?null:BD(this.body)?this.body.type||null:UD(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Lu?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,s=void 0!==e.body?e.body:this.body,c=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,h=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let p=e.headers||this.headers,g=e.params||this.params;const w=e.context??this.context;return void 0!==e.setHeaders&&(p=Object.keys(e.setHeaders).reduce((D,M)=>D.set(M,e.setHeaders[M]),p)),e.setParams&&(g=Object.keys(e.setParams).reduce((D,M)=>D.set(M,e.setParams[M]),g)),new mg(t,r,s,{params:g,headers:p,context:w,reportProgress:h,responseType:i,withCredentials:c})}}var ch=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(ch||{});class gg{constructor(e,t=200,r="OK"){this.headers=e.headers||new Vo,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class $D extends gg{constructor(e={}){super(e),this.type=ch.ResponseHeader}clone(e={}){return new $D({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class rp extends gg{constructor(e={}){super(e),this.type=ch.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new rp({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class zD extends gg{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function SE(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let xE=(()=>{var n;class e{constructor(r){this.handler=r}request(r,i,s={}){let c;if(r instanceof mg)c=r;else{let g,w;g=s.headers instanceof Vo?s.headers:new Vo(s.headers),s.params&&(w=s.params instanceof Lu?s.params:new Lu({fromObject:s.params})),c=new mg(r,i,void 0!==s.body?s.body:null,{headers:g,context:s.context,params:w,reportProgress:s.reportProgress,responseType:s.responseType||"json",withCredentials:s.withCredentials})}const h=(0,xt.of)(c).pipe(ca(g=>this.handler.handle(g)));if(r instanceof mg||"events"===s.observe)return h;const p=h.pipe(Gr(g=>g instanceof rp));switch(s.observe||"body"){case"body":switch(c.responseType){case"arraybuffer":return p.pipe((0,Vt.U)(g=>{if(null!==g.body&&!(g.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return g.body}));case"blob":return p.pipe((0,Vt.U)(g=>{if(null!==g.body&&!(g.body instanceof Blob))throw new Error("Response is not a Blob.");return g.body}));case"text":return p.pipe((0,Vt.U)(g=>{if(null!==g.body&&"string"!=typeof g.body)throw new Error("Response is not a string.");return g.body}));default:return p.pipe((0,Vt.U)(g=>g.body))}case"response":return p;default:throw new Error(`Unreachable: unhandled observe type ${s.observe}}`)}}delete(r,i={}){return this.request("DELETE",r,i)}get(r,i={}){return this.request("GET",r,i)}head(r,i={}){return this.request("HEAD",r,i)}jsonp(r,i){return this.request("JSONP",r,{params:(new Lu).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(r,i={}){return this.request("OPTIONS",r,i)}patch(r,i,s={}){return this.request("PATCH",r,SE(s,i))}post(r,i,s={}){return this.request("POST",r,SE(s,i))}put(r,i,s={}){return this.request("PUT",r,SE(s,i))}}return(n=e).\u0275fac=function(r){return new(r||n)(u.LFG(Uy))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),e})();function Wy(n,e){return e(n)}function _g(n,e){return(t,r)=>e.intercept(t,{handle:i=>n(i,r)})}const ip=new u.OlP(""),uh=new u.OlP(""),Zy=new u.OlP("");function Yy(){let n=null;return(e,t)=>{null===n&&(n=((0,u.f3M)(ip,{optional:!0})??[]).reduceRight(_g,Wy));const r=(0,u.f3M)(u.HDt),i=r.add();return n(e,t).pipe(ua(()=>r.remove(i)))}}let kP=(()=>{var n;class e extends Uy{constructor(r,i){super(),this.backend=r,this.injector=i,this.chain=null,this.pendingTasks=(0,u.f3M)(u.HDt)}handle(r){if(null===this.chain){const s=Array.from(new Set([...this.injector.get(uh),...this.injector.get(Zy,[])]));this.chain=s.reduceRight((c,h)=>function Ky(n,e,t){return(r,i)=>t.runInContext(()=>e(r,s=>n(s,i)))}(c,h,this.injector),Wy)}const i=this.pendingTasks.add();return this.chain(r,s=>this.backend.handle(s)).pipe(ua(()=>this.pendingTasks.remove(i)))}}return(n=e).\u0275fac=function(r){return new(r||n)(u.LFG(tp),u.LFG(u.lqb))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),e})();const FP=/^\)\]\}',?\n/;let Jy=(()=>{var n;class e{constructor(r){this.xhrFactory=r}handle(r){if("JSONP"===r.method)throw new u.vHH(-2800,!1);const i=this.xhrFactory;return(i.\u0275loadImpl?(0,Bn.D)(i.\u0275loadImpl()):(0,xt.of)(null)).pipe((0,Tr.w)(()=>new di.y(c=>{const h=i.build();if(h.open(r.method,r.urlWithParams),r.withCredentials&&(h.withCredentials=!0),r.headers.forEach((X,be)=>h.setRequestHeader(X,be.join(","))),r.headers.has("Accept")||h.setRequestHeader("Accept","application/json, text/plain, */*"),!r.headers.has("Content-Type")){const X=r.detectContentTypeHeader();null!==X&&h.setRequestHeader("Content-Type",X)}if(r.responseType){const X=r.responseType.toLowerCase();h.responseType="json"!==X?X:"text"}const p=r.serializeBody();let g=null;const w=()=>{if(null!==g)return g;const X=h.statusText||"OK",be=new Vo(h.getAllResponseHeaders()),$e=function Xy(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(h)||r.url;return g=new $D({headers:be,status:h.status,statusText:X,url:$e}),g},D=()=>{let{headers:X,status:be,statusText:$e,url:ze}=w(),Qe=null;204!==be&&(Qe=typeof h.response>"u"?h.responseText:h.response),0===be&&(be=Qe?200:0);let _t=be>=200&&be<300;if("json"===r.responseType&&"string"==typeof Qe){const Ct=Qe;Qe=Qe.replace(FP,"");try{Qe=""!==Qe?JSON.parse(Qe):null}catch(vn){Qe=Ct,_t&&(_t=!1,Qe={error:vn,text:Qe})}}_t?(c.next(new rp({body:Qe,headers:X,status:be,statusText:$e,url:ze||void 0})),c.complete()):c.error(new zD({error:Qe,headers:X,status:be,statusText:$e,url:ze||void 0}))},M=X=>{const{url:be}=w(),$e=new zD({error:X,status:h.status||0,statusText:h.statusText||"Unknown Error",url:be||void 0});c.error($e)};let N=!1;const K=X=>{N||(c.next(w()),N=!0);let be={type:ch.DownloadProgress,loaded:X.loaded};X.lengthComputable&&(be.total=X.total),"text"===r.responseType&&h.responseText&&(be.partialText=h.responseText),c.next(be)},te=X=>{let be={type:ch.UploadProgress,loaded:X.loaded};X.lengthComputable&&(be.total=X.total),c.next(be)};return h.addEventListener("load",D),h.addEventListener("error",M),h.addEventListener("timeout",M),h.addEventListener("abort",M),r.reportProgress&&(h.addEventListener("progress",K),null!==p&&h.upload&&h.upload.addEventListener("progress",te)),h.send(p),c.next({type:ch.Sent}),()=>{h.removeEventListener("error",M),h.removeEventListener("abort",M),h.removeEventListener("load",D),h.removeEventListener("timeout",M),r.reportProgress&&(h.removeEventListener("progress",K),null!==p&&h.upload&&h.upload.removeEventListener("progress",te)),h.readyState!==h.DONE&&h.abort()}})))}}return(n=e).\u0275fac=function(r){return new(r||n)(u.LFG(vs))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),e})();const ME=new u.OlP("XSRF_ENABLED"),ev=new u.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),YD=new u.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class PE{}let LP=(()=>{var n;class e{constructor(r,i,s){this.doc=r,this.platform=i,this.cookieName=s,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const r=this.doc.cookie||"";return r!==this.lastCookieString&&(this.parseCount++,this.lastToken=nc(r,this.cookieName),this.lastCookieString=r),this.lastToken}}return(n=e).\u0275fac=function(r){return new(r||n)(u.LFG(_e),u.LFG(u.Lbi),u.LFG(ev))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),e})();function QD(n,e){const t=n.url.toLowerCase();if(!(0,u.f3M)(ME)||"GET"===n.method||"HEAD"===n.method||t.startsWith("http://")||t.startsWith("https://"))return e(n);const r=(0,u.f3M)(PE).getToken(),i=(0,u.f3M)(YD);return null!=r&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,r)})),e(n)}var Vu=function(n){return n[n.Interceptors=0]="Interceptors",n[n.LegacyInterceptors=1]="LegacyInterceptors",n[n.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",n[n.NoXsrfProtection=3]="NoXsrfProtection",n[n.JsonpSupport=4]="JsonpSupport",n[n.RequestsMadeViaParent=5]="RequestsMadeViaParent",n[n.Fetch=6]="Fetch",n}(Vu||{});function Sc(n,e){return{\u0275kind:n,\u0275providers:e}}function VP(...n){const e=[xE,Jy,kP,{provide:Uy,useExisting:kP},{provide:tp,useExisting:Jy},{provide:uh,useValue:QD,multi:!0},{provide:ME,useValue:!0},{provide:PE,useClass:LP}];for(const t of n)e.push(...t.\u0275providers);return(0,u.MR2)(e)}const sp=new u.OlP("LEGACY_INTERCEPTOR_FN");let kE=(()=>{var n;class e{}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[VP(Sc(Vu.LegacyInterceptors,[{provide:sp,useFactory:Yy},{provide:uh,useExisting:sp,multi:!0}]))]}),e})();var nv=V(6321),nr=V(2793);function eA(){return(0,Ti.e)((n,e)=>{let t,r=!1;n.subscribe((0,Wn.x)(e,i=>{const s=t;t=i,r&&e.next([s,i]),r=!0}))})}var mt,tA=V(3997),Uo=V(6304),nA=(V(8661),V(3399)),Se=V(5861),Uu=V(7592),fa=V(4537),Bo=V(7879),An=V(9058),zV=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},za={},pa=pa||{},Qt=zV||self;function rv(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function iv(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var NE="closure_uid_"+(1e9*Math.random()>>>0),OE=0;function WP(n,e,t){return n.call.apply(n.bind,arguments)}function KP(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function Hi(n,e,t){return(Hi=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?WP:KP).apply(null,arguments)}function vg(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Di(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(r,i,s){for(var c=Array(arguments.length-2),h=2;h<arguments.length;h++)c[h-2]=arguments[h];return e.prototype[i].apply(r,c)}}function Bu(){this.s=this.s,this.o=this.o}Bu.prototype.s=!1,Bu.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function zi(n){Object.prototype.hasOwnProperty.call(n,NE)&&n[NE]||(n[NE]=++OE)}(this)},Bu.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const FE=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function LE(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function iA(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(rv(r)){const i=n.length||0,s=r.length||0;n.length=i+s;for(let c=0;c<s;c++)n[i+c]=r[c]}else n.push(r)}}function Cs(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}Cs.prototype.h=function(){this.defaultPrevented=!0};var sA=function(){if(!Qt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Qt.addEventListener("test",()=>{},e),Qt.removeEventListener("test",()=>{},e)}catch{}return n}();function Rc(n){return/^[\s\xa0]*$/.test(n)}function ma(){var n=Qt.navigator;return n&&(n=n.userAgent)?n:""}function $s(n){return-1!=ma().indexOf(n)}function VE(n){return VE[" "](n),n}VE[" "]=function(){};var BE,n,oA=$s("Opera"),dh=$s("Trident")||$s("MSIE"),sv=$s("Edge"),hh=sv||dh,wg=$s("Gecko")&&!(-1!=ma().toLowerCase().indexOf("webkit")&&!$s("Edge"))&&!($s("Trident")||$s("MSIE"))&&!$s("Edge"),aA=-1!=ma().toLowerCase().indexOf("webkit")&&!$s("Edge");function UE(){var n=Qt.document;return n?n.documentMode:void 0}e:{var jE="",$E=(n=ma(),wg?/rv:([^\);]+)(\)|;)/.exec(n):sv?/Edge\/([\d\.]+)/.exec(n):dh?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):aA?/WebKit\/(\S+)/.exec(n):oA?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if($E&&(jE=$E?$E[1]:""),dh){var zE=UE();if(null!=zE&&zE>parseFloat(jE)){BE=String(zE);break e}}BE=jE}var QP=Qt.document&&dh&&(UE()||parseInt(BE,10))||void 0;function av(n,e){if(Cs.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(wg){e:{try{VE(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:HV[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&av.$.h.call(this)}}Di(av,Cs);var HV={2:"touch",3:"pen",4:"mouse"};av.prototype.h=function(){av.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var ap="closure_listenable_"+(1e6*Math.random()|0),cA=0;function GV(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.la=i,this.key=++cA,this.fa=this.ia=!1}function fh(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function lA(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function HE(n){const e={};for(const t in n)e[t]=n[t];return e}const dA="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function GE(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let s=0;s<dA.length;s++)t=dA[s],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function Eg(n){this.src=n,this.g={},this.h=0}function Xt(n,e){var t=e.type;if(t in n.g){var s,r=n.g[t],i=FE(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(fh(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function cv(n,e,t,r){for(var i=0;i<n.length;++i){var s=n[i];if(!s.fa&&s.listener==e&&s.capture==!!t&&s.la==r)return i}return-1}Eg.prototype.add=function(n,e,t,r,i){var s=n.toString();(n=this.g[s])||(n=this.g[s]=[],this.h++);var c=cv(n,e,r,i);return-1<c?(e=n[c],t||(e.ia=!1)):((e=new GV(e,this.src,s,!!r,i)).ia=t,n.push(e)),e};var lv="closure_lm_"+(1e6*Math.random()|0),ju={};function qE(n,e,t,r,i){if(r&&r.once)return ph(n,e,t,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)qE(n,e[s],t,r,i);return null}return t=hv(t),n&&n[ap]?n.O(e,t,iv(r)?!!r.capture:!!r,i):hA(n,e,t,!1,r,i)}function hA(n,e,t,r,i,s){if(!e)throw Error("Invalid event type");var c=iv(i)?!!i.capture:!!i,h=Ig(n);if(h||(n[lv]=h=new Eg(n)),(t=h.add(e,t,r,c,s)).proxy)return t;if(r=function uv(){const e=KE;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)sA||(i=c),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(WE(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function ph(n,e,t,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)ph(n,e[s],t,r,i);return null}return t=hv(t),n&&n[ap]?n.P(e,t,iv(r)?!!r.capture:!!r,i):hA(n,e,t,!0,r,i)}function dv(n,e,t,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)dv(n,e[s],t,r,i);else r=iv(r)?!!r.capture:!!r,t=hv(t),n&&n[ap]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=cv(s=n.g[e],t,r,i))&&(fh(s[t]),Array.prototype.splice.call(s,t,1),0==s.length&&(delete n.g[e],n.h--))):n&&(n=Ig(n))&&(e=n.g[e.toString()],n=-1,e&&(n=cv(e,t,r,i)),(t=-1<n?e[n]:null)&&mh(t))}function mh(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[ap])Xt(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(WE(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=Ig(e))?(Xt(t,n),0==t.h&&(t.src=null,e[lv]=null)):fh(n)}}}function WE(n){return n in ju?ju[n]:ju[n]="on"+n}function KE(n,e){if(n.fa)n=!0;else{e=new av(e,this);var t=n.listener,r=n.la||n.src;n.ia&&mh(n),n=t.call(r,e)}return n}function Ig(n){return(n=n[lv])instanceof Eg?n:null}var bg="__closure_events_fn_"+(1e9*Math.random()>>>0);function hv(n){return"function"==typeof n?n:(n[bg]||(n[bg]=function(e){return n.handleEvent(e)}),n[bg])}function fi(){Bu.call(this),this.i=new Eg(this),this.S=this,this.J=null}function cs(n,e){var t,r=n.J;if(r)for(t=[];r;r=r.J)t.push(r);if(n=n.S,r=e.type||e,"string"==typeof e)e=new Cs(e,n);else if(e instanceof Cs)e.target=e.target||n;else{var i=e;GE(e=new Cs(r,n),i)}if(i=!0,t)for(var s=t.length-1;0<=s;s--){var c=e.g=t[s];i=fv(c,r,!0,e)&&i}if(i=fv(c=e.g=n,r,!0,e)&&i,i=fv(c,r,!1,e)&&i,t)for(s=0;s<t.length;s++)i=fv(c=e.g=t[s],r,!1,e)&&i}function fv(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var c=e[s];if(c&&!c.fa&&c.capture==t){var h=c.listener,p=c.la||c.src;c.ia&&Xt(n.i,c),i=!1!==h.call(p,r)&&i}}return i&&!r.defaultPrevented}Di(fi,Bu),fi.prototype[ap]=!0,fi.prototype.removeEventListener=function(n,e,t,r){dv(this,n,e,t,r)},fi.prototype.N=function(){if(fi.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)fh(t[r]);delete n.g[e],n.h--}}this.J=null},fi.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},fi.prototype.P=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var ZE=Qt.JSON.stringify;function XP(){var n=zs;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var pA=new class fA{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new ek,n=>n.reset());class ek{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function mA(n){var e=1;n=n.split(":");const t=[];for(;0<e&&n.length;)t.push(n.shift()),e--;return n.length&&t.push(n.join(":")),t}function gA(n){Qt.setTimeout(()=>{throw n},0)}let Tg,Cg=!1,zs=new class JP{constructor(){this.h=this.g=null}add(e,t){const r=pA.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}},_A=()=>{const n=Qt.Promise.resolve(void 0);Tg=()=>{n.then(tk)}};var tk=()=>{for(var n;n=XP();){try{n.h.call(n.g)}catch(t){gA(t)}var e=pA;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}Cg=!1};function YE(n,e){fi.call(this),this.h=n||1,this.g=e||Qt,this.j=Hi(this.qb,this),this.l=Date.now()}function Dg(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function pv(n,e,t){if("function"==typeof n)t&&(n=Hi(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Hi(n.handleEvent,n)}return 2147483647<Number(e)?-1:Qt.setTimeout(n,e||0)}function yA(n){n.g=pv(()=>{n.g=null,n.i&&(n.i=!1,yA(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Di(YE,fi),(mt=YE.prototype).ga=!1,mt.T=null,mt.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),cs(this,"tick"),this.ga&&(Dg(this),this.start()))}},mt.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},mt.N=function(){YE.$.N.call(this),Dg(this),delete this.g};class nk extends Bu{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:yA(this)}N(){super.N(),this.g&&(Qt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ag(n){Bu.call(this),this.h=n,this.g={}}Di(Ag,Bu);var QE=[];function vA(n,e,t,r){Array.isArray(t)||(t&&(QE[0]=t.toString()),t=QE);for(var i=0;i<t.length;i++){var s=qE(e,t[i],r||n.handleEvent,!1,n.h||n);if(!s)break;n.g[s.key]=s}}function wA(n){lA(n.g,function(e,t){this.g.hasOwnProperty(t)&&mh(e)},n),n.g={}}function cp(){this.g=!0}function lp(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function ok(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var c=1;c<i.length;c++)i[c]=""}}}return ZE(t)}catch{return e}}(n,t)+(r?" "+r:"")})}Ag.prototype.N=function(){Ag.$.N.call(this),wA(this)},Ag.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},cp.prototype.Ea=function(){this.g=!1},cp.prototype.info=function(){};var Ds={},mv=null;function gv(){return mv=mv||new fi}function XE(n){Cs.call(this,Ds.Ta,n)}function Sg(n){const e=gv();cs(e,new XE(e))}function JE(n,e){Cs.call(this,Ds.STAT_EVENT,n),this.stat=e}function As(n){const e=gv();cs(e,new JE(e,n))}function xg(n,e){Cs.call(this,Ds.Ua,n),this.size=e}function gh(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Qt.setTimeout(function(){n()},e)}Ds.Ta="serverreachability",Di(XE,Cs),Ds.STAT_EVENT="statevent",Di(JE,Cs),Ds.Ua="timingevent",Di(xg,Cs);var eI={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},tI={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function _v(){}function rI(){}_v.prototype.h=null;var sI,_h={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Ha(){Cs.call(this,"d")}function iI(){Cs.call(this,"c")}function up(){}function Rg(n,e,t,r){this.l=n,this.j=e,this.m=t,this.W=r||1,this.U=new Ag(this),this.P=ak,this.V=new YE(n=hh?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new oI}function oI(){this.i=null,this.g="",this.h=!1}Di(Ha,Cs),Di(iI,Cs),Di(up,_v),up.prototype.g=function(){return new XMLHttpRequest},up.prototype.i=function(){return{}},sI=new up;var ak=45e3,dp={},$u={};function yv(n,e,t){n.L=1,n.v=Iv(Tl(e)),n.s=t,n.S=!0,Mg(n,null)}function Mg(n,e){n.G=Date.now(),hp(n),n.A=Tl(n.v);var t=n.A,r=n.W;Array.isArray(r)||(r=[String(r)]),RA(t.i,"t",r),n.C=0,t=n.l.J,n.h=new oI,n.g=BA(n.l,t?e:null,!n.s),0<n.O&&(n.M=new nk(Hi(n.Pa,n,n.g),n.O)),vA(n.U,n.g,"readystatechange",n.nb),e=n.I?HE(n.I):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,e)):(n.u="GET",n.g.ha(n.A,n.u,null,e)),Sg(),function rk(n,e,t,r,i,s){n.info(function(){if(n.g)if(s)for(var c="",h=s.split("&"),p=0;p<h.length;p++){var g=h[p].split("=");if(1<g.length){var w=g[0];g=g[1];var D=w.split("_");c=2<=D.length&&"type"==D[1]?c+(w+"=")+g+"&":c+(w+"=redacted&")}}else c=null;else c=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+c})}(n.j,n.u,n.A,n.m,n.W,n.s)}function ck(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function EA(n,e,t){let i,r=!0;for(;!n.J&&n.C<t.length;){if(i=IA(n,t),i==$u){4==e&&(n.o=4,As(14),r=!1),lp(n.j,n.m,null,"[Incomplete Response]");break}if(i==dp){n.o=4,As(15),lp(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}lp(n.j,n.m,i,null),yh(n,i)}ck(n)&&i!=$u&&i!=dp&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,As(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.ba&&(n.ba=!0,(e=n.l).g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),Ih(e),e.M=!0,As(11))):(lp(n.j,n.m,t,"[Invalid Chunked Response]"),zu(n),fp(n))}function IA(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?$u:(t=Number(e.substring(t,r)),isNaN(t)?dp:(r+=1)+t>e.length?$u:(e=e.slice(r,r+t),n.C=r+t,e))}function hp(n){n.Y=Date.now()+n.P,bA(n,n.P)}function bA(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=gh(Hi(n.lb,n),e)}function vv(n){n.B&&(Qt.clearTimeout(n.B),n.B=null)}function fp(n){0==n.l.H||n.J||_I(n.l,n)}function zu(n){vv(n);var e=n.M;e&&"function"==typeof e.sa&&e.sa(),n.M=null,Dg(n.V),wA(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function yh(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||pp(t.i,n)))if(!n.K&&pp(t.i,n)&&3==t.H){try{var r=t.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;bh(t),Dv(t)}jg(t),As(18)}}else t.Fa=i[1],0<t.Fa-t.V&&37500>i[2]&&t.G&&0==t.A&&!t.v&&(t.v=gh(Hi(t.ib,t),6e3));if(1>=gk(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else qu(t,11)}else if((n.K||t.g==n)&&bh(t),!Rc(e))for(i=t.Ja.g.parse(e),e=0;e<i.length;e++){let g=i[e];if(t.V=g[0],g=g[1],2==t.H)if("c"==g[0]){t.K=g[1],t.pa=g[2];const w=g[3];null!=w&&(t.ra=w,t.l.info("VER="+t.ra));const D=g[4];null!=D&&(t.Ga=D,t.l.info("SVER="+t.Ga));const M=g[5];null!=M&&"number"==typeof M&&0<M&&(t.L=r=1.5*M,t.l.info("backChannelRequestTimeoutMs_="+r)),r=t;const N=n.g;if(N){const K=N.g?N.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(K){var s=r.i;s.g||-1==K.indexOf("spdy")&&-1==K.indexOf("quic")&&-1==K.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(lI(s,s.h),s.h=null))}if(r.F){const te=N.g?N.g.getResponseHeader("X-HTTP-Session-Id"):null;te&&(r.Da=te,gr(r.I,r.F,te))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-n.G,t.l.info("Handshake RTT: "+t.S+"ms"));var c=n;if((r=t).wa=wp(r,r.J?r.pa:null,r.Y),c.K){kA(r.i,c);var h=c,p=r.L;p&&h.setTimeout(p),h.B&&(vv(h),hp(h)),r.g=c}else VA(r);0<t.j.length&&gI(t)}else"stop"!=g[0]&&"close"!=g[0]||qu(t,7);else 3==t.H&&("stop"==g[0]||"close"==g[0]?"stop"==g[0]?qu(t,7):OA(t):"noop"!=g[0]&&t.h&&t.h.Aa(g),t.A=0)}Sg()}catch{}}function aI(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(rv(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function TA(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(rv(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function lk(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(rv(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],t&&t[s],n)}(mt=Rg.prototype).setTimeout=function(n){this.P=n},mt.nb=function(n){n=n.target;const e=this.M;e&&3==qa(n)?e.l():this.Pa(n)},mt.Pa=function(n){try{if(n==this.g)e:{const w=qa(this.g);var e=this.g.Ia();if(this.g.da(),!(3>w)&&(3!=w||hh||this.g&&(this.h.h||this.g.ja()||pI(this.g)))){this.J||4!=w||7==e||Sg(),vv(this);var t=this.g.da();this.ca=t;t:if(ck(this)){var r=pI(this.g);n="";var i=r.length,s=4==qa(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){zu(this),fp(this);var c="";break t}this.h.i=new Qt.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,c=this.h.g}else c=this.g.ja();if(this.i=200==t,function ik(n,e,t,r,i,s,c){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+s+" "+c})}(this.j,this.u,this.A,this.m,this.W,w,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var h,p=this.g;if((h=p.g?p.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Rc(h)){var g=h;break t}}g=null}if(!(t=g)){this.i=!1,this.o=3,As(12),zu(this),fp(this);break e}lp(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,yh(this,t)}this.S?(EA(this,w,c),hh&&this.i&&3==w&&(vA(this.U,this.V,"tick",this.mb),this.V.start())):(lp(this.j,this.m,c,null),yh(this,c)),4==w&&zu(this),this.i&&!this.J&&(4==w?_I(this.l,this):(this.i=!1,hp(this)))}else(function NA(n){const e={};n=(n.g&&2<=qa(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<n.length;r++){if(Rc(n[r]))continue;var t=mA(n[r]);const i=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const s=e[i]||[];e[i]=s,s.push(t)}!function uA(n,e){for(const t in n)e.call(void 0,n[t],t,n)}(e,function(r){return r.join(", ")})})(this.g),400==t&&0<c.indexOf("Unknown SID")?(this.o=3,As(12)):(this.o=0,As(13)),zu(this),fp(this)}}}catch{}},mt.mb=function(){if(this.g){var n=qa(this.g),e=this.g.ja();this.C<e.length&&(vv(this),EA(this,n,e),this.i&&4!=n&&hp(this))}},mt.cancel=function(){this.J=!0,zu(this)},mt.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function sk(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Sg(),As(17)),zu(this),this.o=2,fp(this)):bA(this,this.Y-n)};var CA=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ga(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Ga){this.h=n.h,wv(this,n.j),this.s=n.s,this.g=n.g,Ev(this,n.m),this.l=n.l;var e=n.i,t=new Ng;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),DA(this,t),this.o=n.o}else n&&(e=String(n).match(CA))?(this.h=!1,wv(this,e[1]||"",!0),this.s=Pg(e[2]||""),this.g=Pg(e[3]||"",!0),Ev(this,e[4]),this.l=Pg(e[5]||"",!0),DA(this,e[6]||"",!0),this.o=Pg(e[7]||"")):(this.h=!1,this.i=new Ng(null,this.h))}function Tl(n){return new Ga(n)}function wv(n,e,t){n.j=t?Pg(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Ev(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function DA(n,e,t){e instanceof Ng?(n.i=e,function MA(n,e){e&&!n.j&&(Hu(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(SA(this,r),RA(this,i,t))},n)),n.j=e}(n.i,n.h)):(t||(e=kg(e,hk)),n.i=new Ng(e,n.h))}function gr(n,e,t){n.i.set(e,t)}function Iv(n){return gr(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Pg(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function kg(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,AA),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function AA(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Ga.prototype.toString=function(){var n=[],e=this.j;e&&n.push(kg(e,bv,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(kg(e,bv,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(kg(t,"/"==t.charAt(0)?Tv:dk,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",kg(t,fk)),n.join("")};var bv=/[#\/\?@]/g,dk=/[#\?:]/g,Tv=/[#\?]/g,hk=/[#\?@]/g,fk=/#/g;function Ng(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Hu(n){n.g||(n.g=new Map,n.h=0,n.i&&function uk(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var s=n[t].substring(0,r);i=n[t].substring(r+1)}else s=n[t];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function SA(n,e){Hu(n),e=vh(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function xA(n,e){return Hu(n),e=vh(n,e),n.g.has(e)}function RA(n,e,t){SA(n,e),0<t.length&&(n.i=null,n.g.set(vh(n,e),LE(t)),n.h+=t.length)}function vh(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function mk(n){this.l=n||PA,n=Qt.PerformanceNavigationTiming?0<(n=Qt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Qt.g&&Qt.g.Ka&&Qt.g.Ka()&&Qt.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(mt=Ng.prototype).add=function(n,e){Hu(this),this.i=null,n=vh(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},mt.forEach=function(n,e){Hu(this),this.g.forEach(function(t,r){t.forEach(function(i){n.call(e,i,r,this)},this)},this)},mt.ta=function(){Hu(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const i=n[r];for(let s=0;s<i.length;s++)t.push(e[r])}return t},mt.Z=function(n){Hu(this);let e=[];if("string"==typeof n)xA(this,n)&&(e=e.concat(this.g.get(vh(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},mt.set=function(n,e){return Hu(this),this.i=null,xA(this,n=vh(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},mt.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},mt.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const s=encodeURIComponent(String(r)),c=this.Z(r);for(r=0;r<c.length;r++){var i=s;""!==c[r]&&(i+="="+encodeURIComponent(String(c[r]))),n.push(i)}}return this.i=n.join("&")};var PA=10;function cI(n){return!!n.h||!!n.g&&n.g.size>=n.j}function gk(n){return n.h?1:n.g?n.g.size:0}function pp(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function lI(n,e){n.g?n.g.add(e):n.h=e}function kA(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function Cv(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return LE(n.i)}mk.prototype.cancel=function(){if(this.i=Cv(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}};var _k=class{stringify(n){return Qt.JSON.stringify(n,void 0)}parse(n){return Qt.JSON.parse(n,void 0)}};function Mc(){this.g=new _k}function Og(n,e,t){const r=t||"";try{aI(n,function(i,s){let c=i;iv(i)&&(c=ZE(i)),e.push(r+s+"="+encodeURIComponent(c))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Pc(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Gu(n){this.l=n.fc||null,this.j=n.ob||!1}function Hs(n,e){fi.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=Fg,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Di(Gu,_v),Gu.prototype.g=function(){return new Hs(this.l,this.j)},Gu.prototype.i=function(n){return function(){return n}}({}),Di(Hs,fi);var Fg=0;function wh(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function kc(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Nc(n)}function Nc(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(mt=Hs.prototype).open=function(n,e){if(this.readyState!=Fg)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Nc(this)},mt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||Qt).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},mt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,kc(this)),this.readyState=Fg},mt.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Nc(this)),this.g&&(this.readyState=3,Nc(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Qt.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;wh(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},mt.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?kc(this):Nc(this),3==this.readyState&&wh(this)}},mt.Za=function(n){this.g&&(this.response=this.responseText=n,kc(this))},mt.Ya=function(n){this.g&&(this.response=n,kc(this))},mt.ka=function(){this.g&&kc(this)},mt.setRequestHeader=function(n,e){this.v.append(n,e)},mt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},mt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(Hs.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var mp=Qt.JSON.parse;function rr(n){fi.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Eh,this.L=this.M=!1}Di(rr,fi);var Eh="",gp=/^https?$/i,_p=["POST","PUT"];function uI(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,dI(n),Lg(n)}function dI(n){n.F||(n.F=!0,cs(n,"complete"),cs(n,"error"))}function hI(n){if(n.h&&typeof pa<"u"&&(!n.C[1]||4!=qa(n)||2!=n.da()))if(n.v&&4==qa(n))pv(n.La,0,n);else if(cs(n,"readystatechange"),4==qa(n)){n.h=!1;try{const c=n.da();e:switch(c){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===c){var i=String(n.I).match(CA)[1]||null;!i&&Qt.self&&Qt.self.location&&(i=Qt.self.location.protocol.slice(0,-1)),r=!gp.test(i?i.toLowerCase():"")}t=r}if(t)cs(n,"complete"),cs(n,"success");else{n.m=6;try{var s=2<qa(n)?n.g.statusText:""}catch{s=""}n.j=s+" ["+n.da()+"]",dI(n)}}finally{Lg(n)}}}function Lg(n,e){if(n.g){fI(n);const t=n.g,r=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||cs(n,"ready");try{t.onreadystatechange=r}catch{}}}function fI(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(Qt.clearTimeout(n.A),n.A=null)}function qa(n){return n.g?n.g.readyState:0}function pI(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case Eh:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function mI(n){let e="";return lA(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function Vg(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=mI(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):gr(n,e,t))}function Ug(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function yk(n){this.Ga=0,this.j=[],this.l=new cp,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Ug("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Ug("baseRetryDelayMs",5e3,n),this.hb=Ug("retryDelaySeedMs",1e4,n),this.eb=Ug("forwardChannelMaxRetries",2,n),this.xa=Ug("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new mk(n&&n.concurrentRequestLimit),this.Ja=new Mc,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function OA(n){if(FA(n),3==n.H){var e=n.W++,t=Tl(n.I);if(gr(t,"SID",n.K),gr(t,"RID",e),gr(t,"TYPE","terminate"),Bg(n,t),(e=new Rg(n,n.l,e)).L=2,e.v=Iv(Tl(t)),t=!1,Qt.navigator&&Qt.navigator.sendBeacon)try{t=Qt.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&Qt.Image&&((new Image).src=e.v,t=!0),t||(e.g=BA(e.l,null),e.g.ha(e.v)),e.G=Date.now(),hp(e)}UA(n)}function Dv(n){n.g&&(Ih(n),n.g.cancel(),n.g=null)}function FA(n){Dv(n),n.u&&(Qt.clearTimeout(n.u),n.u=null),bh(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Qt.clearTimeout(n.m),n.m=null)}function gI(n){if(!cI(n.i)&&!n.m){n.m=!0;var e=n.Na;Tg||_A(),Cg||(Tg(),Cg=!0),zs.add(e,n),n.C=0}}function wk(n,e){var t;t=e?e.m:n.W++;const r=Tl(n.I);gr(r,"SID",n.K),gr(r,"RID",t),gr(r,"AID",n.V),Bg(n,r),n.o&&n.s&&Vg(r,n.o,n.s),t=new Rg(n,n.l,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.j=e.F.concat(n.j)),e=LA(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),lI(n.i,t),yv(t,r,e)}function Bg(n,e){n.na&&lA(n.na,function(t,r){gr(e,r,t)}),n.h&&aI({},function(t,r){gr(e,r,t)})}function LA(n,e,t){t=Math.min(n.j.length,t);var r=n.h?Hi(n.h.Va,n.h,n):null;e:{var i=n.j;let s=-1;for(;;){const c=["count="+t];-1==s?0<t?(s=i[0].g,c.push("ofs="+s)):s=0:c.push("ofs="+s);let h=!0;for(let p=0;p<t;p++){let g=i[p].g;const w=i[p].map;if(g-=s,0>g)s=Math.max(0,i[p].g-100),h=!1;else try{Og(w,c,"req"+g+"_")}catch{r&&r(w)}}if(h){r=c.join("&");break e}}}return n=n.j.splice(0,t),e.F=n,r}function VA(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;Tg||_A(),Cg||(Tg(),Cg=!0),zs.add(e,n),n.A=0}}function jg(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=gh(Hi(n.Ma,n),vp(n,n.A)),n.A++,0))}function Ih(n){null!=n.B&&(Qt.clearTimeout(n.B),n.B=null)}function Av(n){n.g=new Rg(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=Tl(n.wa);gr(e,"RID","rpc"),gr(e,"SID",n.K),gr(e,"AID",n.V),gr(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&gr(e,"TO",n.qa),gr(e,"TYPE","xmlhttp"),Bg(n,e),n.o&&n.s&&Vg(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var t=n.g;n=n.pa,t.L=1,t.v=Iv(Tl(e)),t.s=null,t.S=!0,Mg(t,n)}function bh(n){null!=n.v&&(Qt.clearTimeout(n.v),n.v=null)}function _I(n,e){var t=null;if(n.g==e){bh(n),Ih(n),n.g=null;var r=2}else{if(!pp(n.i,e))return;t=e.F,kA(n.i,e),r=1}if(0!=n.H)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.G;var i=n.C;cs(r=gv(),new xg(r,t)),gI(n)}else VA(n);else if(3==(i=e.o)||0==i&&0<e.ca||!(1==r&&function vk(n,e){return!(gk(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=e.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=gh(Hi(n.Na,n,e),vp(n,n.C)),n.C++,0)))}(n,e)||2==r&&jg(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),i){case 1:qu(n,5);break;case 4:qu(n,10);break;case 3:qu(n,6);break;default:qu(n,2)}}function vp(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(t*=2),t*e}function qu(n,e){if(n.l.info("Error code "+e),2==e){var t=null;n.h&&(t=null);var r=Hi(n.pb,n);t||(t=new Ga("//www.google.com/images/cleardot.gif"),Qt.location&&"http"==Qt.location.protocol||wv(t,"https"),Iv(t)),function Ss(n,e){const t=new cp;if(Qt.Image){const r=new Image;r.onload=vg(Pc,t,r,"TestLoadImage: loaded",!0,e),r.onerror=vg(Pc,t,r,"TestLoadImage: error",!1,e),r.onabort=vg(Pc,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=vg(Pc,t,r,"TestLoadImage: timeout",!1,e),Qt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else As(2);n.H=0,n.h&&n.h.za(e),UA(n),FA(n)}function UA(n){if(n.H=0,n.ma=[],n.h){const e=Cv(n.i);(0!=e.length||0!=n.j.length)&&(iA(n.ma,e),iA(n.ma,n.j),n.i.i.length=0,LE(n.j),n.j.length=0),n.h.ya()}}function wp(n,e,t){var r=t instanceof Ga?Tl(t):new Ga(t);if(""!=r.g)e&&(r.g=e+"."+r.g),Ev(r,r.m);else{var i=Qt.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new Ga(null);r&&wv(s,r),e&&(s.g=e),i&&Ev(s,i),t&&(s.l=t),r=s}return e=n.Da,(t=n.F)&&e&&gr(r,t,e),gr(r,"VER",n.ra),Bg(n,r),r}function BA(n,e,t){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new rr(t&&n.Ha&&!n.va?new Gu({ob:!0}):n.va)).Oa(n.J),e}function jA(){}function Sv(){if(dh&&!(10<=Number(QP)))throw Error("Environmental error: no available transport.")}function jo(n,e){fi.call(this),this.g=new yk(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!Rc(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Rc(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Cl(this)}function xv(n){Ha.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function $g(){iI.call(this),this.status=1}function Cl(n){this.g=n}function Wa(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function yI(n,e,t){t||(t=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(i=0;16>i;++i)r[i]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var s=n.g[3],c=(e=n.g[0])+(s^(t=n.g[1])&((i=n.g[2])^s))+r[0]+3614090360&4294967295;c=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=t+(c<<7&4294967295|c>>>25))+((c=s+(i^e&(t^i))+r[1]+3905402710&4294967295)<<12&4294967295|c>>>20))+((c=i+(t^s&(e^t))+r[2]+606105819&4294967295)<<17&4294967295|c>>>15))+((c=t+(e^i&(s^e))+r[3]+3250441966&4294967295)<<22&4294967295|c>>>10))+((c=e+(s^t&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|c>>>25))+((c=s+(i^e&(t^i))+r[5]+1200080426&4294967295)<<12&4294967295|c>>>20))+((c=i+(t^s&(e^t))+r[6]+2821735955&4294967295)<<17&4294967295|c>>>15))+((c=t+(e^i&(s^e))+r[7]+4249261313&4294967295)<<22&4294967295|c>>>10))+((c=e+(s^t&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|c>>>25))+((c=s+(i^e&(t^i))+r[9]+2336552879&4294967295)<<12&4294967295|c>>>20))+((c=i+(t^s&(e^t))+r[10]+4294925233&4294967295)<<17&4294967295|c>>>15))+((c=t+(e^i&(s^e))+r[11]+2304563134&4294967295)<<22&4294967295|c>>>10))+((c=e+(s^t&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|c>>>25))+((c=s+(i^e&(t^i))+r[13]+4254626195&4294967295)<<12&4294967295|c>>>20))+((c=i+(t^s&(e^t))+r[14]+2792965006&4294967295)<<17&4294967295|c>>>15))+((c=t+(e^i&(s^e))+r[15]+1236535329&4294967295)<<22&4294967295|c>>>10))+((c=e+(i^s&(t^i))+r[1]+4129170786&4294967295)<<5&4294967295|c>>>27))+((c=s+(t^i&(e^t))+r[6]+3225465664&4294967295)<<9&4294967295|c>>>23))+((c=i+(e^t&(s^e))+r[11]+643717713&4294967295)<<14&4294967295|c>>>18))+((c=t+(s^e&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|c>>>12))+((c=e+(i^s&(t^i))+r[5]+3593408605&4294967295)<<5&4294967295|c>>>27))+((c=s+(t^i&(e^t))+r[10]+38016083&4294967295)<<9&4294967295|c>>>23))+((c=i+(e^t&(s^e))+r[15]+3634488961&4294967295)<<14&4294967295|c>>>18))+((c=t+(s^e&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|c>>>12))+((c=e+(i^s&(t^i))+r[9]+568446438&4294967295)<<5&4294967295|c>>>27))+((c=s+(t^i&(e^t))+r[14]+3275163606&4294967295)<<9&4294967295|c>>>23))+((c=i+(e^t&(s^e))+r[3]+4107603335&4294967295)<<14&4294967295|c>>>18))+((c=t+(s^e&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|c>>>12))+((c=e+(i^s&(t^i))+r[13]+2850285829&4294967295)<<5&4294967295|c>>>27))+((c=s+(t^i&(e^t))+r[2]+4243563512&4294967295)<<9&4294967295|c>>>23))+((c=i+(e^t&(s^e))+r[7]+1735328473&4294967295)<<14&4294967295|c>>>18))+((c=t+(s^e&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|c>>>12))+((c=e+(t^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|c>>>28))+((c=s+(e^t^i)+r[8]+2272392833&4294967295)<<11&4294967295|c>>>21))+((c=i+(s^e^t)+r[11]+1839030562&4294967295)<<16&4294967295|c>>>16))+((c=t+(i^s^e)+r[14]+4259657740&4294967295)<<23&4294967295|c>>>9))+((c=e+(t^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|c>>>28))+((c=s+(e^t^i)+r[4]+1272893353&4294967295)<<11&4294967295|c>>>21))+((c=i+(s^e^t)+r[7]+4139469664&4294967295)<<16&4294967295|c>>>16))+((c=t+(i^s^e)+r[10]+3200236656&4294967295)<<23&4294967295|c>>>9))+((c=e+(t^i^s)+r[13]+681279174&4294967295)<<4&4294967295|c>>>28))+((c=s+(e^t^i)+r[0]+3936430074&4294967295)<<11&4294967295|c>>>21))+((c=i+(s^e^t)+r[3]+3572445317&4294967295)<<16&4294967295|c>>>16))+((c=t+(i^s^e)+r[6]+76029189&4294967295)<<23&4294967295|c>>>9))+((c=e+(t^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|c>>>28))+((c=s+(e^t^i)+r[12]+3873151461&4294967295)<<11&4294967295|c>>>21))+((c=i+(s^e^t)+r[15]+530742520&4294967295)<<16&4294967295|c>>>16))+((c=t+(i^s^e)+r[2]+3299628645&4294967295)<<23&4294967295|c>>>9))+((c=e+(i^(t|~s))+r[0]+4096336452&4294967295)<<6&4294967295|c>>>26))+((c=s+(t^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|c>>>22))+((c=i+(e^(s|~t))+r[14]+2878612391&4294967295)<<15&4294967295|c>>>17))+((c=t+(s^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|c>>>11))+((c=e+(i^(t|~s))+r[12]+1700485571&4294967295)<<6&4294967295|c>>>26))+((c=s+(t^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|c>>>22))+((c=i+(e^(s|~t))+r[10]+4293915773&4294967295)<<15&4294967295|c>>>17))+((c=t+(s^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|c>>>11))+((c=e+(i^(t|~s))+r[8]+1873313359&4294967295)<<6&4294967295|c>>>26))+((c=s+(t^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|c>>>22))+((c=i+(e^(s|~t))+r[6]+2734768916&4294967295)<<15&4294967295|c>>>17))+((c=t+(s^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|c>>>11))+((s=(e=t+((c=e+(i^(t|~s))+r[4]+4149444226&4294967295)<<6&4294967295|c>>>26))+((c=s+(t^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|c>>>22))^((i=s+((c=i+(e^(s|~t))+r[2]+718787259&4294967295)<<15&4294967295|c>>>17))|~e))+r[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(i+(c<<21&4294967295|c>>>11))&4294967295,n.g[2]=n.g[2]+i&4294967295,n.g[3]=n.g[3]+s&4294967295}function jn(n,e){this.h=e;for(var t=[],r=!0,i=n.length-1;0<=i;i--){var s=0|n[i];r&&s==e||(t[i]=s,r=!1)}this.g=t}(mt=rr.prototype).Oa=function(n){this.M=n},mt.ha=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():sI.g(),this.C=function nI(n){return n.h||(n.h=n.i())}(this.u?this.u:sI),this.g.onreadystatechange=Hi(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(s){return void uI(this,s)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)t.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const s of r.keys())t.set(s,r.get(s))}r=Array.from(t.keys()).find(s=>"content-type"==s.toLowerCase()),i=Qt.FormData&&n instanceof Qt.FormData,!(0<=FE(_p,e))||r||i||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,c]of t)this.g.setRequestHeader(s,c);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{fI(this),0<this.B&&((this.L=function yp(n){return dh&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Hi(this.ua,this)):this.A=pv(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(s){uI(this,s)}},mt.ua=function(){typeof pa<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,cs(this,"timeout"),this.abort(8))},mt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,cs(this,"complete"),cs(this,"abort"),Lg(this))},mt.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Lg(this,!0)),rr.$.N.call(this)},mt.La=function(){this.s||(this.G||this.v||this.l?hI(this):this.kb())},mt.kb=function(){hI(this)},mt.isActive=function(){return!!this.g},mt.da=function(){try{return 2<qa(this)?this.g.status:-1}catch{return-1}},mt.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},mt.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),mp(e)}},mt.Ia=function(){return this.m},mt.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(mt=yk.prototype).ra=8,mt.H=1,mt.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const i=new Rg(this,this.l,n);let s=this.s;if(this.U&&(s?(s=HE(s),GE(s,this.U)):s=this.U),null!==this.o||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var r=this.j[t];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=LA(this,i,e),gr(t=Tl(this.I),"RID",n),gr(t,"CVER",22),this.F&&gr(t,"X-HTTP-Session-Id",this.F),Bg(this,t),s&&(this.O?e="headers="+encodeURIComponent(String(mI(s)))+"&"+e:this.o&&Vg(t,this.o,s)),lI(this.i,i),this.bb&&gr(t,"TYPE","init"),this.P?(gr(t,"$req",e),gr(t,"SID","null"),i.aa=!0,yv(i,t,null)):yv(i,t,e),this.H=2}}else 3==this.H&&(n?wk(this,n):0==this.j.length||cI(this.i)||wk(this))},mt.Ma=function(){if(this.u=null,Av(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=gh(Hi(this.jb,this),n)}},mt.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,As(10),Dv(this),Av(this))},mt.ib=function(){null!=this.v&&(this.v=null,Dv(this),jg(this),As(19))},mt.pb=function(n){n?(this.l.info("Successfully pinged google.com"),As(2)):(this.l.info("Failed to ping google.com"),As(1))},mt.isActive=function(){return!!this.h&&this.h.isActive(this)},(mt=jA.prototype).Ba=function(){},mt.Aa=function(){},mt.za=function(){},mt.ya=function(){},mt.isActive=function(){return!0},mt.Va=function(){},Sv.prototype.g=function(n,e){return new jo(n,e)},Di(jo,fi),jo.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,t=this.h||void 0;As(0),n.Y=e,n.na=t||{},n.G=n.aa,n.I=wp(n,null,n.Y),gI(n)},jo.prototype.close=function(){OA(this.g)},jo.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=ZE(n),n=t);e.j.push(new class{constructor(n,e){this.g=n,this.map=e}}(e.fb++,n)),3==e.H&&gI(e)},jo.prototype.N=function(){this.g.h=null,delete this.j,OA(this.g),delete this.g,jo.$.N.call(this)},Di(xv,Ha),Di($g,iI),Di(Cl,jA),Cl.prototype.Ba=function(){cs(this.g,"a")},Cl.prototype.Aa=function(n){cs(this.g,new xv(n))},Cl.prototype.za=function(n){cs(this.g,new $g)},Cl.prototype.ya=function(){cs(this.g,"b")},Di(Wa,function qV(){this.blockSize=-1}),Wa.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Wa.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(0==i)for(;s<=t;)yI(this,n,s),s+=this.blockSize;if("string"==typeof n){for(;s<e;)if(r[i++]=n.charCodeAt(s++),i==this.blockSize){yI(this,r),i=0;break}}else for(;s<e;)if(r[i++]=n[s++],i==this.blockSize){yI(this,r),i=0;break}}this.h=i,this.i+=e},Wa.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var r=0;32>r;r+=8)n[t++]=this.g[e]>>>r&255;return n};var Ek={};function Rv(n){return-128<=n&&128>n?function ZP(n,e){var t=Ek;return Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=e(n)}(n,function(e){return new jn([0|e],0>e?-1:0)}):new jn([0|n],0>n?-1:0)}function Oc(n){if(isNaN(n)||!isFinite(n))return Th;if(0>n)return Gi(Oc(-n));for(var e=[],t=1,r=0;n>=t;r++)e[r]=n/t|0,t*=Mv;return new jn(e,0)}var Mv=4294967296,Th=Rv(0),Pv=Rv(1),zA=Rv(16777216);function Dl(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function ga(n){return-1==n.h}function Gi(n){for(var e=n.g.length,t=[],r=0;r<e;r++)t[r]=~n.g[r];return new jn(t,~n.h).add(Pv)}function Ep(n,e){return n.add(Gi(e))}function Ip(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function zg(n,e){this.g=n,this.h=e}function Ch(n,e){if(Dl(e))throw Error("division by zero");if(Dl(n))return new zg(Th,Th);if(ga(n))return e=Ch(Gi(n),e),new zg(Gi(e.g),Gi(e.h));if(ga(e))return e=Ch(n,Gi(e)),new zg(Gi(e.g),e.h);if(30<n.g.length){if(ga(n)||ga(e))throw Error("slowDivide_ only works with positive integers.");for(var t=Pv,r=e;0>=r.X(n);)t=Hg(t),r=Hg(r);var i=Wu(t,1),s=Wu(r,1);for(r=Wu(r,2),t=Wu(t,2);!Dl(r);){var c=s.add(r);0>=c.X(n)&&(i=i.add(t),s=c),r=Wu(r,1),t=Wu(t,1)}return e=Ep(n,i.R(e)),new zg(i,e)}for(i=Th;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,r-48),c=(s=Oc(t)).R(e);ga(c)||0<c.X(n);)c=(s=Oc(t-=r)).R(e);Dl(s)&&(s=Pv),i=i.add(s),n=Ep(n,c)}return new zg(i,n)}function Hg(n){for(var e=n.g.length+1,t=[],r=0;r<e;r++)t[r]=n.D(r)<<1|n.D(r-1)>>>31;return new jn(t,n.h)}function Wu(n,e){var t=e>>5;e%=32;for(var r=n.g.length-t,i=[],s=0;s<r;s++)i[s]=0<e?n.D(s+t)>>>e|n.D(s+t+1)<<32-e:n.D(s+t);return new jn(i,n.h)}(mt=jn.prototype).ea=function(){if(ga(this))return-Gi(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var r=this.D(t);n+=(0<=r?r:Mv+r)*e,e*=Mv}return n},mt.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(Dl(this))return"0";if(ga(this))return"-"+Gi(this).toString(n);for(var e=Oc(Math.pow(n,6)),t=this,r="";;){var i=Ch(t,e).g,s=((0<(t=Ep(t,i.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(Dl(t=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},mt.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},mt.X=function(n){return ga(n=Ep(this,n))?-1:Dl(n)?0:1},mt.abs=function(){return ga(this)?Gi(this):this},mt.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0,i=0;i<=e;i++){var s=r+(65535&this.D(i))+(65535&n.D(i)),c=(s>>>16)+(this.D(i)>>>16)+(n.D(i)>>>16);r=c>>>16,t[i]=(c&=65535)<<16|(s&=65535)}return new jn(t,-2147483648&t[t.length-1]?-1:0)},mt.R=function(n){if(Dl(this)||Dl(n))return Th;if(ga(this))return ga(n)?Gi(this).R(Gi(n)):Gi(Gi(this).R(n));if(ga(n))return Gi(this.R(Gi(n)));if(0>this.X(zA)&&0>n.X(zA))return Oc(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],r=0;r<2*e;r++)t[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<n.g.length;i++){var s=this.D(r)>>>16,c=65535&this.D(r),h=n.D(i)>>>16,p=65535&n.D(i);t[2*r+2*i]+=c*p,Ip(t,2*r+2*i),t[2*r+2*i+1]+=s*p,Ip(t,2*r+2*i+1),t[2*r+2*i+1]+=c*h,Ip(t,2*r+2*i+1),t[2*r+2*i+2]+=s*h,Ip(t,2*r+2*i+2)}for(r=0;r<e;r++)t[r]=t[2*r+1]<<16|t[2*r];for(r=e;r<2*e;r++)t[r]=0;return new jn(t,0)},mt.gb=function(n){return Ch(this,n).h},mt.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)&n.D(r);return new jn(t,this.h&n.h)},mt.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)|n.D(r);return new jn(t,this.h|n.h)},mt.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)^n.D(r);return new jn(t,this.h^n.h)},Sv.prototype.createWebChannel=Sv.prototype.g,jo.prototype.send=jo.prototype.u,jo.prototype.open=jo.prototype.m,jo.prototype.close=jo.prototype.close,eI.NO_ERROR=0,eI.TIMEOUT=8,eI.HTTP_ERROR=6,tI.COMPLETE="complete",rI.EventType=_h,_h.OPEN="a",_h.CLOSE="b",_h.ERROR="c",_h.MESSAGE="d",fi.prototype.listen=fi.prototype.O,rr.prototype.listenOnce=rr.prototype.P,rr.prototype.getLastError=rr.prototype.Sa,rr.prototype.getLastErrorCode=rr.prototype.Ia,rr.prototype.getStatus=rr.prototype.da,rr.prototype.getResponseJson=rr.prototype.Wa,rr.prototype.getResponseText=rr.prototype.ja,rr.prototype.send=rr.prototype.ha,rr.prototype.setWithCredentials=rr.prototype.Oa,Wa.prototype.digest=Wa.prototype.l,Wa.prototype.reset=Wa.prototype.reset,Wa.prototype.update=Wa.prototype.j,jn.prototype.add=jn.prototype.add,jn.prototype.multiply=jn.prototype.R,jn.prototype.modulo=jn.prototype.gb,jn.prototype.compare=jn.prototype.X,jn.prototype.toNumber=jn.prototype.ea,jn.prototype.toString=jn.prototype.toString,jn.prototype.getBits=jn.prototype.D,jn.fromNumber=Oc,jn.fromString=function $A(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return Gi($A(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=Oc(Math.pow(e,8)),r=Th,i=0;i<n.length;i+=8){var s=Math.min(8,n.length-i),c=parseInt(n.substring(i,i+s),e);8>s?(s=Oc(Math.pow(e,s)),r=r.R(s).add(Oc(c))):r=(r=r.R(t)).add(Oc(c))}return r};var HA=za.createWebChannelTransport=function(){return new Sv},Ik=za.getStatEventTarget=function(){return gv()},vI=za.ErrorCode=eI,bk=za.EventType=tI,kv=za.Event=Ds,Gg=za.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},wI=za.FetchXmlHttpFactory=Gu,qg=za.WebChannel=rI,Tk=za.XhrIo=rr,Ck=za.Md5=Wa,Dh=za.Integer=jn;const Nv="@firebase/firestore";class Ai{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ai.UNAUTHENTICATED=new Ai(null),Ai.GOOGLE_CREDENTIALS=new Ai("google-credentials-uid"),Ai.FIRST_PARTY=new Ai("first-party-uid"),Ai.MOCK_USER=new Ai("mock-user");let Ku="9.23.0";const Al=new Bo.Yd("@firebase/firestore");function EI(){return Al.logLevel}function Ze(n,...e){if(Al.logLevel<=Bo.in.DEBUG){const t=e.map(II);Al.debug(`Firestore (${Ku}): ${n}`,...t)}}function qr(n,...e){if(Al.logLevel<=Bo.in.ERROR){const t=e.map(II);Al.error(`Firestore (${Ku}): ${n}`,...t)}}function $o(n,...e){if(Al.logLevel<=Bo.in.WARN){const t=e.map(II);Al.warn(`Firestore (${Ku}): ${n}`,...t)}}function II(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function Et(n="Unexpected state"){const e=`FIRESTORE (${Ku}) INTERNAL ASSERTION FAILED: `+n;throw qr(e),new Error(e)}function Pt(n,e){n||Et()}function ht(n,e){return n}const ge={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Be extends An.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class pi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class TI{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class qA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Ai.UNAUTHENTICATED))}shutdown(){}}class WA{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class KA{constructor(e){this.t=e,this.currentUser=Ai.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const s=g=>this.i!==i?(i=this.i,t(g)):Promise.resolve();let c=new pi;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new pi,e.enqueueRetryable(()=>s(this.currentUser))};const h=()=>{const g=c;e.enqueueRetryable((0,Se.Z)(function*(){yield g.promise,yield s(r.currentUser)}))},p=g=>{Ze("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.auth.addAuthTokenListener(this.o),h()};this.t.onInit(g=>p(g)),setTimeout(()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?p(g):(Ze("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new pi)}},0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Ze("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Pt("string"==typeof r.accessToken),new TI(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Pt(null===e||"string"==typeof e),new Ai(e)}}class ZA{constructor(e,t,r){this.h=e,this.l=t,this.m=r,this.type="FirstParty",this.user=Ai.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class Ov{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new ZA(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Ai.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Sl{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Dk{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const r=s=>{null!=s.error&&Ze("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const c=s.token!==this.T;return this.T=s.token,Ze("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{Ze("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.I.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.I.getImmediate({optional:!0});s?i(s):Ze("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Pt("string"==typeof t.token),this.T=t.token,new Sl(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function CI(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class Zu{static A(){const t=62*Math.floor(256/62);let r="";for(;r.length<20;){const i=CI(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<t&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(i[s]%62))}return r}}function Zt(n,e){return n<e?-1:n>e?1:0}function bp(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function Fv(n){return n+"\0"}class Vr{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Be(ge.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Be(ge.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Be(ge.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Be(ge.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Vr.fromMillis(Date.now())}static fromDate(e){return Vr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Vr(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Zt(this.nanoseconds,e.nanoseconds):Zt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Ut{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ut(e)}static min(){return new Ut(new Vr(0,0))}static max(){return new Ut(new Vr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Wg{constructor(e,t,r){void 0===t?t=0:t>e.length&&Et(),void 0===r?r=e.length-t:r>e.length-t&&Et(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===Wg.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Wg?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const s=e.get(i),c=t.get(i);if(s<c)return-1;if(s>c)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Sn extends Wg{construct(e,t,r){return new Sn(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Be(ge.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new Sn(t)}static emptyPath(){return new Sn([])}}const YA=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Wr extends Wg{construct(e,t,r){return new Wr(e,t,r)}static isValidIdentifier(e){return YA.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Wr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Wr(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const s=()=>{if(0===r.length)throw new Be(ge.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let c=!1;for(;i<e.length;){const h=e[i];if("\\"===h){if(i+1===e.length)throw new Be(ge.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[i+1];if("\\"!==p&&"."!==p&&"`"!==p)throw new Be(ge.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=p,i+=2}else"`"===h?(c=!c,i++):"."!==h||c?(r+=h,i++):(s(),i++)}if(s(),c)throw new Be(ge.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Wr(t)}static emptyPath(){return new Wr([])}}class Je{constructor(e){this.path=e}static fromPath(e){return new Je(Sn.fromString(e))}static fromName(e){return new Je(Sn.fromString(e).popFirst(5))}static empty(){return new Je(Sn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Sn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Sn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Je(new Sn(e.slice()))}}class Kg{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}}function DI(n){return n.fields.find(e=>2===e.kind)}function Ah(n){return n.fields.filter(e=>2!==e.kind)}Kg.UNKNOWN_ID=-1;class Lv{constructor(e,t){this.fieldPath=e,this.kind=t}}class Tp{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Tp(0,zo.min())}}function Sh(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Ut.fromTimestamp(1e9===r?new Vr(t+1,0):new Vr(t,r));return new zo(i,Je.empty(),e)}function JA(n){return new zo(n.readTime,n.key,-1)}class zo{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new zo(Ut.min(),Je.empty(),-1)}static max(){return new zo(Ut.max(),Je.empty(),-1)}}function Vv(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=Je.comparator(n.documentKey,e.documentKey),0!==t?t:Zt(n.largestBatchId,e.largestBatchId))}const eS="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class AI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function xh(n){return Zg.apply(this,arguments)}function Zg(){return Zg=(0,Se.Z)(function*(n){if(n.code!==ge.FAILED_PRECONDITION||n.message!==eS)throw n;Ze("LocalStore","Unexpectedly lost primary lease")}),Zg.apply(this,arguments)}class he{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Et(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new he((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(t,s).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof he?t:he.resolve(t)}catch(t){return he.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):he.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):he.reject(t)}static resolve(e){return new he((t,r)=>{t(e)})}static reject(e){return new he((t,r)=>{r(e)})}static waitFor(e){return new he((t,r)=>{let i=0,s=0,c=!1;e.forEach(h=>{++i,h.next(()=>{++s,c&&s===i&&t()},p=>r(p))}),c=!0,s===i&&t()})}static or(e){let t=he.resolve(!1);for(const r of e)t=t.next(i=>i?he.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,s)=>{r.push(t.call(this,i,s))}),this.waitFor(r)}static mapArray(e,t){return new he((r,i)=>{const s=e.length,c=new Array(s);let h=0;for(let p=0;p<s;p++){const g=p;t(e[g]).next(w=>{c[g]=w,++h,h===s&&r(c)},w=>i(w))}})}static doWhile(e,t){return new he((r,i)=>{const s=()=>{!0===e()?t().next(()=>{s()},i):r()};s()})}}class Ho{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.v=new pi,this.transaction.oncomplete=()=>{this.v.resolve()},this.transaction.onabort=()=>{t.error?this.v.reject(new fo(e,t.error)):this.v.resolve()},this.transaction.onerror=r=>{const i=xI(r.target.error);this.v.reject(new fo(e,i))}}static open(e,t,r,i){try{return new Ho(t,e.transaction(i,r))}catch(s){throw new fo(t,s)}}get R(){return this.v.promise}abort(e){e&&this.v.reject(e),this.aborted||(Ze("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new Za(t)}}class Ka{constructor(e,t,r){this.name=e,this.version=t,this.V=r,12.2===Ka.S((0,An.z$)())&&qr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Ze("SimpleDb","Removing database:",e),Yu(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,An.hl)())return!1;if(Ka.C())return!0;const e=(0,An.z$)(),t=Ka.S(e),r=0<t&&t<10,i=Ka.N(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.k)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static N(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}$(e){var t=this;return(0,Se.Z)(function*(){return t.db||(Ze("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,i)=>{const s=indexedDB.open(t.name,t.version);s.onsuccess=c=>{r(c.target.result)},s.onblocked=()=>{i(new fo(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=c=>{const h=c.target.error;i("VersionError"===h.name?new Be(ge.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===h.name?new Be(ge.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+h):new fo(e,h))},s.onupgradeneeded=c=>{Ze("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',c.oldVersion),t.V.O(c.target.result,s.transaction,c.oldVersion,t.version).next(()=>{Ze("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.F&&(t.db.onversionchange=r=>t.F(r)),t.db})()}B(e){this.F=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,i){var s=this;return(0,Se.Z)(function*(){const c="readonly"===t;let h=0;for(;;){++h;try{s.db=yield s.$(e);const p=Ho.open(s.db,e,c?"readonly":"readwrite",r),g=i(p).next(w=>(p.P(),w)).catch(w=>(p.abort(w),he.reject(w))).toPromise();return g.catch(()=>{}),yield p.R,g}catch(p){const g=p,w="FirebaseError"!==g.name&&h<3;if(Ze("SimpleDb","Transaction failed with error:",g.message,"Retrying:",w),s.close(),!w)return Promise.reject(g)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class tS{constructor(e){this.L=e,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(e){this.L=e}done(){this.q=!0}G(e){this.U=e}delete(){return Yu(this.L.delete())}}class fo extends Be{constructor(e,t){super(ge.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function qi(n){return"IndexedDbTransactionError"===n.name}class Za{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(Ze("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(Ze("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Yu(r)}add(e){return Ze("SimpleDb","ADD",this.store.name,e,e),Yu(this.store.add(e))}get(e){return Yu(this.store.get(e)).next(t=>(void 0===t&&(t=null),Ze("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Ze("SimpleDb","DELETE",this.store.name,e),Yu(this.store.delete(e))}count(){return Ze("SimpleDb","COUNT",this.store.name),Yu(this.store.count())}j(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const i=this.cursor(r),s=[];return this.W(i,(c,h)=>{s.push(h)}).next(()=>s)}{const i=this.store.getAll(r.range);return new he((s,c)=>{i.onerror=h=>{c(h.target.error)},i.onsuccess=h=>{s(h.target.result)}})}}H(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new he((i,s)=>{r.onerror=c=>{s(c.target.error)},r.onsuccess=c=>{i(c.target.result)}})}J(e,t){Ze("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.Y=!1;const i=this.cursor(r);return this.W(i,(s,c,h)=>h.delete())}X(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.W(i,t)}Z(e){const t=this.cursor({});return new he((r,i)=>{t.onerror=s=>{const c=xI(s.target.error);i(c)},t.onsuccess=s=>{const c=s.target.result;c?e(c.primaryKey,c.value).next(h=>{h?c.continue():r()}):r()}})}W(e,t){const r=[];return new he((i,s)=>{e.onerror=c=>{s(c.target.error)},e.onsuccess=c=>{const h=c.target.result;if(!h)return void i();const p=new tS(h),g=t(h.primaryKey,h.value,p);if(g instanceof he){const w=g.catch(D=>(p.done(),he.reject(D)));r.push(w)}p.isDone?i():null===p.K?h.continue():h.continue(p.K)}}).next(()=>he.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.Y?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Yu(n){return new he((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const i=xI(r.target.error);t(i)}})}let SI=!1;function xI(n){const e=Ka.S((0,An.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new Be("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return SI||(SI=!0,setTimeout(()=>{throw r},0)),r}}return n}class Ak{constructor(e,t){this.asyncQueue=e,this.tt=t,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(e){var t=this;Ze("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,Se.Z)(function*(){t.task=null;try{Ze("IndexBackiller",`Documents written: ${yield t.tt.nt()}`)}catch(r){qi(r)?Ze("IndexBackiller","Ignoring IndexedDB error during index backfill: ",r):yield xh(r)}yield t.et(6e4)}))}}class Sk{constructor(e,t){this.localStore=e,this.persistence=t}nt(e=50){var t=this;return(0,Se.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>t.st(r,e))})()}st(e,t){const r=new Set;let i=t,s=!0;return he.doWhile(()=>!0===s&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(c=>{if(null!==c&&!r.has(c))return Ze("IndexBackiller",`Processing collection: ${c}`),this.it(e,c,i).next(h=>{i-=h,r.add(c)});s=!1})).next(()=>t-i)}it(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(i=>this.localStore.localDocuments.getNextDocuments(e,t,i,r).next(s=>{const c=s.changes;return this.localStore.indexManager.updateIndexEntries(e,c).next(()=>this.rt(i,s)).next(h=>(Ze("IndexBackiller",`Updating offset: ${h}`),this.localStore.indexManager.updateCollectionGroup(e,t,h))).next(()=>c.size)}))}rt(e,t){let r=e;return t.changes.forEach((i,s)=>{const c=JA(s);Vv(c,r)>0&&(r=c)}),new zo(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}let Go=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ot(i),this.ut=i=>r.writeSequenceNumber(i))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return n.ct=-1,n})();function Rh(n){return null==n}function xl(n){return 0===n&&1/n==-1/0}function nS(n){return"number"==typeof n&&Number.isInteger(n)&&!xl(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}function ls(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=rS(e)),e=xk(n.get(t),e);return rS(e)}function xk(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const s=n.charAt(i);switch(s){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=s}}return t}function rS(n){return n+"\x01\x01"}function Ya(n){const e=n.length;if(Pt(e>=2),2===e)return Pt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),Sn.emptyPath();const t=e-2,r=[];let i="";for(let s=0;s<e;){const c=n.indexOf("\x01",s);switch((c<0||c>t)&&Et(),n.charAt(c+1)){case"\x01":const h=n.substring(s,c);let p;0===i.length?p=h:(i+=h,p=i,i=""),r.push(p);break;case"\x10":i+=n.substring(s,c),i+="\0";break;case"\x11":i+=n.substring(s,c+1);break;default:Et()}s=c+2}return new Sn(r)}const RI=["userId","batchId"];function Mh(n,e){return[n,ls(e)]}function iS(n,e,t){return[n,ls(e),t]}const sS={},oS=["prefixPath","collectionGroup","readTime","documentId"],aS=["prefixPath","collectionGroup","documentId"],Rk=["collectionGroup","readTime","prefixPath","documentId"],Mk=["canonicalId","targetId"],MI=["targetId","path"],Uv=["path","targetId"],cS=["collectionId","parent"],lS=["indexId","uid"],uS=["uid","sequenceNumber"],dS=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],hS=["indexId","uid","orderedDocumentKey"],fS=["userId","collectionPath","documentId"],pS=["userId","collectionPath","largestBatchId"],mS=["userId","collectionGroup","largestBatchId"],gS=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Pk=[...gS,"documentOverlays"],_S=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],yS=_S,kk=[...yS,"indexConfiguration","indexState","indexEntries"];class PI extends AI{constructor(e,t){super(),this.ht=e,this.currentSequenceNumber=t}}function Wi(n,e){const t=ht(n);return Ka.M(t.ht,e)}function vS(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Qu(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function wS(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class dr{constructor(e,t){this.comparator=e,this.root=t||us.EMPTY}insert(e,t){return new dr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,us.BLACK,null,null))}remove(e){return new dr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,us.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Bv(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Bv(this.root,e,this.comparator,!1)}getReverseIterator(){return new Bv(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Bv(this.root,e,this.comparator,!0)}}class Bv{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,t&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class us{constructor(e,t,r,i,s){this.key=e,this.value=t,this.color=r??us.RED,this.left=i??us.EMPTY,this.right=s??us.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,s){return new us(e??this.key,t??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===s?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return us.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return us.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,us.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,us.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Et();const e=this.left.check();if(e!==this.right.check())throw Et();return e+(this.isRed()?0:1)}}us.EMPTY=null,us.RED=!0,us.BLACK=!1,us.EMPTY=new class{constructor(){this.size=0}get key(){throw Et()}get value(){throw Et()}get color(){throw Et()}get left(){throw Et()}get right(){throw Et()}copy(n,e,t,r,i){return this}insert(n,e,t){return new us(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class _r{constructor(e){this.comparator=e,this.data=new dr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new ES(this.data.getIterator())}getIteratorFrom(e){return new ES(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof _r)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new _r(this.comparator);return t.data=e,t}}class ES{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Cp(n){return n.hasNext()?n.getNext():void 0}class po{constructor(e){this.fields=e,e.sort(Wr.comparator)}static empty(){return new po([])}unionWith(e){let t=new _r(Wr.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new po(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return bp(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class IS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class mi{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new IS("Invalid base64 string: "+i):i}}(e);return new mi(t)}static fromUint8Array(e){const t=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new mi(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Zt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}mi.EMPTY_BYTE_STRING=new mi("");const TS=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Rl(n){if(Pt(!!n),"string"==typeof n){let e=0;const t=TS.exec(n);if(Pt(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ur(n.seconds),nanos:Ur(n.nanos)}}function Ur(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Fc(n){return"string"==typeof n?mi.fromBase64String(n):mi.fromUint8Array(n)}function Yg(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Qg(n){const e=n.mapValue.fields.__previous_value__;return Yg(e)?Qg(e):e}function Dp(n){const e=Rl(n.mapValue.fields.__local_write_time__.timestampValue);return new Vr(e.seconds,e.nanos)}class CS{constructor(e,t,r,i,s,c,h,p,g){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=c,this.autoDetectLongPolling=h,this.longPollingOptions=p,this.useFetchStreams=g}}class Ml{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Ml("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Ml&&e.projectId===this.projectId&&e.database===this.database}}const mo={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},jv={nullValue:"NULL_VALUE"};function Xu(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Yg(n)?4:Jg(n)?9007199254740991:10:Et()}function Gs(n,e){if(n===e)return!0;const t=Xu(n);if(t!==Xu(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Dp(n).isEqual(Dp(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=Rl(r.timestampValue),c=Rl(i.timestampValue);return s.seconds===c.seconds&&s.nanos===c.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,Fc(n.bytesValue).isEqual(Fc(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return Ur(r.geoPointValue.latitude)===Ur(i.geoPointValue.latitude)&&Ur(r.geoPointValue.longitude)===Ur(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Ur(r.integerValue)===Ur(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=Ur(r.doubleValue),c=Ur(i.doubleValue);return s===c?xl(s)===xl(c):isNaN(s)&&isNaN(c)}return!1}(n,e);case 9:return bp(n.arrayValue.values||[],e.arrayValue.values||[],Gs);case 10:return function(r,i){const s=r.mapValue.fields||{},c=i.mapValue.fields||{};if(vS(s)!==vS(c))return!1;for(const h in s)if(s.hasOwnProperty(h)&&(void 0===c[h]||!Gs(s[h],c[h])))return!1;return!0}(n,e);default:return Et()}var i}function $v(n,e){return void 0!==(n.values||[]).find(t=>Gs(t,e))}function Lc(n,e){if(n===e)return 0;const t=Xu(n),r=Xu(e);if(t!==r)return Zt(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Zt(n.booleanValue,e.booleanValue);case 2:return function(i,s){const c=Ur(i.integerValue||i.doubleValue),h=Ur(s.integerValue||s.doubleValue);return c<h?-1:c>h?1:c===h?0:isNaN(c)?isNaN(h)?0:-1:1}(n,e);case 3:return Nk(n.timestampValue,e.timestampValue);case 4:return Nk(Dp(n),Dp(e));case 5:return Zt(n.stringValue,e.stringValue);case 6:return function(i,s){const c=Fc(i),h=Fc(s);return c.compareTo(h)}(n.bytesValue,e.bytesValue);case 7:return function(i,s){const c=i.split("/"),h=s.split("/");for(let p=0;p<c.length&&p<h.length;p++){const g=Zt(c[p],h[p]);if(0!==g)return g}return Zt(c.length,h.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,s){const c=Zt(Ur(i.latitude),Ur(s.latitude));return 0!==c?c:Zt(Ur(i.longitude),Ur(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,s){const c=i.values||[],h=s.values||[];for(let p=0;p<c.length&&p<h.length;++p){const g=Lc(c[p],h[p]);if(g)return g}return Zt(c.length,h.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===mo.mapValue&&s===mo.mapValue)return 0;if(i===mo.mapValue)return 1;if(s===mo.mapValue)return-1;const c=i.fields||{},h=Object.keys(c),p=s.fields||{},g=Object.keys(p);h.sort(),g.sort();for(let w=0;w<h.length&&w<g.length;++w){const D=Zt(h[w],g[w]);if(0!==D)return D;const M=Lc(c[h[w]],p[g[w]]);if(0!==M)return M}return Zt(h.length,g.length)}(n.mapValue,e.mapValue);default:throw Et()}}function Nk(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Zt(n,e);const t=Rl(n),r=Rl(e),i=Zt(t.seconds,r.seconds);return 0!==i?i:Zt(t.nanos,r.nanos)}function Ph(n){return zv(n)}function zv(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=Rl(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Fc(n.bytesValue).toBase64():"referenceValue"in n?Je.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",s=!0;for(const c of r.values||[])s?s=!1:i+=",",i+=zv(c);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",c=!0;for(const h of i)c?c=!1:s+=",",s+=`${h}:${zv(r.fields[h])}`;return s+"}"}(n.mapValue):Et();var e}function _a(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function NI(n){return!!n&&"integerValue"in n}function Xg(n){return!!n&&"arrayValue"in n}function DS(n){return!!n&&"nullValue"in n}function kh(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Hv(n){return!!n&&"mapValue"in n}function Ju(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Qu(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Ju(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Ju(n.arrayValue.values[t]);return e}return Object.assign({},n)}function Jg(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function go(n){return"nullValue"in n?jv:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?_a(Ml.empty(),Je.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:Et()}function KV(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?_a(Ml.empty(),Je.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?mo:Et()}function OI(n,e){const t=Lc(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function FI(n,e){const t=Lc(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class ds{constructor(e){this.value=e}static empty(){return new ds({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Hv(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ju(t)}setAll(e){let t=Wr.emptyPath(),r={},i=[];e.forEach((c,h)=>{if(!t.isImmediateParentOf(h)){const p=this.getFieldsMap(t);this.applyChanges(p,r,i),r={},i=[],t=h.popLast()}c?r[h.lastSegment()]=Ju(c):i.push(h.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,r,i)}delete(e){const t=this.field(e.popLast());Hv(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Gs(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Hv(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Qu(t,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new ds(Ju(this.value))}}function LI(n){const e=[];return Qu(n.fields,(t,r)=>{const i=new Wr([t]);if(Hv(r)){const s=LI(r.mapValue).fields;if(0===s.length)e.push(i);else for(const c of s)e.push(i.child(c))}else e.push(i)}),new po(e)}class hr{constructor(e,t,r,i,s,c,h){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=s,this.data=c,this.documentState=h}static newInvalidDocument(e){return new hr(e,0,Ut.min(),Ut.min(),Ut.min(),ds.empty(),0)}static newFoundDocument(e,t,r,i){return new hr(e,1,t,Ut.min(),r,i,0)}static newNoDocument(e,t){return new hr(e,2,t,Ut.min(),Ut.min(),ds.empty(),0)}static newUnknownDocument(e,t){return new hr(e,3,t,Ut.min(),Ut.min(),ds.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ut.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ds.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ds.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ut.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof hr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new hr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Pl{constructor(e,t){this.position=e,this.inclusive=t}}function VI(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const s=e[i],c=n.position[i];if(r=s.field.isKeyField()?Je.comparator(Je.fromName(c.referenceValue),t.key):Lc(c,t.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function AS(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Gs(n.position[t],e.position[t]))return!1;return!0}class Ap{constructor(e,t="asc"){this.field=e,this.dir=t}}function Ok(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class Sp{}class bn extends Sp{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new Fk(e,t,r):"array-contains"===t?new xS(e,r):"in"===t?new jI(e,r):"not-in"===t?new Uk(e,r):"array-contains-any"===t?new RS(e,r):new bn(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new Lk(e,r):new Vk(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Lc(t,this.value)):null!==t&&Xu(this.value)===Xu(t)&&this.matchesComparison(Lc(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Et()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Kn extends Sp{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new Kn(e,t)}matches(e){return xp(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(t=>t.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function xp(n){return"and"===n.op}function Rp(n){return"or"===n.op}function Gv(n){return UI(n)&&xp(n)}function UI(n){for(const e of n.filters)if(e instanceof Kn)return!1;return!0}function qv(n){if(n instanceof bn)return n.field.canonicalString()+n.op.toString()+Ph(n.value);if(Gv(n))return n.filters.map(e=>qv(e)).join(",");{const e=n.filters.map(t=>qv(t)).join(",");return`${n.op}(${e})`}}function SS(n,e){return n instanceof bn?(t=n,(r=e)instanceof bn&&t.op===r.op&&t.field.isEqual(r.field)&&Gs(t.value,r.value)):n instanceof Kn?function(t,r){return r instanceof Kn&&t.op===r.op&&t.filters.length===r.filters.length&&t.filters.reduce((i,s,c)=>i&&SS(s,r.filters[c]),!0)}(n,e):void Et();var t,r}function Mp(n,e){const t=n.filters.concat(e);return Kn.create(t,n.op)}function Pp(n){return n instanceof bn?`${(e=n).field.canonicalString()} ${e.op} ${Ph(e.value)}`:n instanceof Kn?function(e){return e.op.toString()+" {"+e.getFilters().map(Pp).join(" ,")+"}"}(n):"Filter";var e}class Fk extends bn{constructor(e,t,r){super(e,t,r),this.key=Je.fromName(r.referenceValue)}matches(e){const t=Je.comparator(e.key,this.key);return this.matchesComparison(t)}}class Lk extends bn{constructor(e,t){super(e,"in",t),this.keys=BI(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Vk extends bn{constructor(e,t){super(e,"not-in",t),this.keys=BI(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function BI(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>Je.fromName(r.referenceValue))}class xS extends bn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Xg(t)&&$v(t.arrayValue,this.value)}}class jI extends bn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&$v(this.value.arrayValue,t)}}class Uk extends bn{constructor(e,t){super(e,"not-in",t)}matches(e){if($v(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!$v(this.value.arrayValue,t)}}class RS extends bn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Xg(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>$v(this.value.arrayValue,r))}}class Bk{constructor(e,t=null,r=[],i=[],s=null,c=null,h=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=c,this.endAt=h,this.dt=null}}function $I(n,e=null,t=[],r=[],i=null,s=null,c=null){return new Bk(n,e,t,r,i,s,c)}function kp(n){const e=ht(n);if(null===e.dt){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>qv(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),Rh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Ph(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Ph(r)).join(",")),e.dt=t}return e.dt}function Wv(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!Ok(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!SS(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!AS(n.startAt,e.startAt)&&AS(n.endAt,e.endAt)}function zI(n){return Je.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function HI(n,e){return n.filters.filter(t=>t instanceof bn&&t.field.isEqual(e))}function GI(n,e,t){let r=jv,i=!0;for(const s of HI(n,e)){let c=jv,h=!0;switch(s.op){case"<":case"<=":c=go(s.value);break;case"==":case"in":case">=":c=s.value;break;case">":c=s.value,h=!1;break;case"!=":case"not-in":c=jv}OI({value:r,inclusive:i},{value:c,inclusive:h})<0&&(r=c,i=h)}if(null!==t)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(e)){const c=t.position[s];OI({value:r,inclusive:i},{value:c,inclusive:t.inclusive})<0&&(r=c,i=t.inclusive);break}return{value:r,inclusive:i}}function e_(n,e,t){let r=mo,i=!0;for(const s of HI(n,e)){let c=mo,h=!0;switch(s.op){case">=":case">":c=KV(s.value),h=!1;break;case"==":case"in":case"<=":c=s.value;break;case"<":c=s.value,h=!1;break;case"!=":case"not-in":c=mo}FI({value:r,inclusive:i},{value:c,inclusive:h})>0&&(r=c,i=h)}if(null!==t)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(e)){const c=t.position[s];FI({value:r,inclusive:i},{value:c,inclusive:t.inclusive})>0&&(r=c,i=t.inclusive);break}return{value:r,inclusive:i}}class kl{constructor(e,t=null,r=[],i=[],s=null,c="F",h=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=c,this.startAt=h,this.endAt=p,this.wt=null,this._t=null}}function MS(n,e,t,r,i,s,c,h){return new kl(n,e,t,r,i,s,c,h)}function Nh(n){return new kl(n)}function Np(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function qI(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function Kv(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function WI(n){return null!==n.collectionGroup}function Oh(n){const e=ht(n);if(null===e.wt){e.wt=[];const t=Kv(e),r=qI(e);if(null!==t&&null===r)t.isKeyField()||e.wt.push(new Ap(t)),e.wt.push(new Ap(Wr.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.wt.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new Ap(Wr.keyField(),s))}}}return e.wt}function _o(n){const e=ht(n);if(!e._t)if("F"===e.limitType)e._t=$I(e.path,e.collectionGroup,Oh(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const s of Oh(e))t.push(new Ap(s.field,"desc"===s.dir?"asc":"desc"));const r=e.endAt?new Pl(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Pl(e.startAt.position,e.startAt.inclusive):null;e._t=$I(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e._t}function KI(n,e){e.getFirstInequalityField(),Kv(n);const t=n.filters.concat([e]);return new kl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function t_(n,e,t){return new kl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function n_(n,e){return Wv(_o(n),_o(e))&&n.limitType===e.limitType}function PS(n){return`${kp(_o(n))}|lt:${n.limitType}`}function Fh(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(r=>Pp(r)).join(", ")}]`),Rh(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(r=>{return`${(i=r).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Ph(r)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Ph(r)).join(",")),`Target(${t})`}(_o(n))}; limitType=${n.limitType})`}function r_(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):Je.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of Oh(t))if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,s,c){const h=VI(i,s,c);return i.inclusive?h<=0:h<0}(t.startAt,Oh(t),r)||t.endAt&&!function(i,s,c){const h=VI(i,s,c);return i.inclusive?h>=0:h>0}(t.endAt,Oh(t),r)));var t,r}function ZI(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function kS(n){return(e,t)=>{let r=!1;for(const i of Oh(n)){const s=NS(i,e,t);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function NS(n,e,t){const r=n.field.isKeyField()?Je.comparator(e.key,t.key):function(i,s,c){const h=s.data.field(i),p=c.data.field(i);return null!==h&&null!==p?Lc(h,p):Et()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Et()}}class Nl{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,e))return s}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Qu(this.inner,(t,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return wS(this.inner)}size(){return this.innerSize}}const OS=new dr(Je.comparator);function yo(){return OS}const Zv=new dr(Je.comparator);function i_(...n){let e=Zv;for(const t of n)e=e.insert(t.key,t);return e}function YI(n){let e=Zv;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Qa(){return s_()}function FS(){return s_()}function s_(){return new Nl(n=>n.toString(),(n,e)=>n.isEqual(e))}const jk=new dr(Je.comparator),QI=new _r(Je.comparator);function on(...n){let e=QI;for(const t of n)e=e.add(t);return e}const LS=new _r(Zt);function XI(){return LS}function VS(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:xl(e)?"-0":e}}function US(n){return{integerValue:""+n}}function BS(n,e){return nS(e)?US(e):VS(n,e)}class Yv{constructor(){this._=void 0}}function $k(n,e,t){return n instanceof Lh?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&Yg(i)&&(i=Qg(i)),i&&(s.fields.__previous_value__=i),{mapValue:s}}(t,e):n instanceof ed?$S(n,e):n instanceof Vh?JI(n,e):function(r,i){const s=jS(r,i),c=zS(s)+zS(r.gt);return NI(s)&&NI(r.gt)?US(c):VS(r.serializer,c)}(n,e)}function zk(n,e,t){return n instanceof ed?$S(n,e):n instanceof Vh?JI(n,e):t}function jS(n,e){return n instanceof Op?NI(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class Lh extends Yv{}class ed extends Yv{constructor(e){super(),this.elements=e}}function $S(n,e){const t=HS(e);for(const r of n.elements)t.some(i=>Gs(i,r))||t.push(r);return{arrayValue:{values:t}}}class Vh extends Yv{constructor(e){super(),this.elements=e}}function JI(n,e){let t=HS(e);for(const r of n.elements)t=t.filter(i=>!Gs(i,r));return{arrayValue:{values:t}}}class Op extends Yv{constructor(e,t){super(),this.serializer=e,this.gt=t}}function zS(n){return Ur(n.integerValue||n.doubleValue)}function HS(n){return Xg(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class o_{constructor(e,t){this.field=e,this.transform=t}}class tb{constructor(e,t){this.version=e,this.transformResults=t}}class yr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new yr}static exists(e){return new yr(void 0,e)}static updateTime(e){return new yr(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Fp(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class Qv{}function GS(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new Lp(n.key,yr.none()):new Uh(n.key,n.data,yr.none());{const t=n.data,r=ds.empty();let i=new _r(Wr.comparator);for(let s of e.fields)if(!i.has(s)){let c=t.field(s);null===c&&s.length>1&&(s=s.popLast(),c=t.field(s)),null===c?r.delete(s):r.set(s,c),i=i.add(s)}return new Ol(n.key,r,new po(i.toArray()),yr.none())}}function nb(n,e,t){n instanceof Uh?function(r,i,s){const c=r.value.clone(),h=Xv(r.fieldTransforms,i,s.transformResults);c.setAll(h),i.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(n,e,t):n instanceof Ol?function(r,i,s){if(!Fp(r.precondition,i))return void i.convertToUnknownDocument(s.version);const c=Xv(r.fieldTransforms,i,s.transformResults),h=i.data;h.setAll(Hk(r)),h.setAll(c),i.convertToFoundDocument(s.version,h).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function a_(n,e,t,r){return n instanceof Uh?function(i,s,c,h){if(!Fp(i.precondition,s))return c;const p=i.value.clone(),g=Jv(i.fieldTransforms,h,s);return p.setAll(g),s.convertToFoundDocument(s.version,p).setHasLocalMutations(),null}(n,e,t,r):n instanceof Ol?function(i,s,c,h){if(!Fp(i.precondition,s))return c;const p=Jv(i.fieldTransforms,h,s),g=s.data;return g.setAll(Hk(i)),g.setAll(p),s.convertToFoundDocument(s.version,g).setHasLocalMutations(),null===c?null:c.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(w=>w.field))}(n,e,t,r):(c=t,Fp(n.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):c);var s,c}function qS(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),s=jS(r.transform,i||null);null!=s&&(null===t&&(t=ds.empty()),t.set(r.field,s))}return t||null}function td(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&bp(t,r,(i,s)=>function eb(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof ed&&r instanceof ed||t instanceof Vh&&r instanceof Vh?bp(t.elements,r.elements,Gs):t instanceof Op&&r instanceof Op?Gs(t.gt,r.gt):t instanceof Lh&&r instanceof Lh);var t,r}(i,s))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class Uh extends Qv{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ol extends Qv{constructor(e,t,r,i,s=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function Hk(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function Xv(n,e,t){const r=new Map;Pt(n.length===t.length);for(let i=0;i<t.length;i++){const s=n[i],c=s.transform,h=e.data.field(s.field);r.set(s.field,zk(c,h,t[i]))}return r}function Jv(n,e,t){const r=new Map;for(const i of n){const s=i.transform,c=t.data.field(i.field);r.set(i.field,$k(s,c,e))}return r}class Lp extends Qv{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ew extends Qv{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class tw{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&nb(s,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=a_(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=a_(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=FS();return this.mutations.forEach(i=>{const s=e.get(i.key),c=s.overlayedDocument;let h=this.applyToLocalView(c,s.mutatedFields);h=t.has(i.key)?null:h;const p=GS(c,h);null!==p&&r.set(i.key,p),c.isValidDocument()||c.convertToNoDocument(Ut.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),on())}isEqual(e){return this.batchId===e.batchId&&bp(this.mutations,e.mutations,(t,r)=>td(t,r))&&bp(this.baseMutations,e.baseMutations,(t,r)=>td(t,r))}}class rb{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Pt(e.mutations.length===r.length);let i=jk;const s=e.mutations;for(let c=0;c<s.length;c++)i=i.insert(s[c].key,r[c].version);return new rb(e,t,r,i)}}class nw{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class WS{constructor(e,t){this.count=e,this.unchangedNames=t}}var ti,Dn;function sb(n){switch(n){default:return Et();case ge.CANCELLED:case ge.UNKNOWN:case ge.DEADLINE_EXCEEDED:case ge.RESOURCE_EXHAUSTED:case ge.INTERNAL:case ge.UNAVAILABLE:case ge.UNAUTHENTICATED:return!1;case ge.INVALID_ARGUMENT:case ge.NOT_FOUND:case ge.ALREADY_EXISTS:case ge.PERMISSION_DENIED:case ge.FAILED_PRECONDITION:case ge.ABORTED:case ge.OUT_OF_RANGE:case ge.UNIMPLEMENTED:case ge.DATA_LOSS:return!0}}function KS(n){if(void 0===n)return qr("GRPC error has no .code"),ge.UNKNOWN;switch(n){case ti.OK:return ge.OK;case ti.CANCELLED:return ge.CANCELLED;case ti.UNKNOWN:return ge.UNKNOWN;case ti.DEADLINE_EXCEEDED:return ge.DEADLINE_EXCEEDED;case ti.RESOURCE_EXHAUSTED:return ge.RESOURCE_EXHAUSTED;case ti.INTERNAL:return ge.INTERNAL;case ti.UNAVAILABLE:return ge.UNAVAILABLE;case ti.UNAUTHENTICATED:return ge.UNAUTHENTICATED;case ti.INVALID_ARGUMENT:return ge.INVALID_ARGUMENT;case ti.NOT_FOUND:return ge.NOT_FOUND;case ti.ALREADY_EXISTS:return ge.ALREADY_EXISTS;case ti.PERMISSION_DENIED:return ge.PERMISSION_DENIED;case ti.FAILED_PRECONDITION:return ge.FAILED_PRECONDITION;case ti.ABORTED:return ge.ABORTED;case ti.OUT_OF_RANGE:return ge.OUT_OF_RANGE;case ti.UNIMPLEMENTED:return ge.UNIMPLEMENTED;case ti.DATA_LOSS:return ge.DATA_LOSS;default:return Et()}}(Dn=ti||(ti={}))[Dn.OK=0]="OK",Dn[Dn.CANCELLED=1]="CANCELLED",Dn[Dn.UNKNOWN=2]="UNKNOWN",Dn[Dn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Dn[Dn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Dn[Dn.NOT_FOUND=5]="NOT_FOUND",Dn[Dn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Dn[Dn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Dn[Dn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Dn[Dn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Dn[Dn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Dn[Dn.ABORTED=10]="ABORTED",Dn[Dn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Dn[Dn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Dn[Dn.INTERNAL=13]="INTERNAL",Dn[Dn.UNAVAILABLE=14]="UNAVAILABLE",Dn[Dn.DATA_LOSS=15]="DATA_LOSS";class ob{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return rw}static getOrCreateInstance(){return null===rw&&(rw=new ob),rw}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let rw=null;function ZS(){return new TextEncoder}const YS=new Dh([4294967295,4294967295],0);function Gk(n){const e=ZS().encode(n),t=new Ck;return t.update(e),new Uint8Array(t.digest())}function ab(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Dh([t,r],0),new Dh([i,s],0)]}class cb{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new c_(`Invalid padding: ${t}`);if(r<0)throw new c_(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new c_(`Invalid hash count: ${r}`);if(0===e.length&&0!==t)throw new c_(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=Dh.fromNumber(this.It)}Et(e,t,r){let i=e.add(t.multiply(Dh.fromNumber(r)));return 1===i.compare(YS)&&(i=new Dh([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=Gk(e),[r,i]=ab(t);for(let s=0;s<this.hashCount;s++){const c=this.Et(r,i,s);if(!this.At(c))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),c=new cb(s,i,t);return r.forEach(h=>c.insert(h)),c}insert(e){if(0===this.It)return;const t=Gk(e),[r,i]=ab(t);for(let s=0;s<this.hashCount;s++){const c=this.Et(r,i,s);this.Rt(c)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class c_ extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class iw{constructor(e,t,r,i,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,l_.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new iw(Ut.min(),i,new dr(Zt),yo(),on())}}class l_{constructor(e,t,r,i,s){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new l_(r,t,on(),on(),on())}}class sw{constructor(e,t,r,i){this.Pt=e,this.removedTargetIds=t,this.key=r,this.bt=i}}class QS{constructor(e,t){this.targetId=e,this.Vt=t}}class XS{constructor(e,t,r=mi.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class JS{constructor(){this.St=0,this.Dt=tx(),this.Ct=mi.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=on(),t=on(),r=on();return this.Dt.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:Et()}}),new l_(this.Ct,this.xt,e,t,r)}Ft(){this.Nt=!1,this.Dt=tx()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class qk{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=yo(),this.zt=ex(),this.Wt=new dr(Zt)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const r=this.Zt(t);switch(e.state){case 0:this.te(t)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(t);break;case 3:this.te(t)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),r.$t(e.resumeToken));break;default:Et()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((r,i)=>{this.te(i)&&t(i)})}ne(e){var t;const r=e.targetId,i=e.Vt.count,s=this.se(r);if(s){const c=s.target;if(zI(c))if(0===i){const h=new Je(c.path);this.Yt(r,h,hr.newNoDocument(h,Ut.min()))}else Pt(1===i);else{const h=this.ie(r);if(h!==i){const p=this.re(e,h);0!==p&&(this.ee(r),this.Wt=this.Wt.insert(r,2===p?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=ob.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(g,w,D){var M,N,K,te,X,be;const $e={localCacheCount:w,existenceFilterCount:D.count},ze=D.unchangedNames;return ze&&($e.bloomFilter={applied:0===g,hashCount:null!==(M=ze?.hashCount)&&void 0!==M?M:0,bitmapLength:null!==(te=null===(K=null===(N=ze?.bits)||void 0===N?void 0:N.bitmap)||void 0===K?void 0:K.length)&&void 0!==te?te:0,padding:null!==(be=null===(X=ze?.bits)||void 0===X?void 0:X.padding)&&void 0!==be?be:0}),$e}(p,h,e.Vt))}}}}re(e,t){const{unchangedNames:r,count:i}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:s="",padding:c=0},hashCount:h=0}=r;let p,g;try{p=Fc(s).toUint8Array()}catch(w){if(w instanceof IS)return $o("Decoding the base64 bloom filter in existence filter failed ("+w.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw w}try{g=new cb(p,c,h)}catch(w){return $o(w instanceof c_?"BloomFilter error: ":"Applying bloom filter failed: ",w),1}return 0===g.It?1:i!==t-this.oe(e.targetId,g)?2:0}oe(e,t){const r=this.Gt.getRemoteKeysForTarget(e);let i=0;return r.forEach(s=>{const c=this.Gt.ue(),h=`projects/${c.projectId}/databases/${c.database}/documents/${s.path.canonicalString()}`;t.vt(h)||(this.Yt(e,s,null),i++)}),i}ce(e){const t=new Map;this.Qt.forEach((s,c)=>{const h=this.se(c);if(h){if(s.current&&zI(h.target)){const p=new Je(h.target.path);null!==this.jt.get(p)||this.ae(c,p)||this.Yt(c,p,hr.newNoDocument(p,e))}s.Mt&&(t.set(c,s.Ot()),s.Ft())}});let r=on();this.zt.forEach((s,c)=>{let h=!0;c.forEachWhile(p=>{const g=this.se(p);return!g||"TargetPurposeLimboResolution"===g.purpose||(h=!1,!1)}),h&&(r=r.add(s))}),this.jt.forEach((s,c)=>c.setReadTime(e));const i=new iw(e,t,this.Wt,this.jt,r);return this.jt=yo(),this.zt=ex(),this.Wt=new dr(Zt),i}Jt(e,t){if(!this.te(e))return;const r=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,r),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,r){if(!this.te(e))return;const i=this.Zt(e);this.ae(e,t)?i.Bt(t,1):i.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),r&&(this.jt=this.jt.insert(t,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new JS,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new _r(Zt),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||Ze("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new JS),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function ex(){return new dr(Je.comparator)}function tx(){return new dr(Je.comparator)}const Wk={asc:"ASCENDING",desc:"DESCENDING"},Kk={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Zk={and:"AND",or:"OR"};class Yk{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Bh(n,e){return n.useProto3Json||Rh(e)?e:{value:e}}function jh(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function lb(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function nx(n,e){return jh(n,e.toTimestamp())}function Kr(n){return Pt(!!n),Ut.fromTimestamp(function(e){const t=Rl(e);return new Vr(t.seconds,t.nanos)}(n))}function ow(n,e){return(t=n,new Sn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function ub(n){const e=Sn.fromString(n);return Pt(dx(e)),e}function u_(n,e){return ow(n.databaseId,e.path)}function Fl(n,e){const t=ub(e);if(t.get(1)!==n.databaseId.projectId)throw new Be(ge.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Be(ge.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Je(ix(t))}function rx(n,e){return ow(n.databaseId,e)}function db(n){const e=ub(n);return 4===e.length?Sn.emptyPath():ix(e)}function Vp(n){return new Sn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function ix(n){return Pt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function sx(n,e,t){return{name:u_(n,e),fields:t.value.mapValue.fields}}function ox(n,e,t){const r=Fl(n,e.name),i=Kr(e.updateTime),s=e.createTime?Kr(e.createTime):Ut.min(),c=new ds({mapValue:{fields:e.fields}}),h=hr.newFoundDocument(r,i,s,c);return t&&h.setHasCommittedMutations(),t?h.setHasCommittedMutations():h}function $h(n,e){let t;if(e instanceof Uh)t={update:sx(n,e.key,e.value)};else if(e instanceof Lp)t={delete:u_(n,e.key)};else if(e instanceof Ol)t={update:sx(n,e.key,e.data),updateMask:eN(e.fieldMask)};else{if(!(e instanceof ew))return Et();t={verify:u_(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const c=s.transform;if(c instanceof Lh)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof ed)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Vh)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Op)return{fieldPath:s.field.canonicalString(),increment:c.gt};throw Et()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:nx(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:Et()),t;var i}function hb(n,e){const t=e.currentDocument?void 0!==(i=e.currentDocument).updateTime?yr.updateTime(Kr(i.updateTime)):void 0!==i.exists?yr.exists(i.exists):yr.none():yr.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(s,c){let h=null;"setToServerValue"in c?(Pt("REQUEST_TIME"===c.setToServerValue),h=new Lh):"appendMissingElements"in c?h=new ed(c.appendMissingElements.values||[]):"removeAllFromArray"in c?h=new Vh(c.removeAllFromArray.values||[]):"increment"in c?h=new Op(s,c.increment):Et();const p=Wr.fromServerFormat(c.fieldPath);return new o_(p,h)}(n,i)):[];var i;if(e.update){const i=Fl(n,e.update.name),s=new ds({mapValue:{fields:e.update.fields}});if(e.updateMask){const c=new po((e.updateMask.fieldPaths||[]).map(g=>Wr.fromServerFormat(g)));return new Ol(i,s,c,t,r)}return new Uh(i,s,t,r)}if(e.delete){const i=Fl(n,e.delete);return new Lp(i,t)}if(e.verify){const i=Fl(n,e.verify);return new ew(i,t)}return Et()}function ax(n,e){return{documents:[rx(n,e.path)]}}function cx(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=rx(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=rx(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(p){if(0!==p.length)return h_(Kn.create(p,"and"))}(e.filters);i&&(t.structuredQuery.where=i);const s=function(p){if(0!==p.length)return p.map(g=>{return{field:nd((w=g).field),direction:Jk(w.dir)};var w})}(e.orderBy);s&&(t.structuredQuery.orderBy=s);const c=Bh(n,e.limit);var h,p;return null!==c&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt={before:(h=e.startAt).inclusive,values:h.position}),e.endAt&&(t.structuredQuery.endAt={before:!(p=e.endAt).inclusive,values:p.position}),t}function Up(n){let e=db(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){Pt(1===r);const w=t.from[0];w.allDescendants?i=w.collectionId:e=e.child(w.collectionId)}let s=[];t.where&&(s=function(w){const D=lx(w);return D instanceof Kn&&Gv(D)?D.getFilters():[D]}(t.where));let c=[];t.orderBy&&(c=t.orderBy.map(w=>{return new Ap(zh((D=w).field),function(M){switch(M){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(D.direction));var D}));let h=null;t.limit&&(h=function(w){let D;return D="object"==typeof w?w.value:w,Rh(D)?null:D}(t.limit));let p=null;var w;t.startAt&&(p=new Pl((w=t.startAt).values||[],!!w.before));let g=null;return t.endAt&&(g=function(w){return new Pl(w.values||[],!w.before)}(t.endAt)),MS(e,i,c,s,h,"F",p,g)}function lx(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=zh(e.unaryFilter.field);return bn.create(t,"==",{doubleValue:NaN});case"IS_NULL":const r=zh(e.unaryFilter.field);return bn.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=zh(e.unaryFilter.field);return bn.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=zh(e.unaryFilter.field);return bn.create(s,"!=",{nullValue:"NULL_VALUE"});default:return Et()}}(n):void 0!==n.fieldFilter?bn.create(zh((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Et()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return Kn.create(e.compositeFilter.filters.map(t=>lx(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return Et()}}(e.compositeFilter.op))}(n):Et();var e}function Jk(n){return Wk[n]}function aw(n){return Kk[n]}function ux(n){return Zk[n]}function nd(n){return{fieldPath:n.canonicalString()}}function zh(n){return Wr.fromServerFormat(n.fieldPath)}function h_(n){return n instanceof bn?function(e){if("=="===e.op){if(kh(e.value))return{unaryFilter:{field:nd(e.field),op:"IS_NAN"}};if(DS(e.value))return{unaryFilter:{field:nd(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(kh(e.value))return{unaryFilter:{field:nd(e.field),op:"IS_NOT_NAN"}};if(DS(e.value))return{unaryFilter:{field:nd(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:nd(e.field),op:aw(e.op),value:e.value}}}(n):n instanceof Kn?function(e){const t=e.getFilters().map(r=>h_(r));return 1===t.length?t[0]:{compositeFilter:{op:ux(e.op),filters:t}}}(n):Et()}function eN(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function dx(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class Vc{constructor(e,t,r,i,s=Ut.min(),c=Ut.min(),h=mi.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=h,this.expectedCount=p}withSequenceNumber(e){return new Vc(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Vc(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Vc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Vc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class hx{constructor(e){this.fe=e}}function fb(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:Hh(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:u_(i=n.fe,(s=e).key),fields:s.data.value.mapValue.fields,updateTime:jh(i,s.version.toTimestamp()),createTime:jh(i,s.createTime.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:Gh(e.version)};else{if(!e.isUnknownDocument())return Et();r.unknownDocument={path:t.path.toArray(),version:Gh(e.version)}}var i,s;return r}function Hh(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Gh(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function qh(n){const e=new Vr(n.seconds,n.nanoseconds);return Ut.fromTimestamp(e)}function rd(n,e){const t=(e.baseMutations||[]).map(s=>hb(n.fe,s));for(let s=0;s<e.mutations.length-1;++s)s+1<e.mutations.length&&void 0!==e.mutations[s+1].transform&&(e.mutations[s].updateTransforms=e.mutations[s+1].transform.fieldTransforms,e.mutations.splice(s+1,1),++s);const r=e.mutations.map(s=>hb(n.fe,s)),i=Vr.fromMillis(e.localWriteTimeMs);return new tw(e.batchId,i,t,r)}function Bp(n){const e=qh(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?qh(n.lastLimboFreeSnapshotVersion):Ut.min();let r;var i;return void 0!==n.query.documents?(Pt(1===(i=n.query).documents.length),r=_o(Nh(db(i.documents[0])))):r=_o(Up(n.query)),new Vc(r,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,mi.fromBase64String(n.resumeToken))}function cw(n,e){const t=Gh(e.snapshotVersion),r=Gh(e.lastLimboFreeSnapshotVersion);let i;i=zI(e.target)?ax(n.fe,e.target):cx(n.fe,e.target);const s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:kp(e.target),readTime:t,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function lw(n){const e=Up({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?t_(e,e.limit,"L"):e}function pb(n,e){return new nw(e.largestBatchId,hb(n.fe,e.overlayMutation))}function mb(n,e){const t=e.path.lastSegment();return[n,ls(e.path.popLast()),t]}function gb(n,e,t,r){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:Gh(r.readTime),documentKey:ls(r.documentKey.path),largestBatchId:r.largestBatchId}}class nN{getBundleMetadata(e,t){return fx(e).get(t).next(r=>{if(r)return{id:(i=r).bundleId,createTime:qh(i.createTime),version:i.version};var i})}saveBundleMetadata(e,t){return fx(e).put({bundleId:(r=t).id,createTime:Gh(Kr(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return uw(e).get(t).next(r=>{if(r)return{name:(i=r).name,query:lw(i.bundledQuery),readTime:qh(i.readTime)};var i})}saveNamedQuery(e,t){return uw(e).put({name:(r=t).name,readTime:Gh(Kr(r.readTime)),bundledQuery:r.bundledQuery});var r}}function fx(n){return Wi(n,"bundles")}function uw(n){return Wi(n,"namedQueries")}class jp{constructor(e,t){this.serializer=e,this.userId=t}static de(e,t){return new jp(e,t.uid||"")}getOverlay(e,t){return $p(e).get(mb(this.userId,t)).next(r=>r?pb(this.serializer,r):null)}getOverlays(e,t){const r=Qa();return he.forEach(t,i=>this.getOverlay(e,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(e,t,r){const i=[];return r.forEach((s,c)=>{const h=new nw(t,c);i.push(this.we(e,h))}),he.waitFor(i)}removeOverlaysForBatchId(e,t,r){const i=new Set;t.forEach(c=>i.add(ls(c.getCollectionPath())));const s=[];return i.forEach(c=>{const h=IDBKeyRange.bound([this.userId,c,r],[this.userId,c,r+1],!1,!0);s.push($p(e).J("collectionPathOverlayIndex",h))}),he.waitFor(s)}getOverlaysForCollection(e,t,r){const i=Qa(),s=ls(t),c=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,Number.POSITIVE_INFINITY],!0);return $p(e).j("collectionPathOverlayIndex",c).next(h=>{for(const p of h){const g=pb(this.serializer,p);i.set(g.getKey(),g)}return i})}getOverlaysForCollectionGroup(e,t,r,i){const s=Qa();let c;const h=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return $p(e).X({index:"collectionGroupOverlayIndex",range:h},(p,g,w)=>{const D=pb(this.serializer,g);s.size()<i||D.largestBatchId===c?(s.set(D.getKey(),D),c=D.largestBatchId):w.done()}).next(()=>s)}we(e,t){return $p(e).put(function(r,i,s){const[c,h,p]=mb(i,s.mutation.key);return{userId:i,collectionPath:h,documentId:p,collectionGroup:s.mutation.key.getCollectionGroup(),largestBatchId:s.largestBatchId,overlayMutation:$h(r.fe,s.mutation)}}(this.serializer,this.userId,t))}}function $p(n){return Wi(n,"documentOverlays")}class Ll{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(Ur(e.integerValue));else if("doubleValue"in e){const r=Ur(e.doubleValue);isNaN(r)?this.ye(t,13):(this.ye(t,15),xl(r)?t.pe(0):t.pe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ye(t,20),"string"==typeof r?t.Ie(r):(t.Ie(`${r.seconds||""}`),t.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(Fc(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ye(t,45),t.pe(r.latitude||0),t.pe(r.longitude||0)}else"mapValue"in e?Jg(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):Et()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const r=e.fields||{};this.ye(t,55);for(const i of Object.keys(r))this.Te(i,t),this.me(r[i],t)}Pe(e,t){const r=e.values||[];this.ye(t,50);for(const i of r)this.me(i,t)}ve(e,t){this.ye(t,37),Je.fromName(e).path.forEach(r=>{this.ye(t,60),this.be(r,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}function _b(n){if(0===n)return 8;let e=0;return!(n>>4)&&(e+=4,n<<=4),!(n>>6)&&(e+=2,n<<=2),!(n>>7)&&(e+=1),e}function px(n){const e=64-function(t){let r=0;for(let i=0;i<8;++i){const s=_b(255&t[i]);if(r+=s,8!==s)break}return r}(n);return Math.ceil(e/8)}Ll.Ve=new Ll;class rN{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Se(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.De(r.value),r=t.next();this.Ce()}xe(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Ne(r.value),r=t.next();this.ke()}Me(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.De(r);else if(r<2048)this.De(960|r>>>6),this.De(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.De(480|r>>>12),this.De(128|63&r>>>6),this.De(128|63&r);else{const i=t.codePointAt(0);this.De(240|i>>>18),this.De(128|63&i>>>12),this.De(128|63&i>>>6),this.De(128|63&i)}}this.Ce()}$e(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Ne(r);else if(r<2048)this.Ne(960|r>>>6),this.Ne(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Ne(480|r>>>12),this.Ne(128|63&r>>>6),this.Ne(128|63&r);else{const i=t.codePointAt(0);this.Ne(240|i>>>18),this.Ne(128|63&i>>>12),this.Ne(128|63&i>>>6),this.Ne(128|63&i)}}this.ke()}Oe(e){const t=this.Fe(e),r=px(t);this.Be(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}Le(e){const t=this.Fe(e),r=px(t);this.Be(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}qe(){this.Ue(255),this.Ue(255)}Ke(){this.Ge(255),this.Ge(255)}reset(){this.position=0}seed(e){this.Be(e.length),this.buffer.set(e,this.position),this.position+=e.length}Qe(){return this.buffer.slice(0,this.position)}Fe(e){const t=function(i){const s=new DataView(new ArrayBuffer(8));return s.setFloat64(0,i,!1),new Uint8Array(s.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}De(e){const t=255&e;0===t?(this.Ue(0),this.Ue(255)):255===t?(this.Ue(255),this.Ue(0)):this.Ue(t)}Ne(e){const t=255&e;0===t?(this.Ge(0),this.Ge(255)):255===t?(this.Ge(255),this.Ge(0)):this.Ge(e)}Ce(){this.Ue(0),this.Ue(1)}ke(){this.Ge(0),this.Ge(1)}Ue(e){this.Be(1),this.buffer[this.position++]=e}Ge(e){this.Be(1),this.buffer[this.position++]=~e}Be(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class iN{constructor(e){this.je=e}Ae(e){this.je.Se(e)}Ie(e){this.je.Me(e)}pe(e){this.je.Oe(e)}ge(){this.je.qe()}}class sN{constructor(e){this.je=e}Ae(e){this.je.xe(e)}Ie(e){this.je.$e(e)}pe(e){this.je.Le(e)}ge(){this.je.Ke()}}class zp{constructor(){this.je=new rN,this.ze=new iN(this.je),this.We=new sN(this.je)}seed(e){this.je.seed(e)}He(e){return 0===e?this.ze:this.We}Qe(){return this.je.Qe()}reset(){this.je.reset()}}class Vl{constructor(e,t,r,i){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=i}Je(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new Vl(this.indexId,this.documentKey,this.arrayValue,r)}}function Ul(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=yb(n.arrayValue,e.arrayValue),0!==t?t:(t=yb(n.directionalValue,e.directionalValue),0!==t?t:Je.comparator(n.documentKey,e.documentKey)))}function yb(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class mx{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ye=e.orderBy,this.Xe=[];for(const t of e.filters){const r=t;r.isInequality()?this.Ze=r:this.Xe.push(r)}}tn(e){Pt(e.collectionGroup===this.collectionId);const t=DI(e);if(void 0!==t&&!this.en(t))return!1;const r=Ah(e);let i=new Set,s=0,c=0;for(;s<r.length&&this.en(r[s]);++s)i=i.add(r[s].fieldPath.canonicalString());if(s===r.length)return!0;if(void 0!==this.Ze){if(!i.has(this.Ze.field.canonicalString())){const h=r[s];if(!this.nn(this.Ze,h)||!this.sn(this.Ye[c++],h))return!1}++s}for(;s<r.length;++s)if(c>=this.Ye.length||!this.sn(this.Ye[c++],r[s]))return!1;return!0}en(e){for(const t of this.Xe)if(this.nn(t,e))return!0;return!1}nn(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}sn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function vb(n){var e,t;if(Pt(n instanceof bn||n instanceof Kn),n instanceof bn){if(n instanceof jI){const i=(null===(t=null===(e=n.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(s=>bn.create(n.field,"==",s)))||[];return Kn.create(i,"or")}return n}const r=n.filters.map(i=>vb(i));return Kn.create(r,n.op)}function oN(n){if(0===n.getFilters().length)return[];const e=fw(vb(n));return Pt(gx(e)),dw(e)||hw(e)?[e]:e.getFilters()}function dw(n){return n instanceof bn}function hw(n){return n instanceof Kn&&Gv(n)}function gx(n){return dw(n)||hw(n)||function(e){if(e instanceof Kn&&Rp(e)){for(const t of e.getFilters())if(!dw(t)&&!hw(t))return!1;return!0}return!1}(n)}function fw(n){if(Pt(n instanceof bn||n instanceof Kn),n instanceof bn)return n;if(1===n.filters.length)return fw(n.filters[0]);const e=n.filters.map(r=>fw(r));let t=Kn.create(e,n.op);return t=Bl(t),gx(t)?t:(Pt(t instanceof Kn),Pt(xp(t)),Pt(t.filters.length>1),t.filters.reduce((r,i)=>wb(r,i)))}function wb(n,e){let t;return Pt(n instanceof bn||n instanceof Kn),Pt(e instanceof bn||e instanceof Kn),t=n instanceof bn?e instanceof bn?Kn.create([n,e],"and"):xs(n,e):e instanceof bn?xs(e,n):function(r,i){if(Pt(r.filters.length>0&&i.filters.length>0),xp(r)&&xp(i))return Mp(r,i.getFilters());const s=Rp(r)?r:i,c=Rp(r)?i:r,h=s.filters.map(p=>wb(p,c));return Kn.create(h,"or")}(n,e),Bl(t)}function xs(n,e){if(xp(e))return Mp(e,n.getFilters());{const t=e.filters.map(r=>wb(n,r));return Kn.create(t,"or")}}function Bl(n){if(Pt(n instanceof bn||n instanceof Kn),n instanceof bn)return n;const e=n.getFilters();if(1===e.length)return Bl(e[0]);if(UI(n))return n;const t=e.map(i=>Bl(i)),r=[];return t.forEach(i=>{i instanceof bn?r.push(i):i instanceof Kn&&(i.op===n.op?r.push(...i.filters):r.push(i))}),1===r.length?r[0]:Kn.create(r,n.op)}class aN{constructor(){this.rn=new Eb}addToCollectionParentIndex(e,t){return this.rn.add(t),he.resolve()}getCollectionParents(e,t){return he.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return he.resolve()}deleteFieldIndex(e,t){return he.resolve()}getDocumentsMatchingTarget(e,t){return he.resolve(null)}getIndexType(e,t){return he.resolve(0)}getFieldIndexes(e,t){return he.resolve([])}getNextCollectionGroupToUpdate(e){return he.resolve(null)}getMinOffset(e,t){return he.resolve(zo.min())}getMinOffsetFromCollectionGroup(e,t){return he.resolve(zo.min())}updateCollectionGroup(e,t,r){return he.resolve()}updateIndexEntries(e,t){return he.resolve()}}class Eb{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new _r(Sn.comparator),s=!i.has(r);return this.index[t]=i.add(r),s}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new _r(Sn.comparator)).toArray()}}const Ib=new Uint8Array(0);class YV{constructor(e,t){this.user=e,this.databaseId=t,this.on=new Eb,this.un=new Nl(r=>kp(r),(r,i)=>Wv(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.on.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.on.add(t)});const s={collectionId:r,parent:ls(i)};return bb(e).put(s)}return he.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[Fv(t),""],!1,!0);return bb(e).j(i).next(s=>{for(const c of s){if(c.collectionId!==t)break;r.push(Ya(c.parent))}return r})}addFieldIndex(e,t){const r=Tb(e),i={indexId:(c=t).indexId,collectionGroup:c.collectionGroup,fields:c.fields.map(h=>[h.fieldPath.canonicalString(),h.kind])};var c;delete i.indexId;const s=r.add(i);if(t.indexState){const c=pw(e);return s.next(h=>{c.put(gb(h,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return s.next()}deleteFieldIndex(e,t){const r=Tb(e),i=pw(e),s=Wh(e);return r.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=Wh(e);let i=!0;const s=new Map;return he.forEach(this.cn(t),c=>this.an(e,c).next(h=>{i&&(i=!!h),s.set(c,h)})).next(()=>{if(i){let c=on();const h=[];return he.forEach(s,(p,g)=>{var w;Ze("IndexedDbIndexManager",`Using index ${w=p,`id=${w.indexId}|cg=${w.collectionGroup}|f=${w.fields.map(ze=>`${ze.fieldPath}:${ze.kind}`).join(",")}`} to execute ${kp(t)}`);const D=function(ze,Qe){const _t=DI(Qe);if(void 0===_t)return null;for(const Ct of HI(ze,_t.fieldPath))switch(Ct.op){case"array-contains-any":return Ct.value.arrayValue.values||[];case"array-contains":return[Ct.value]}return null}(g,p),M=function(ze,Qe){const _t=new Map;for(const Ct of Ah(Qe))for(const vn of HI(ze,Ct.fieldPath))switch(vn.op){case"==":case"in":_t.set(Ct.fieldPath.canonicalString(),vn.value);break;case"not-in":case"!=":return _t.set(Ct.fieldPath.canonicalString(),vn.value),Array.from(_t.values())}return null}(g,p),N=function(ze,Qe){const _t=[];let Ct=!0;for(const vn of Ah(Qe)){const ps=0===vn.kind?GI(ze,vn.fieldPath,ze.startAt):e_(ze,vn.fieldPath,ze.startAt);_t.push(ps.value),Ct&&(Ct=ps.inclusive)}return new Pl(_t,Ct)}(g,p),K=function(ze,Qe){const _t=[];let Ct=!0;for(const vn of Ah(Qe)){const ps=0===vn.kind?e_(ze,vn.fieldPath,ze.endAt):GI(ze,vn.fieldPath,ze.endAt);_t.push(ps.value),Ct&&(Ct=ps.inclusive)}return new Pl(_t,Ct)}(g,p),te=this.hn(p,g,N),X=this.hn(p,g,K),be=this.ln(p,g,M),$e=this.fn(p.indexId,D,te,N.inclusive,X,K.inclusive,be);return he.forEach($e,ze=>r.H(ze,t.limit).next(Qe=>{Qe.forEach(_t=>{const Ct=Je.fromSegments(_t.documentKey);c.has(Ct)||(c=c.add(Ct),h.push(Ct))})}))}).next(()=>h)}return he.resolve(null)})}cn(e){let t=this.un.get(e);return t||(t=0===e.filters.length?[e]:oN(Kn.create(e.filters,"and")).map(r=>$I(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,t),t)}fn(e,t,r,i,s,c,h){const p=(null!=t?t.length:1)*Math.max(r.length,s.length),g=p/(null!=t?t.length:1),w=[];for(let D=0;D<p;++D){const M=t?this.dn(t[D/g]):Ib,N=this.wn(e,M,r[D%g],i),K=this._n(e,M,s[D%g],c),te=h.map(X=>this.wn(e,M,X,!0));w.push(...this.createRange(N,K,te))}return w}wn(e,t,r,i){const s=new Vl(e,Je.empty(),t,r);return i?s:s.Je()}_n(e,t,r,i){const s=new Vl(e,Je.empty(),t,r);return i?s.Je():s}an(e,t){const r=new mx(t),i=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(s=>{let c=null;for(const h of s)r.tn(h)&&(!c||h.fields.length>c.fields.length)&&(c=h);return c})}getIndexType(e,t){let r=2;const i=this.cn(t);return he.forEach(i,s=>this.an(e,s).next(c=>{c?0!==r&&c.fields.length<function(h){let p=new _r(Wr.comparator),g=!1;for(const w of h.filters)for(const D of w.getFlattenedFilters())D.field.isKeyField()||("array-contains"===D.op||"array-contains-any"===D.op?g=!0:p=p.add(D.field));for(const w of h.orderBy)w.field.isKeyField()||(p=p.add(w.field));return p.size+(g?1:0)}(s)&&(r=1):r=0})).next(()=>null!==t.limit&&i.length>1&&2===r?1:r)}mn(e,t){const r=new zp;for(const i of Ah(e)){const s=t.data.field(i.fieldPath);if(null==s)return null;const c=r.He(i.kind);Ll.Ve._e(s,c)}return r.Qe()}dn(e){const t=new zp;return Ll.Ve._e(e,t.He(0)),t.Qe()}gn(e,t){const r=new zp;return Ll.Ve._e(_a(this.databaseId,t),r.He(function(i){const s=Ah(i);return 0===s.length?0:s[s.length-1].kind}(e))),r.Qe()}ln(e,t,r){if(null===r)return[];let i=[];i.push(new zp);let s=0;for(const c of Ah(e)){const h=r[s++];for(const p of i)if(this.yn(t,c.fieldPath)&&Xg(h))i=this.pn(i,c,h);else{const g=p.He(c.kind);Ll.Ve._e(h,g)}}return this.In(i)}hn(e,t,r){return this.ln(e,t,r.position)}In(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].Qe();return t}pn(e,t,r){const i=[...e],s=[];for(const c of r.arrayValue.values||[])for(const h of i){const p=new zp;p.seed(h.Qe()),Ll.Ve._e(c,p.He(t.kind)),s.push(p)}return s}yn(e,t){return!!e.filters.find(r=>r instanceof bn&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=Tb(e),i=pw(e);return(t?r.j("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.j()).next(s=>{const c=[];return he.forEach(s,h=>i.get([h.indexId,this.uid]).next(p=>{c.push(function(g,w){const D=w?new Tp(w.sequenceNumber,new zo(qh(w.readTime),new Je(Ya(w.documentKey)),w.largestBatchId)):Tp.empty(),M=g.fields.map(([N,K])=>new Lv(Wr.fromServerFormat(N),K));return new Kg(g.indexId,g.collectionGroup,M,D)}(h,p))})).next(()=>c)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,i)=>{const s=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return 0!==s?s:Zt(r.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const i=Tb(e),s=pw(e);return this.Tn(e).next(c=>i.j("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(h=>he.forEach(h,p=>s.put(gb(p.indexId,this.user,c,r)))))}updateIndexEntries(e,t){const r=new Map;return he.forEach(t,(i,s)=>{const c=r.get(i.collectionGroup);return(c?he.resolve(c):this.getFieldIndexes(e,i.collectionGroup)).next(h=>(r.set(i.collectionGroup,h),he.forEach(h,p=>this.En(e,i,p).next(g=>{const w=this.An(s,p);return g.isEqual(w)?he.resolve():this.vn(e,s,p,g,w)}))))})}Rn(e,t,r,i){return Wh(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.gn(r,t.key),documentKey:t.key.path.toArray()})}Pn(e,t,r,i){return Wh(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.gn(r,t.key),t.key.path.toArray()])}En(e,t,r){const i=Wh(e);let s=new _r(Ul);return i.X({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.gn(r,t)])},(c,h)=>{s=s.add(new Vl(r.indexId,t,h.arrayValue,h.directionalValue))}).next(()=>s)}An(e,t){let r=new _r(Ul);const i=this.mn(t,e);if(null==i)return r;const s=DI(t);if(null!=s){const c=e.data.field(s.fieldPath);if(Xg(c))for(const h of c.arrayValue.values||[])r=r.add(new Vl(t.indexId,e.key,this.dn(h),i))}else r=r.add(new Vl(t.indexId,e.key,Ib,i));return r}vn(e,t,r,i,s){Ze("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const c=[];return function(h,p,g,w,D){const M=h.getIterator(),N=p.getIterator();let K=Cp(M),te=Cp(N);for(;K||te;){let X=!1,be=!1;if(K&&te){const $e=g(K,te);$e<0?be=!0:$e>0&&(X=!0)}else null!=K?be=!0:X=!0;X?(w(te),te=Cp(N)):be?(D(K),K=Cp(M)):(K=Cp(M),te=Cp(N))}}(i,s,Ul,h=>{c.push(this.Rn(e,t,r,h))},h=>{c.push(this.Pn(e,t,r,h))}),he.waitFor(c)}Tn(e){let t=1;return pw(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,s)=>{s.done(),t=i.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((c,h)=>Ul(c,h)).filter((c,h,p)=>!h||0!==Ul(c,p[h-1]));const i=[];i.push(e);for(const c of r){const h=Ul(c,e),p=Ul(c,t);if(0===h)i[0]=e.Je();else if(h>0&&p<0)i.push(c),i.push(c.Je());else if(p>0)break}i.push(t);const s=[];for(let c=0;c<i.length;c+=2){if(this.bn(i[c],i[c+1]))return[];s.push(IDBKeyRange.bound([i[c].indexId,this.uid,i[c].arrayValue,i[c].directionalValue,Ib,[]],[i[c+1].indexId,this.uid,i[c+1].arrayValue,i[c+1].directionalValue,Ib,[]]))}return s}bn(e,t){return Ul(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(cN)}getMinOffset(e,t){return he.mapArray(this.cn(t),r=>this.an(e,r).next(i=>i||Et())).next(cN)}}function bb(n){return Wi(n,"collectionParents")}function Wh(n){return Wi(n,"indexEntries")}function Tb(n){return Wi(n,"indexConfiguration")}function pw(n){return Wi(n,"indexState")}function cN(n){Pt(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const i=n[r].indexState.offset;Vv(i,e)<0&&(e=i),t<i.largestBatchId&&(t=i.largestBatchId)}return new zo(e.readTime,e.documentKey,t)}const Hp={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Rs{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Rs(e,Rs.DEFAULT_COLLECTION_PERCENTILE,Rs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function mw(n,e,t){const r=n.store("mutations"),i=n.store("documentMutations"),s=[],c=IDBKeyRange.only(t.batchId);let h=0;const p=r.X({range:c},(w,D,M)=>(h++,M.delete()));s.push(p.next(()=>{Pt(1===h)}));const g=[];for(const w of t.mutations){const D=iS(e,w.key.path,t.batchId);s.push(i.delete(D)),g.push(w.key)}return he.waitFor(s).next(()=>g)}function gw(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw Et();e=n.noDocument}return JSON.stringify(e).length}Rs.DEFAULT_COLLECTION_PERCENTILE=10,Rs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Rs.DEFAULT=new Rs(41943040,Rs.DEFAULT_COLLECTION_PERCENTILE,Rs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Rs.DISABLED=new Rs(-1,0,0);class f_{constructor(e,t,r,i){this.userId=e,this.serializer=t,this.indexManager=r,this.referenceDelegate=i,this.Vn={}}static de(e,t,r,i){Pt(""!==e.uid);const s=e.isAuthenticated()?e.uid:"";return new f_(s,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return id(e).X({index:"userMutationsIndex",range:r},(i,s,c)=>{t=!1,c.done()}).next(()=>t)}addMutationBatch(e,t,r,i){const s=Gp(e),c=id(e);return c.add({}).next(h=>{Pt("number"==typeof h);const p=new tw(h,t,r,i),g=function(M,N,K){const te=K.baseMutations.map(be=>$h(M.fe,be)),X=K.mutations.map(be=>$h(M.fe,be));return{userId:N,batchId:K.batchId,localWriteTimeMs:K.localWriteTime.toMillis(),baseMutations:te,mutations:X}}(this.serializer,this.userId,p),w=[];let D=new _r((M,N)=>Zt(M.canonicalString(),N.canonicalString()));for(const M of i){const N=iS(this.userId,M.key.path,h);D=D.add(M.key.path.popLast()),w.push(c.put(g)),w.push(s.put(N,sS))}return D.forEach(M=>{w.push(this.indexManager.addToCollectionParentIndex(e,M))}),e.addOnCommittedListener(()=>{this.Vn[h]=p.keys()}),he.waitFor(w).next(()=>p)})}lookupMutationBatch(e,t){return id(e).get(t).next(r=>r?(Pt(r.userId===this.userId),rd(this.serializer,r)):null)}Sn(e,t){return this.Vn[t]?he.resolve(this.Vn[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const i=r.keys();return this.Vn[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let s=null;return id(e).X({index:"userMutationsIndex",range:i},(c,h,p)=>{h.userId===this.userId&&(Pt(h.batchId>=r),s=rd(this.serializer,h)),p.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return id(e).X({index:"userMutationsIndex",range:t,reverse:!0},(i,s,c)=>{r=s.batchId,c.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return id(e).j("userMutationsIndex",t).next(r=>r.map(i=>rd(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=Mh(this.userId,t.path),i=IDBKeyRange.lowerBound(r),s=[];return Gp(e).X({range:i},(c,h,p)=>{const[g,w,D]=c,M=Ya(w);if(g===this.userId&&t.path.isEqual(M))return id(e).get(D).next(N=>{if(!N)throw Et();Pt(N.userId===this.userId),s.push(rd(this.serializer,N))});p.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new _r(Zt);const i=[];return t.forEach(s=>{const c=Mh(this.userId,s.path),h=IDBKeyRange.lowerBound(c),p=Gp(e).X({range:h},(g,w,D)=>{const[M,N,K]=g,te=Ya(N);M===this.userId&&s.path.isEqual(te)?r=r.add(K):D.done()});i.push(p)}),he.waitFor(i).next(()=>this.Dn(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,s=Mh(this.userId,r),c=IDBKeyRange.lowerBound(s);let h=new _r(Zt);return Gp(e).X({range:c},(p,g,w)=>{const[D,M,N]=p,K=Ya(M);D===this.userId&&r.isPrefixOf(K)?K.length===i&&(h=h.add(N)):w.done()}).next(()=>this.Dn(e,h))}Dn(e,t){const r=[],i=[];return t.forEach(s=>{i.push(id(e).get(s).next(c=>{if(null===c)throw Et();Pt(c.userId===this.userId),r.push(rd(this.serializer,c))}))}),he.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return mw(e.ht,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.Cn(t.batchId)}),he.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}Cn(e){delete this.Vn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return he.resolve();const r=IDBKeyRange.lowerBound([this.userId]),i=[];return Gp(e).X({range:r},(s,c,h)=>{if(s[0]===this.userId){const p=Ya(s[1]);i.push(p)}else h.done()}).next(()=>{Pt(0===i.length)})})}containsKey(e,t){return _x(e,this.userId,t)}xn(e){return _w(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function _x(n,e,t){const r=Mh(e,t.path),i=r[1],s=IDBKeyRange.lowerBound(r);let c=!1;return Gp(n).X({range:s,Y:!0},(h,p,g)=>{const[w,D,M]=h;w===e&&D===i&&(c=!0),g.done()}).next(()=>c)}function id(n){return Wi(n,"mutations")}function Gp(n){return Wi(n,"documentMutations")}function _w(n){return Wi(n,"mutationQueues")}class sd{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new sd(0)}static Mn(){return new sd(-1)}}class lN{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.$n(e).next(t=>{const r=new sd(t.highestTargetId);return t.highestTargetId=r.next(),this.On(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.$n(e).next(t=>Ut.fromTimestamp(new Vr(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.$n(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.$n(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.On(e,i)))}addTargetData(e,t){return this.Fn(e,t).next(()=>this.$n(e).next(r=>(r.targetCount+=1,this.Bn(t,r),this.On(e,r))))}updateTargetData(e,t){return this.Fn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>jl(e).delete(t.targetId)).next(()=>this.$n(e)).next(r=>(Pt(r.targetCount>0),r.targetCount-=1,this.On(e,r)))}removeTargets(e,t,r){let i=0;const s=[];return jl(e).X((c,h)=>{const p=Bp(h);p.sequenceNumber<=t&&null===r.get(p.targetId)&&(i++,s.push(this.removeTargetData(e,p)))}).next(()=>he.waitFor(s)).next(()=>i)}forEachTarget(e,t){return jl(e).X((r,i)=>{const s=Bp(i);t(s)})}$n(e){return yw(e).get("targetGlobalKey").next(t=>(Pt(null!==t),t))}On(e,t){return yw(e).put("targetGlobalKey",t)}Fn(e,t){return jl(e).put(cw(this.serializer,t))}Bn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.$n(e).next(t=>t.targetCount)}getTargetData(e,t){const r=kp(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let s=null;return jl(e).X({range:i,index:"queryTargetsIndex"},(c,h,p)=>{const g=Bp(h);Wv(t,g.target)&&(s=g,p.done())}).next(()=>s)}addMatchingKeys(e,t,r){const i=[],s=Kh(e);return t.forEach(c=>{const h=ls(c.path);i.push(s.put({targetId:r,path:h})),i.push(this.referenceDelegate.addReference(e,r,c))}),he.waitFor(i)}removeMatchingKeys(e,t,r){const i=Kh(e);return he.forEach(t,s=>{const c=ls(s.path);return he.waitFor([i.delete([r,c]),this.referenceDelegate.removeReference(e,r,s)])})}removeMatchingKeysForTargetId(e,t){const r=Kh(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=Kh(e);let s=on();return i.X({range:r,Y:!0},(c,h,p)=>{const g=Ya(c[1]),w=new Je(g);s=s.add(w)}).next(()=>s)}containsKey(e,t){const r=ls(t.path),i=IDBKeyRange.bound([r],[Fv(r)],!1,!0);let s=0;return Kh(e).X({index:"documentTargetsIndex",Y:!0,range:i},([c,h],p,g)=>{0!==c&&(s++,g.done())}).next(()=>s>0)}le(e,t){return jl(e).get(t).next(r=>r?Bp(r):null)}}function jl(n){return Wi(n,"targets")}function yw(n){return Wi(n,"targetGlobal")}function Kh(n){return Wi(n,"targetDocuments")}function Cb([n,e],[t,r]){const i=Zt(n,t);return 0===i?Zt(e,r):i}class uN{constructor(e){this.Ln=e,this.buffer=new _r(Cb),this.qn=0}Un(){return++this.qn}Kn(e){const t=[e,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();Cb(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Db{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Qn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}Qn(e){var t=this;Ze("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,Se.Z)(function*(){t.Gn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(r){qi(r)?Ze("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield xh(r)}yield t.Qn(3e5)}))}}class qp{constructor(e,t){this.jn=e,this.params=t}calculateTargetCount(e,t){return this.jn.zn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return he.resolve(Go.ct);const r=new uN(t);return this.jn.forEachTarget(e,i=>r.Kn(i.sequenceNumber)).next(()=>this.jn.Wn(e,i=>r.Kn(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.jn.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.jn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Ze("LruGarbageCollector","Garbage collection skipped; disabled"),he.resolve(Hp)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Ze("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Hp):this.Hn(e,t))}getCacheSize(e){return this.jn.getCacheSize(e)}Hn(e,t){let r,i,s,c,h,p,g;const w=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(D=>(D>this.params.maximumSequenceNumbersToCollect?(Ze("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${D}`),i=this.params.maximumSequenceNumbersToCollect):i=D,c=Date.now(),this.nthSequenceNumber(e,i))).next(D=>(r=D,h=Date.now(),this.removeTargets(e,r,t))).next(D=>(s=D,p=Date.now(),this.removeOrphanedDocuments(e,r))).next(D=>(g=Date.now(),EI()<=Bo.in.DEBUG&&Ze("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${c-w}ms\n\tDetermined least recently used ${i} in `+(h-c)+`ms\n\tRemoved ${s} targets in `+(p-h)+`ms\n\tRemoved ${D} documents in `+(g-p)+`ms\nTotal Duration: ${g-w}ms`),he.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:D})))}}class vx{constructor(e,t){this.db=e,this.garbageCollector=function yx(n,e){return new qp(n,e)}(this,t)}zn(e){const t=this.Jn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}Jn(e){let t=0;return this.Wn(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Wn(e,t){return this.Yn(e,(r,i)=>t(i))}addReference(e,t,r){return Wp(e,r)}removeReference(e,t,r){return Wp(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return Wp(e,t)}Xn(e,t){return function(r,i){let s=!1;return _w(r).Z(c=>_x(r,c,i).next(h=>(h&&(s=!0),he.resolve(!h)))).next(()=>s)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let s=0;return this.Yn(e,(c,h)=>{if(h<=t){const p=this.Xn(e,c).next(g=>{if(!g)return s++,r.getEntry(e,c).next(()=>(r.removeEntry(c,Ut.min()),Kh(e).delete([0,ls(c.path)])))});i.push(p)}}).next(()=>he.waitFor(i)).next(()=>r.apply(e)).next(()=>s)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return Wp(e,t)}Yn(e,t){const r=Kh(e);let i,s=Go.ct;return r.X({index:"documentTargetsIndex"},([c,h],{path:p,sequenceNumber:g})=>{0===c?(s!==Go.ct&&t(new Je(Ya(i)),s),s=g,i=p):s=Go.ct}).next(()=>{s!==Go.ct&&t(new Je(Ya(i)),s)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Wp(n,e){return Kh(n).put((r=n.currentSequenceNumber,{targetId:0,path:ls(e.path),sequenceNumber:r}));var r}class dN{constructor(){this.changes=new Nl(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,hr.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?he.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class hN{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return Zh(e).put(r)}removeEntry(e,t,r){return Zh(e).delete(function(i,s){const c=i.path.toArray();return[c.slice(0,c.length-2),c[c.length-2],Hh(s),c[c.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.Zn(e,r)))}getEntry(e,t){let r=hr.newInvalidDocument(t);return Zh(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(Kp(t))},(i,s)=>{r=this.ts(t,s)}).next(()=>r)}es(e,t){let r={size:0,document:hr.newInvalidDocument(t)};return Zh(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(Kp(t))},(i,s)=>{r={document:this.ts(t,s),size:gw(s)}}).next(()=>r)}getEntries(e,t){let r=yo();return this.ns(e,t,(i,s)=>{const c=this.ts(i,s);r=r.insert(i,c)}).next(()=>r)}ss(e,t){let r=yo(),i=new dr(Je.comparator);return this.ns(e,t,(s,c)=>{const h=this.ts(s,c);r=r.insert(s,h),i=i.insert(s,gw(c))}).next(()=>({documents:r,rs:i}))}ns(e,t,r){if(t.isEmpty())return he.resolve();let i=new _r(Ex);t.forEach(p=>i=i.add(p));const s=IDBKeyRange.bound(Kp(i.first()),Kp(i.last())),c=i.getIterator();let h=c.getNext();return Zh(e).X({index:"documentKeyIndex",range:s},(p,g,w)=>{const D=Je.fromSegments([...g.prefixPath,g.collectionGroup,g.documentId]);for(;h&&Ex(h,D)<0;)r(h,null),h=c.getNext();h&&h.isEqual(D)&&(r(h,g),h=c.hasNext()?c.getNext():null),h?w.G(Kp(h)):w.done()}).next(()=>{for(;h;)r(h,null),h=c.hasNext()?c.getNext():null})}getDocumentsMatchingQuery(e,t,r,i){const s=t.path,c=[s.popLast().toArray(),s.lastSegment(),Hh(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],h=[s.popLast().toArray(),s.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Zh(e).j(IDBKeyRange.bound(c,h,!0)).next(p=>{let g=yo();for(const w of p){const D=this.ts(Je.fromSegments(w.prefixPath.concat(w.collectionGroup,w.documentId)),w);D.isFoundDocument()&&(r_(t,D)||i.has(D.key))&&(g=g.insert(D.key,D))}return g})}getAllFromCollectionGroup(e,t,r,i){let s=yo();const c=Ab(t,r),h=Ab(t,zo.max());return Zh(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(c,h,!0)},(p,g,w)=>{const D=this.ts(Je.fromSegments(g.prefixPath.concat(g.collectionGroup,g.documentId)),g);s=s.insert(D.key,D),s.size===i&&w.done()}).next(()=>s)}newChangeBuffer(e){return new pN(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return wx(e).get("remoteDocumentGlobalKey").next(t=>(Pt(!!t),t))}Zn(e,t){return wx(e).put("remoteDocumentGlobalKey",t)}ts(e,t){if(t){const r=function tN(n,e){let t;if(e.document)t=ox(n.fe,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=Je.fromSegments(e.noDocument.path),i=qh(e.noDocument.readTime);t=hr.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return Et();{const r=Je.fromSegments(e.unknownDocument.path),i=qh(e.unknownDocument.version);t=hr.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime(function(r){const i=new Vr(r[0],r[1]);return Ut.fromTimestamp(i)}(e.readTime)),t}(this.serializer,t);if(!r.isNoDocument()||!r.version.isEqual(Ut.min()))return r}return hr.newInvalidDocument(e)}}function fN(n){return new hN(n)}class pN extends dN{constructor(e,t){super(),this.os=e,this.trackRemovals=t,this.us=new Nl(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const t=[];let r=0,i=new _r((s,c)=>Zt(s.canonicalString(),c.canonicalString()));return this.changes.forEach((s,c)=>{const h=this.us.get(s);if(t.push(this.os.removeEntry(e,s,h.readTime)),c.isValidDocument()){const p=fb(this.os.serializer,c);i=i.add(s.path.popLast());const g=gw(p);r+=g-h.size,t.push(this.os.addEntry(e,s,p))}else if(r-=h.size,this.trackRemovals){const p=fb(this.os.serializer,c.convertToNoDocument(Ut.min()));t.push(this.os.addEntry(e,s,p))}}),i.forEach(s=>{t.push(this.os.indexManager.addToCollectionParentIndex(e,s))}),t.push(this.os.updateMetadata(e,r)),he.waitFor(t)}getFromCache(e,t){return this.os.es(e,t).next(r=>(this.us.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.os.ss(e,t).next(({documents:r,rs:i})=>(i.forEach((s,c)=>{this.us.set(s,{size:c,readTime:r.get(s).readTime})}),r))}}function wx(n){return Wi(n,"remoteDocumentGlobal")}function Zh(n){return Wi(n,"remoteDocumentsV14")}function Kp(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Ab(n,e){const t=e.documentKey.path.toArray();return[n,Hh(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function Ex(n,e){const t=n.path.toArray(),r=e.path.toArray();let i=0;for(let s=0;s<t.length-2&&s<r.length-2;++s)if(i=Zt(t[s],r[s]),i)return i;return i=Zt(t.length,r.length),i||(i=Zt(t[t.length-2],r[r.length-2]),i||Zt(t[t.length-1],r[r.length-1]))}class Ix{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Sb{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(null!==r&&a_(r.mutation,i,po.empty(),Vr.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,on()).next(()=>r))}getLocalViewOfDocuments(e,t,r=on()){const i=Qa();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(s=>{let c=i_();return s.forEach((h,p)=>{c=c.insert(h,p.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const r=Qa();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,on()))}populateOverlays(e,t,r){const i=[];return r.forEach(s=>{t.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((c,h)=>{t.set(c,h)})})}computeViews(e,t,r,i){let s=yo();const c=s_(),h=s_();return t.forEach((p,g)=>{const w=r.get(g.key);i.has(g.key)&&(void 0===w||w.mutation instanceof Ol)?s=s.insert(g.key,g):void 0!==w?(c.set(g.key,w.mutation.getFieldMask()),a_(w.mutation,g,w.mutation.getFieldMask(),Vr.now())):c.set(g.key,po.empty())}),this.recalculateAndSaveOverlays(e,s).next(p=>(p.forEach((g,w)=>c.set(g,w)),t.forEach((g,w)=>{var D;return h.set(g,new Ix(w,null!==(D=c.get(g))&&void 0!==D?D:null))}),h))}recalculateAndSaveOverlays(e,t){const r=s_();let i=new dr((c,h)=>c-h),s=on();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const h of c)h.keys().forEach(p=>{const g=t.get(p);if(null===g)return;let w=r.get(p)||po.empty();w=h.applyToLocalView(g,w),r.set(p,w);const D=(i.get(h.batchId)||on()).add(p);i=i.insert(h.batchId,D)})}).next(()=>{const c=[],h=i.getReverseIterator();for(;h.hasNext();){const p=h.getNext(),g=p.key,w=p.value,D=FS();w.forEach(M=>{if(!s.has(M)){const N=GS(t.get(M),r.get(M));null!==N&&D.set(M,N),s=s.add(M)}}),c.push(this.documentOverlayCache.saveOverlays(e,g,D))}return he.waitFor(c)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return Je.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):WI(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var i}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(s=>{const c=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-s.size):he.resolve(Qa());let h=-1,p=s;return c.next(g=>he.forEach(g,(w,D)=>(h<D.largestBatchId&&(h=D.largestBatchId),s.get(w)?he.resolve():this.remoteDocumentCache.getEntry(e,w).next(M=>{p=p.insert(w,M)}))).next(()=>this.populateOverlays(e,g,s)).next(()=>this.computeViews(e,p,g,on())).next(w=>({batchId:h,changes:YI(w)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Je(t)).next(r=>{let i=i_();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const i=t.collectionGroup;let s=i_();return this.indexManager.getCollectionParents(e,i).next(c=>he.forEach(c,h=>{const p=(g=t,w=h.child(i),new kl(w,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt));var g,w;return this.getDocumentsMatchingCollectionQuery(e,p,r).next(g=>{g.forEach((w,D)=>{s=s.insert(w,D)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,i))).next(s=>{i.forEach((h,p)=>{const g=p.getKey();null===s.get(g)&&(s=s.insert(g,hr.newInvalidDocument(g)))});let c=i_();return s.forEach((h,p)=>{const g=i.get(h);void 0!==g&&a_(g.mutation,p,po.empty(),Vr.now()),r_(t,p)&&(c=c.insert(h,p))}),c})}}class mN{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return he.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var r;return this.cs.set(t.id,{id:(r=t).id,version:r.version,createTime:Kr(r.createTime)}),he.resolve()}getNamedQuery(e,t){return he.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,{name:(r=t).name,query:lw(r.bundledQuery),readTime:Kr(r.readTime)}),he.resolve();var r}}class gN{constructor(){this.overlays=new dr(Je.comparator),this.ls=new Map}getOverlay(e,t){return he.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Qa();return he.forEach(t,i=>this.getOverlay(e,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,s)=>{this.we(e,t,s)}),he.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.ls.get(r);return void 0!==i&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.ls.delete(r)),he.resolve()}getOverlaysForCollection(e,t,r){const i=Qa(),s=t.length+1,c=new Je(t.child("")),h=this.overlays.getIteratorFrom(c);for(;h.hasNext();){const p=h.getNext().value,g=p.getKey();if(!t.isPrefixOf(g.path))break;g.path.length===s&&p.largestBatchId>r&&i.set(p.getKey(),p)}return he.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let s=new dr((g,w)=>g-w);const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===t&&g.largestBatchId>r){let w=s.get(g.largestBatchId);null===w&&(w=Qa(),s=s.insert(g.largestBatchId,w)),w.set(g.getKey(),g)}}const h=Qa(),p=s.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((g,w)=>h.set(g,w)),!(h.size()>=i)););return he.resolve(h)}we(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const c=this.ls.get(i.largestBatchId).delete(r.key);this.ls.set(i.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new nw(t,r));let s=this.ls.get(t);void 0===s&&(s=on(),this.ls.set(t,s)),this.ls.set(t,s.add(r.key))}}class vw{constructor(){this.fs=new _r(Ki.ds),this.ws=new _r(Ki._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const r=new Ki(e,t);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.ys(new Ki(e,t))}ps(e,t){e.forEach(r=>this.removeReference(r,t))}Is(e){const t=new Je(new Sn([])),r=new Ki(t,e),i=new Ki(t,e+1),s=[];return this.ws.forEachInRange([r,i],c=>{this.ys(c),s.push(c.key)}),s}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new Je(new Sn([])),r=new Ki(t,e),i=new Ki(t,e+1);let s=on();return this.ws.forEachInRange([r,i],c=>{s=s.add(c.key)}),s}containsKey(e){const t=new Ki(e,0),r=this.fs.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class Ki{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return Je.comparator(e.key,t.key)||Zt(e.As,t.As)}static _s(e,t){return Zt(e.As,t.As)||Je.comparator(e.key,t.key)}}class bx{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new _r(Ki.ds)}checkEmpty(e){return he.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const s=this.vs;this.vs++;const c=new tw(s,t,r,i);this.mutationQueue.push(c);for(const h of i)this.Rs=this.Rs.add(new Ki(h.key,s)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return he.resolve(c)}lookupMutationBatch(e,t){return he.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.bs(t+1),s=i<0?0:i;return he.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return he.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return he.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Ki(t,0),i=new Ki(t,Number.POSITIVE_INFINITY),s=[];return this.Rs.forEachInRange([r,i],c=>{const h=this.Ps(c.As);s.push(h)}),he.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new _r(Zt);return t.forEach(i=>{const s=new Ki(i,0),c=new Ki(i,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([s,c],h=>{r=r.add(h.As)})}),he.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let s=r;Je.isDocumentKey(s)||(s=s.child(""));const c=new Ki(new Je(s),0);let h=new _r(Zt);return this.Rs.forEachWhile(p=>{const g=p.key.path;return!!r.isPrefixOf(g)&&(g.length===i&&(h=h.add(p.As)),!0)},c),he.resolve(this.Vs(h))}Vs(e){const t=[];return e.forEach(r=>{const i=this.Ps(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){Pt(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let r=this.Rs;return he.forEach(t.mutations,i=>{const s=new Ki(i.key,t.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,t){const r=new Ki(t,0),i=this.Rs.firstAfterOrEqual(r);return he.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return he.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Tx{constructor(e){this.Ds=e,this.docs=new dr(Je.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),s=i?i.size:0,c=this.Ds(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:c}),this.size+=c-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return he.resolve(r?r.document.mutableCopy():hr.newInvalidDocument(t))}getEntries(e,t){let r=yo();return t.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():hr.newInvalidDocument(i))}),he.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let s=yo();const c=t.path,h=new Je(c.child("")),p=this.docs.getIteratorFrom(h);for(;p.hasNext();){const{key:g,value:{document:w}}=p.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||Vv(JA(w),r)<=0||(i.has(w.key)||r_(t,w))&&(s=s.insert(w.key,w.mutableCopy()))}return he.resolve(s)}getAllFromCollectionGroup(e,t,r,i){Et()}Cs(e,t){return he.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new Cx(this)}getSize(e){return he.resolve(this.size)}}class Cx extends dN{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.os.addEntry(e,i)):this.os.removeEntry(r)}),he.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class Dx{constructor(e){this.persistence=e,this.xs=new Nl(t=>kp(t),Wv),this.lastRemoteSnapshotVersion=Ut.min(),this.highestTargetId=0,this.Ns=0,this.ks=new vw,this.targetCount=0,this.Ms=sd.kn()}forEachTarget(e,t){return this.xs.forEach((r,i)=>t(i)),he.resolve()}getLastRemoteSnapshotVersion(e){return he.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return he.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),he.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Ns&&(this.Ns=t),he.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new sd(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,he.resolve()}updateTargetData(e,t){return this.Fn(t),he.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,he.resolve()}removeTargets(e,t,r){let i=0;const s=[];return this.xs.forEach((c,h)=>{h.sequenceNumber<=t&&null===r.get(h.targetId)&&(this.xs.delete(c),s.push(this.removeMatchingKeysForTargetId(e,h.targetId)),i++)}),he.waitFor(s).next(()=>i)}getTargetCount(e){return he.resolve(this.targetCount)}getTargetData(e,t){const r=this.xs.get(t)||null;return he.resolve(r)}addMatchingKeys(e,t,r){return this.ks.gs(t,r),he.resolve()}removeMatchingKeys(e,t,r){this.ks.ps(t,r);const i=this.persistence.referenceDelegate,s=[];return i&&t.forEach(c=>{s.push(i.markPotentiallyOrphaned(e,c))}),he.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),he.resolve()}getMatchingKeysForTargetId(e,t){const r=this.ks.Es(t);return he.resolve(r)}containsKey(e,t){return he.resolve(this.ks.containsKey(t))}}class xb{constructor(e,t){this.$s={},this.overlays={},this.Os=new Go(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new Dx(this),this.indexManager=new aN,this.remoteDocumentCache=new Tx(r=>this.referenceDelegate.Ls(r)),this.serializer=new hx(t),this.qs=new mN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new gN,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.$s[e.toKey()];return r||(r=new bx(t,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,r){Ze("MemoryPersistence","Starting transaction:",e);const i=new _N(this.Os.next());return this.referenceDelegate.Us(),r(i).next(s=>this.referenceDelegate.Ks(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gs(e,t){return he.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,t)))}}class _N extends AI{constructor(e){super(),this.currentSequenceNumber=e}}class Rb{constructor(e){this.persistence=e,this.Qs=new vw,this.js=null}static zs(e){return new Rb(e)}get Ws(){if(this.js)return this.js;throw Et()}addReference(e,t,r){return this.Qs.addReference(r,t),this.Ws.delete(r.toString()),he.resolve()}removeReference(e,t,r){return this.Qs.removeReference(r,t),this.Ws.add(r.toString()),he.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),he.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(i=>this.Ws.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(s=>this.Ws.add(s.toString()))}).next(()=>r.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return he.forEach(this.Ws,r=>{const i=Je.fromPath(r);return this.Hs(e,i).next(s=>{s||t.removeEntry(i,Ut.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(r=>{r?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return he.or([()=>he.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class QV{constructor(e){this.serializer=e}O(e,t,r,i){const s=new Ho("createOrUpgrade",t);var h;r<1&&i>=1&&(e.createObjectStore("owner"),(h=e).createObjectStore("mutationQueues",{keyPath:"userId"}),h.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",RI,{unique:!0}),h.createObjectStore("documentMutations"),yN(e),function(h){h.createObjectStore("remoteDocuments")}(e));let c=he.resolve();return r<3&&i>=3&&(0!==r&&(function(h){h.deleteObjectStore("targetDocuments"),h.deleteObjectStore("targets"),h.deleteObjectStore("targetGlobal")}(e),yN(e)),c=c.next(()=>function(h){const p=h.store("targetGlobal"),g={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Ut.min().toTimestamp(),targetCount:0};return p.put("targetGlobalKey",g)}(s))),r<4&&i>=4&&(0!==r&&(c=c.next(()=>function(h,p){return p.store("mutations").j().next(g=>{h.deleteObjectStore("mutations"),h.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",RI,{unique:!0});const w=p.store("mutations"),D=g.map(M=>w.put(M));return he.waitFor(D)})}(e,s))),c=c.next(()=>{!function(h){h.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&i>=5&&(c=c.next(()=>this.Ys(s))),r<6&&i>=6&&(c=c.next(()=>(function(h){h.createObjectStore("remoteDocumentGlobal")}(e),this.Xs(s)))),r<7&&i>=7&&(c=c.next(()=>this.Zs(s))),r<8&&i>=8&&(c=c.next(()=>this.ti(e,s))),r<9&&i>=9&&(c=c.next(()=>{!function(h){h.objectStoreNames.contains("remoteDocumentChanges")&&h.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&i>=10&&(c=c.next(()=>this.ei(s))),r<11&&i>=11&&(c=c.next(()=>{(function(h){h.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(h){h.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(c=c.next(()=>{!function(h){const p=h.createObjectStore("documentOverlays",{keyPath:fS});p.createIndex("collectionPathOverlayIndex",pS,{unique:!1}),p.createIndex("collectionGroupOverlayIndex",mS,{unique:!1})}(e)})),r<13&&i>=13&&(c=c.next(()=>function(h){const p=h.createObjectStore("remoteDocumentsV14",{keyPath:oS});p.createIndex("documentKeyIndex",aS),p.createIndex("collectionGroupIndex",Rk)}(e)).next(()=>this.ni(e,s)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(c=c.next(()=>this.si(e,s))),r<15&&i>=15&&(c=c.next(()=>function(h){h.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),h.createObjectStore("indexState",{keyPath:lS}).createIndex("sequenceNumberIndex",uS,{unique:!1}),h.createObjectStore("indexEntries",{keyPath:dS}).createIndex("documentKeyIndex",hS,{unique:!1})}(e))),c}Xs(e){let t=0;return e.store("remoteDocuments").X((r,i)=>{t+=gw(i)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Ys(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.j().next(i=>he.forEach(i,s=>{const c=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return r.j("userMutationsIndex",c).next(h=>he.forEach(h,p=>{Pt(p.userId===s.userId);const g=rd(this.serializer,p);return mw(e,s.userId,g).next(()=>{})}))}))}Zs(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const s=[];return r.X((c,h)=>{const p=new Sn(c),g=[0,ls(p)];s.push(t.get(g).next(w=>w?he.resolve():t.put({targetId:0,path:ls(p),sequenceNumber:i.highestListenSequenceNumber})))}).next(()=>he.waitFor(s))})}ti(e,t){e.createObjectStore("collectionParents",{keyPath:cS});const r=t.store("collectionParents"),i=new Eb,s=c=>{if(i.add(c)){const h=c.lastSegment(),p=c.popLast();return r.put({collectionId:h,parent:ls(p)})}};return t.store("remoteDocuments").X({Y:!0},(c,h)=>{const p=new Sn(c);return s(p.popLast())}).next(()=>t.store("documentMutations").X({Y:!0},([c,h,p],g)=>{const w=Ya(h);return s(w.popLast())}))}ei(e){const t=e.store("targets");return t.X((r,i)=>{const s=Bp(i),c=cw(this.serializer,s);return t.put(c)})}ni(e,t){const r=t.store("remoteDocuments"),i=[];return r.X((s,c)=>{const h=t.store("remoteDocumentsV14"),p=(g=c,g.document?new Je(Sn.fromString(g.document.name).popFirst(5)):g.noDocument?Je.fromSegments(g.noDocument.path):g.unknownDocument?Je.fromSegments(g.unknownDocument.path):Et()).path.toArray();var g;const w={prefixPath:p.slice(0,p.length-2),collectionGroup:p[p.length-2],documentId:p[p.length-1],readTime:c.readTime||[0,0],unknownDocument:c.unknownDocument,noDocument:c.noDocument,document:c.document,hasCommittedMutations:!!c.hasCommittedMutations};i.push(h.put(w))}).next(()=>he.waitFor(i))}si(e,t){const r=t.store("mutations"),i=fN(this.serializer),s=new xb(Rb.zs,this.serializer.fe);return r.j().next(c=>{const h=new Map;return c.forEach(p=>{var g;let w=null!==(g=h.get(p.userId))&&void 0!==g?g:on();rd(this.serializer,p).keys().forEach(D=>w=w.add(D)),h.set(p.userId,w)}),he.forEach(h,(p,g)=>{const w=new Ai(g),D=jp.de(this.serializer,w),M=s.getIndexManager(w),N=f_.de(w,this.serializer,M,s.referenceDelegate);return new Sb(i,N,D,M).recalculateAndSaveOverlaysForDocumentKeys(new PI(t,Go.ct),p).next()})})}}function yN(n){n.createObjectStore("targetDocuments",{keyPath:MI}).createIndex("documentTargetsIndex",Uv,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Mk,{unique:!0}),n.createObjectStore("targetGlobal")}const Ax="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Sx{constructor(e,t,r,i,s,c,h,p,g,w,D=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.ii=s,this.window=c,this.document=h,this.ri=g,this.oi=w,this.ui=D,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=M=>Promise.resolve(),!Sx.D())throw new Be(ge.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new vx(this,i),this.di=t+"main",this.serializer=new hx(p),this.wi=new Ka(this.di,this.ui,new QV(this.serializer)),this.Bs=new lN(this.referenceDelegate,this.serializer),this.remoteDocumentCache=fN(this.serializer),this.qs=new nN,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===w&&qr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Be(ge.FAILED_PRECONDITION,Ax);return this.gi(),this.yi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Bs.getHighestSequenceNumber(e))}).then(e=>{this.Os=new Go(e,this.ri)}).then(()=>{this.Fs=!0}).catch(e=>(this.wi&&this.wi.close(),Promise.reject(e)))}Ii(e){var t=this;return this.fi=function(){var r=(0,Se.Z)(function*(i){if(t.started)return e(i)});return function(i){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.wi.B(function(){var t=(0,Se.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.ii.enqueueAndForget((0,Se.Z)(function*(){t.started&&(yield t.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Mb(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ti(e).next(t=>{t||(this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)))})}).next(()=>this.Ei(e)).next(t=>this.isPrimary&&!t?this.Ai(e).next(()=>!1):!!t&&this.vi(e).next(()=>!0))).catch(e=>{if(qi(e))return Ze("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Ze("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ii.enqueueRetryable(()=>this.fi(e)),this.isPrimary=e})}Ti(e){return ww(e).get("owner").next(t=>he.resolve(this.Ri(t)))}Pi(e){return Mb(e).delete(this.clientId)}bi(){var e=this;return(0,Se.Z)(function*(){if(e.isPrimary&&!e.Vi(e.li,18e5)){e.li=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const i=Wi(r,"clientMetadata");return i.j().next(s=>{const c=e.Si(s,18e5),h=s.filter(p=>-1===c.indexOf(p));return he.forEach(h,p=>i.delete(p.clientId)).next(()=>h)})}).catch(()=>[]);if(e._i)for(const r of t)e._i.removeItem(e.Di(r.clientId))}})()}pi(){this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.bi()).then(()=>this.pi()))}Ri(e){return!!e&&e.ownerId===this.clientId}Ei(e){return this.oi?he.resolve(!0):ww(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)){if(this.Ri(t)&&this.networkEnabled)return!0;if(!this.Ri(t)){if(!t.allowTabSynchronization)throw new Be(ge.FAILED_PRECONDITION,Ax);return!1}}return!(!this.networkEnabled||!this.inForeground)||Mb(e).j().next(r=>void 0===this.Si(r,5e3).find(i=>!(this.clientId===i.clientId||!(!this.networkEnabled&&i.networkEnabled||!this.inForeground&&i.inForeground&&this.networkEnabled===i.networkEnabled))))}).next(t=>(this.isPrimary!==t&&Ze("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,Se.Z)(function*(){e.Fs=!1,e.xi(),e.hi&&(e.hi.cancel(),e.hi=null),e.Ni(),e.ki(),yield e.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new PI(t,Go.ct);return e.Ai(r).next(()=>e.Pi(r))}),e.wi.close(),e.Mi()})()}Si(e,t){return e.filter(r=>this.Vi(r.updateTimeMs,t)&&!this.Ci(r.clientId))}$i(){return this.runTransaction("getActiveClients","readonly",e=>Mb(e).j().next(t=>this.Si(t,18e5).map(r=>r.clientId)))}get started(){return this.Fs}getMutationQueue(e,t){return f_.de(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new YV(e,this.serializer.fe.databaseId)}getDocumentOverlayCache(e){return jp.de(this.serializer,e)}getBundleCache(){return this.qs}runTransaction(e,t,r){Ze("IndexedDbPersistence","Starting transaction:",e);const i="readonly"===t?"readonly":"readwrite",s=15===(c=this.ui)?kk:14===c?yS:13===c?_S:12===c?Pk:11===c?gS:void Et();var c;let h;return this.wi.runTransaction(e,i,s,p=>(h=new PI(p,this.Os?this.Os.next():Go.ct),"readwrite-primary"===t?this.Ti(h).next(g=>!!g||this.Ei(h)).next(g=>{if(!g)throw qr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)),new Be(ge.FAILED_PRECONDITION,eS);return r(h)}).next(g=>this.vi(h).next(()=>g)):this.Oi(h).next(()=>r(h)))).then(p=>(h.raiseOnCommittedEvent(),p))}Oi(e){return ww(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)&&!this.Ri(t)&&!(this.oi||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Be(ge.FAILED_PRECONDITION,Ax)})}vi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return ww(e).put("owner",t)}static D(){return Ka.D()}Ai(e){const t=ww(e);return t.get("owner").next(r=>this.Ri(r)?(Ze("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):he.resolve())}Vi(e,t){const r=Date.now();return!(e<r-t||e>r&&(qr(`Detected an update time that is in the future: ${e} > ${r}`),1))}gi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ai=()=>{this.ii.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground="visible"===this.document.visibilityState)}Ni(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}yi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const t=/(?:Version|Mobile)\/1[456]/;(0,An.G6)()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.ii.enterRestrictedMode(!0),this.ii.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}ki(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Ci(e){var t;try{const r=null!==(null===(t=this._i)||void 0===t?void 0:t.getItem(this.Di(e)));return Ze("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return qr("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}xi(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(e){qr("Failed to set zombie client id.",e)}}Mi(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch{}}Di(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function ww(n){return Wi(n,"owner")}function Mb(n){return Wi(n,"clientMetadata")}function xx(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class Rx{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Fi=r,this.Bi=i}static Li(e,t){let r=on(),i=on();for(const s of t.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Rx(e,t.fromCache,r,i)}}class vN{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,r,i){return this.Ki(e,t).next(s=>s||this.Gi(e,t,i,r)).next(s=>s||this.Qi(e,t))}Ki(e,t){if(Np(t))return he.resolve(null);let r=_o(t);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==t.limit&&1===i&&(t=t_(t,null,"F"),r=_o(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const c=on(...s);return this.Ui.getDocuments(e,c).next(h=>this.indexManager.getMinOffset(e,r).next(p=>{const g=this.ji(t,h);return this.zi(t,g,c,p.readTime)?this.Ki(e,t_(t,null,"F")):this.Wi(e,g,t,p)}))})))}Gi(e,t,r,i){return Np(t)||i.isEqual(Ut.min())?this.Qi(e,t):this.Ui.getDocuments(e,r).next(s=>{const c=this.ji(t,s);return this.zi(t,c,r,i)?this.Qi(e,t):(EI()<=Bo.in.DEBUG&&Ze("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Fh(t)),this.Wi(e,c,t,Sh(i,-1)))})}ji(e,t){let r=new _r(kS(e));return t.forEach((i,s)=>{r_(e,s)&&(r=r.add(s))}),r}zi(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const s="F"===e.limitType?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Qi(e,t){return EI()<=Bo.in.DEBUG&&Ze("QueryEngine","Using full collection scan to execute query:",Fh(t)),this.Ui.getDocumentsMatchingQuery(e,t,zo.min())}Wi(e,t,r,i){return this.Ui.getDocumentsMatchingQuery(e,r,i).next(s=>(t.forEach(c=>{s=s.insert(c.key,c)}),s))}}class Mx{constructor(e,t,r,i){this.persistence=e,this.Hi=t,this.serializer=i,this.Ji=new dr(Zt),this.Yi=new Nl(s=>kp(s),Wv),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Sb(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function Ew(n,e,t,r){return new Mx(n,e,t,r)}function Pb(n,e){return kb.apply(this,arguments)}function kb(){return kb=(0,Se.Z)(function*(n,e){const t=ht(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,t.tr(e),t.mutationQueue.getAllMutationBatches(r))).next(s=>{const c=[],h=[];let p=on();for(const g of i){c.push(g.batchId);for(const w of g.mutations)p=p.add(w.key)}for(const g of s){h.push(g.batchId);for(const w of g.mutations)p=p.add(w.key)}return t.localDocuments.getDocuments(r,p).next(g=>({er:g,removedBatchIds:c,addedBatchIds:h}))})})}),kb.apply(this,arguments)}function Px(n){const e=ht(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Bs.getLastRemoteSnapshotVersion(t))}function wN(n,e,t){let r=on(),i=on();return t.forEach(s=>r=r.add(s)),e.getEntries(n,r).next(s=>{let c=yo();return t.forEach((h,p)=>{const g=s.get(h);p.isFoundDocument()!==g.isFoundDocument()&&(i=i.add(h)),p.isNoDocument()&&p.version.isEqual(Ut.min())?(e.removeEntry(h,p.readTime),c=c.insert(h,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||0===p.version.compareTo(g.version)&&g.hasPendingWrites?(e.addEntry(p),c=c.insert(h,p)):Ze("LocalStore","Ignoring outdated watch update for ",h,". Current version:",g.version," Watch version:",p.version)}),{nr:c,sr:i}})}function EN(n,e){const t=ht(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Yh(n,e){const t=ht(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Bs.getTargetData(r,e).next(s=>s?(i=s,he.resolve(i)):t.Bs.allocateTargetId(r).next(c=>(i=new Vc(e,c,"TargetPurposeListen",r.currentSequenceNumber),t.Bs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.Ji.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ji=t.Ji.insert(r.targetId,r),t.Yi.set(e,r.targetId)),r})}function Zp(n,e,t){return Nb.apply(this,arguments)}function Nb(){return Nb=(0,Se.Z)(function*(n,e,t){const r=ht(n),i=r.Ji.get(e),s=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",s,c=>r.persistence.referenceDelegate.removeTarget(c,i)))}catch(c){if(!qi(c))throw c;Ze("LocalStore",`Failed to update sequence numbers for target ${e}: ${c}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(i.target)}),Nb.apply(this,arguments)}function bw(n,e,t){const r=ht(n);let i=Ut.min(),s=on();return r.persistence.runTransaction("Execute query","readonly",c=>function(h,p,g){const w=ht(h),D=w.Yi.get(g);return void 0!==D?he.resolve(w.Ji.get(D)):w.Bs.getTargetData(p,g)}(r,c,_o(e)).next(h=>{if(h)return i=h.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(c,h.targetId).next(p=>{s=p})}).next(()=>r.Hi.getDocumentsMatchingQuery(c,e,t?i:Ut.min(),t?s:on())).next(h=>(Yp(r,ZI(e),h),{documents:h,ir:s})))}function IN(n,e){const t=ht(n),r=ht(t.Bs),i=t.Ji.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",s=>r.le(s,e).next(c=>c?c.target:null))}function kx(n,e){const t=ht(n),r=t.Xi.get(e)||Ut.min();return t.persistence.runTransaction("Get new document changes","readonly",i=>t.Zi.getAllFromCollectionGroup(i,e,Sh(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(Yp(t,e,i),i))}function Yp(n,e,t){let r=n.Xi.get(e)||Ut.min();t.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),n.Xi.set(e,r)}function Ob(){return Ob=(0,Se.Z)(function*(n,e,t,r){const i=ht(n);let s=on(),c=yo();for(const g of t){const w=e.rr(g.metadata.name);g.document&&(s=s.add(w));const D=e.ur(g);D.setReadTime(e.cr(g.metadata.readTime)),c=c.insert(w,D)}const h=i.Zi.newChangeBuffer({trackRemovals:!0}),p=yield Yh(i,(g=r,_o(Nh(Sn.fromString(`__bundle__/docs/${g}`)))));var g;return i.persistence.runTransaction("Apply bundle documents","readwrite",g=>wN(g,h,c).next(w=>(h.apply(g),w)).next(w=>i.Bs.removeMatchingKeysForTargetId(g,p.targetId).next(()=>i.Bs.addMatchingKeys(g,s,p.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(g,w.nr,w.sr)).next(()=>w.nr)))}),Ob.apply(this,arguments)}function bN(n,e){return Fb.apply(this,arguments)}function Fb(){return Fb=(0,Se.Z)(function*(n,e,t=on()){const r=yield Yh(n,_o(lw(e.bundledQuery))),i=ht(n);return i.persistence.runTransaction("Save named query","readwrite",s=>{const c=Kr(e.readTime);if(r.snapshotVersion.compareTo(c)>=0)return i.qs.saveNamedQuery(s,e);const h=r.withResumeToken(mi.EMPTY_BYTE_STRING,c);return i.Ji=i.Ji.insert(h.targetId,h),i.Bs.updateTargetData(s,h).next(()=>i.Bs.removeMatchingKeysForTargetId(s,r.targetId)).next(()=>i.Bs.addMatchingKeys(s,t,r.targetId)).next(()=>i.qs.saveNamedQuery(s,e))})}),Fb.apply(this,arguments)}function Nx(n,e){return`firestore_clients_${n}_${e}`}function Ox(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function Lb(n,e){return`firestore_targets_${n}_${e}`}class Qp{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static ar(e,t,r){const i=JSON.parse(r);let s,c="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return c&&i.error&&(c="string"==typeof i.error.message&&"string"==typeof i.error.code,c&&(s=new Be(i.error.code,i.error.message))),c?new Qp(e,t,i.state,s):(qr("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class m_{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static ar(e,t){const r=JSON.parse(t);let i,s="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return s&&r.error&&(s="string"==typeof r.error.message&&"string"==typeof r.error.code,s&&(i=new Be(r.error.code,r.error.message))),s?new m_(e,r.state,i):(qr("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Cw{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static ar(e,t){const r=JSON.parse(t);let i="object"==typeof r&&r.activeTargetIds instanceof Array,s=XI();for(let c=0;i&&c<r.activeTargetIds.length;++c)i=nS(r.activeTargetIds[c]),s=s.add(r.activeTargetIds[c]);return i?new Cw(e,s):(qr("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class Vb{constructor(e,t){this.clientId=e,this.onlineState=t}static ar(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new Vb(t.clientId,t.onlineState):(qr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Ub{constructor(){this.activeTargetIds=XI()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Bb{constructor(e,t,r,i,s){this.window=e,this.ii=t,this.persistenceKey=r,this.wr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.mr.bind(this),this.gr=new dr(Zt),this.started=!1,this.yr=[];const c=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.pr=Nx(this.persistenceKey,this.wr),this.Ir=`firestore_sequence_number_${this.persistenceKey}`,this.gr=this.gr.insert(this.wr,new Ub),this.Tr=new RegExp(`^firestore_clients_${c}_([^_]*)$`),this.Er=new RegExp(`^firestore_mutations_${c}_(\\d+)(?:_(.*))?$`),this.Ar=new RegExp(`^firestore_targets_${c}_(\\d+)$`),this.vr=`firestore_online_state_${this.persistenceKey}`,this.Rr=function(h){return`firestore_bundle_loaded_v2_${h}`}(this.persistenceKey),this.window.addEventListener("storage",this._r)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,Se.Z)(function*(){const t=yield e.syncEngine.$i();for(const i of t){if(i===e.wr)continue;const s=e.getItem(Nx(e.persistenceKey,i));if(s){const c=Cw.ar(i,s);c&&(e.gr=e.gr.insert(c.clientId,c))}}e.Pr();const r=e.storage.getItem(e.vr);if(r){const i=e.br(r);i&&e.Vr(i)}for(const i of e.yr)e.mr(i);e.yr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Ir,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Sr(this.gr)}isActiveQueryTarget(e){let t=!1;return this.gr.forEach((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Dr(e,"pending")}updateMutationState(e,t,r){this.Dr(e,t,r),this.Cr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(Lb(this.persistenceKey,e));if(r){const i=m_.ar(e,r);i&&(t=i.state)}}return this.Nr.lr(e),this.Pr(),t}removeLocalQueryTarget(e){this.Nr.dr(e),this.Pr()}isLocalQueryTarget(e){return this.Nr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Lb(this.persistenceKey,e))}updateQueryState(e,t,r){this.kr(e,t,r)}handleUserChange(e,t,r){t.forEach(i=>{this.Cr(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.Mr(e)}notifyBundleLoaded(e){this.$r(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.pr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Ze("SharedClientState","READ",e,t),t}setItem(e,t){Ze("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Ze("SharedClientState","REMOVE",e),this.storage.removeItem(e)}mr(e){var t=this;const r=e;if(r.storageArea===this.storage){if(Ze("SharedClientState","EVENT",r.key,r.newValue),r.key===this.pr)return void qr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ii.enqueueRetryable((0,Se.Z)(function*(){if(t.started){if(null!==r.key)if(t.Tr.test(r.key)){if(null==r.newValue){const i=t.Or(r.key);return t.Fr(i,null)}{const i=t.Br(r.key,r.newValue);if(i)return t.Fr(i.clientId,i)}}else if(t.Er.test(r.key)){if(null!==r.newValue){const i=t.Lr(r.key,r.newValue);if(i)return t.qr(i)}}else if(t.Ar.test(r.key)){if(null!==r.newValue){const i=t.Ur(r.key,r.newValue);if(i)return t.Kr(i)}}else if(r.key===t.vr){if(null!==r.newValue){const i=t.br(r.newValue);if(i)return t.Vr(i)}}else if(r.key===t.Ir){const i=function(s){let c=Go.ct;if(null!=s)try{const h=JSON.parse(s);Pt("number"==typeof h),c=h}catch(h){qr("SharedClientState","Failed to read sequence number from WebStorage",h)}return c}(r.newValue);i!==Go.ct&&t.sequenceNumberHandler(i)}else if(r.key===t.Rr){const i=t.Gr(r.newValue);yield Promise.all(i.map(s=>t.syncEngine.Qr(s)))}}else t.yr.push(r)}))}}get Nr(){return this.gr.get(this.wr)}Pr(){this.setItem(this.pr,this.Nr.hr())}Dr(e,t,r){const i=new Qp(this.currentUser,e,t,r),s=Ox(this.persistenceKey,this.currentUser,e);this.setItem(s,i.hr())}Cr(e){const t=Ox(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Mr(e){this.storage.setItem(this.vr,JSON.stringify({clientId:this.wr,onlineState:e}))}kr(e,t,r){const i=Lb(this.persistenceKey,e),s=new m_(e,t,r);this.setItem(i,s.hr())}$r(e){const t=JSON.stringify(Array.from(e));this.setItem(this.Rr,t)}Or(e){const t=this.Tr.exec(e);return t?t[1]:null}Br(e,t){const r=this.Or(e);return Cw.ar(r,t)}Lr(e,t){const r=this.Er.exec(e),i=Number(r[1]);return Qp.ar(new Ai(void 0!==r[2]?r[2]:null),i,t)}Ur(e,t){const r=this.Ar.exec(e),i=Number(r[1]);return m_.ar(i,t)}br(e){return Vb.ar(e)}Gr(e){return JSON.parse(e)}qr(e){var t=this;return(0,Se.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.jr(e.batchId,e.state,e.error);Ze("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Kr(e){return this.syncEngine.zr(e.targetId,e.state,e.error)}Fr(e,t){const r=t?this.gr.insert(e,t):this.gr.remove(e),i=this.Sr(this.gr),s=this.Sr(r),c=[],h=[];return s.forEach(p=>{i.has(p)||c.push(p)}),i.forEach(p=>{s.has(p)||h.push(p)}),this.syncEngine.Wr(c,h).then(()=>{this.gr=r})}Vr(e){this.gr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Sr(e){let t=XI();return e.forEach((r,i)=>{t=t.unionWith(i.activeTargetIds)}),t}}class Fx{constructor(){this.Hr=new Ub,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,r){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new Ub,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class TN{Yr(e){}shutdown(){}}class Lx{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){Ze("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){Ze("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Dw=null;function Aw(){return null===Dw?Dw=268435456+Math.round(2147483648*Math.random()):Dw++,"0x"+Dw.toString(16)}const jb={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class CN{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const Ms="WebChannelConnection";class Vx extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,r,i,s){const c=Aw(),h=this.To(e,t);Ze("RestConnection",`Sending RPC '${e}' ${c}:`,h,r);const p={};return this.Eo(p,i,s),this.Ao(e,h,p,r).then(g=>(Ze("RestConnection",`Received RPC '${e}' ${c}: `,g),g),g=>{throw $o("RestConnection",`RPC '${e}' ${c} failed with error: `,g,"url: ",h,"request:",r),g})}vo(e,t,r,i,s,c){return this.Io(e,t,r,i,s)}Eo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Ku,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}To(e,t){return`${this.mo}/v1/${t}:${jb[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,r,i){const s=Aw();return new Promise((c,h)=>{const p=new Tk;p.setWithCredentials(!0),p.listenOnce(bk.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case vI.NO_ERROR:const w=p.getResponseJson();Ze(Ms,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(w)),c(w);break;case vI.TIMEOUT:Ze(Ms,`RPC '${e}' ${s} timed out`),h(new Be(ge.DEADLINE_EXCEEDED,"Request time out"));break;case vI.HTTP_ERROR:const D=p.getStatus();if(Ze(Ms,`RPC '${e}' ${s} failed with status:`,D,"response text:",p.getResponseText()),D>0){let M=p.getResponseJson();Array.isArray(M)&&(M=M[0]);const N=M?.error;if(N&&N.status&&N.message){const K=function(te){const X=te.toLowerCase().replace(/_/g,"-");return Object.values(ge).indexOf(X)>=0?X:ge.UNKNOWN}(N.status);h(new Be(K,N.message))}else h(new Be(ge.UNKNOWN,"Server responded with status "+p.getStatus()))}else h(new Be(ge.UNAVAILABLE,"Connection failed."));break;default:Et()}}finally{Ze(Ms,`RPC '${e}' ${s} completed.`)}});const g=JSON.stringify(i);Ze(Ms,`RPC '${e}' ${s} sending request:`,i),p.send(t,"POST",g,r,15)})}Ro(e,t,r){const i=Aw(),s=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=HA(),h=Ik(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;void 0!==g&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.xmlHttpFactory=new wI({})),this.Eo(p.initMessageHeaders,t,r),p.encodeInitMessageHeaders=!0;const w=s.join("");Ze(Ms,`Creating RPC '${e}' stream ${i}: ${w}`,p);const D=c.createWebChannel(w,p);let M=!1,N=!1;const K=new CN({ro:X=>{N?Ze(Ms,`Not sending because RPC '${e}' stream ${i} is closed:`,X):(M||(Ze(Ms,`Opening RPC '${e}' stream ${i} transport.`),D.open(),M=!0),Ze(Ms,`RPC '${e}' stream ${i} sending:`,X),D.send(X))},oo:()=>D.close()}),te=(X,be,$e)=>{X.listen(be,ze=>{try{$e(ze)}catch(Qe){setTimeout(()=>{throw Qe},0)}})};return te(D,qg.EventType.OPEN,()=>{N||Ze(Ms,`RPC '${e}' stream ${i} transport opened.`)}),te(D,qg.EventType.CLOSE,()=>{N||(N=!0,Ze(Ms,`RPC '${e}' stream ${i} transport closed`),K.wo())}),te(D,qg.EventType.ERROR,X=>{N||(N=!0,$o(Ms,`RPC '${e}' stream ${i} transport errored:`,X),K.wo(new Be(ge.UNAVAILABLE,"The operation could not be completed")))}),te(D,qg.EventType.MESSAGE,X=>{var be;if(!N){const $e=X.data[0];Pt(!!$e);const Qe=$e.error||(null===(be=$e[0])||void 0===be?void 0:be.error);if(Qe){Ze(Ms,`RPC '${e}' stream ${i} received error:`,Qe);const _t=Qe.status;let Ct=function(ps){const ZC=ti[ps];if(void 0!==ZC)return KS(ZC)}(_t),vn=Qe.message;void 0===Ct&&(Ct=ge.INTERNAL,vn="Unknown error status: "+_t+" with message "+Qe.message),N=!0,K.wo(new Be(Ct,vn)),D.close()}else Ze(Ms,`RPC '${e}' stream ${i} received:`,$e),K._o($e)}}),te(h,kv.STAT_EVENT,X=>{X.stat===Gg.PROXY?Ze(Ms,`RPC '${e}' stream ${i} detected buffering proxy`):X.stat===Gg.NOPROXY&&Ze(Ms,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{K.fo()},0),K}}function $b(){return typeof window<"u"?window:null}function zb(){return typeof document<"u"?document:null}function Zi(n){return new Yk(n,!0)}class Sw{constructor(e,t,r=1e3,i=1.5,s=6e4){this.ii=e,this.timerId=t,this.Po=r,this.bo=i,this.Vo=s,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,t-r);i>0&&Ze("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class Hb{constructor(e,t,r,i,s,c,h,p){this.ii=e,this.$o=r,this.Oo=i,this.connection=s,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=h,this.listener=p,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new Sw(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return(0,Se.Z)(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return(0,Se.Z)(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,t){var r=this;return(0,Se.Z)(function*(){r.Ho(),r.Jo(),r.qo.cancel(),r.Fo++,4!==e?r.qo.reset():t&&t.code===ge.RESOURCE_EXHAUSTED?(qr(t.toString()),qr("Using maximum backoff delay to prevent overloading the backend."),r.qo.xo()):t&&t.code===ge.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Yo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.ao(t)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Fo===t&&this.Zo(r,i)},r=>{e(()=>{const i=new Be(ge.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(i)})})}Zo(e,t){const r=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(i=>{r(()=>this.tu(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Go(){var e=this;this.state=5,this.qo.No((0,Se.Z)(function*(){e.state=0,e.start()}))}tu(e){return Ze("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(Ze("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class DN extends Hb{constructor(e,t,r,i,s,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,c),this.serializer=s}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function Qk(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(p=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===p?1:"REMOVE"===p?2:"CURRENT"===p?3:"RESET"===p?4:Et(),i=e.targetChange.targetIds||[],s=function(p,g){return p.useProto3Json?(Pt(void 0===g||"string"==typeof g),mi.fromBase64String(g||"")):(Pt(void 0===g||g instanceof Uint8Array),mi.fromUint8Array(g||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,h=c&&function(p){const g=void 0===p.code?ge.UNKNOWN:KS(p.code);return new Be(g,p.message||"")}(c);t=new XS(r,i,s,h||null)}else if("documentChange"in e){const r=e.documentChange,i=Fl(n,r.document.name),s=Kr(r.document.updateTime),c=r.document.createTime?Kr(r.document.createTime):Ut.min(),h=new ds({mapValue:{fields:r.document.fields}}),p=hr.newFoundDocument(i,s,c,h);t=new sw(r.targetIds||[],r.removedTargetIds||[],p.key,p)}else if("documentDelete"in e){const r=e.documentDelete,i=Fl(n,r.document),s=r.readTime?Kr(r.readTime):Ut.min(),c=hr.newNoDocument(i,s);t=new sw([],r.removedTargetIds||[],c.key,c)}else if("documentRemove"in e){const r=e.documentRemove,i=Fl(n,r.document);t=new sw([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return Et();{const r=e.filter,{count:i=0,unchangedNames:s}=r,c=new WS(i,s);t=new QS(r.targetId,c)}}var p;return t}(this.serializer,e),r=function(i){if(!("targetChange"in i))return Ut.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?Ut.min():s.readTime?Kr(s.readTime):Ut.min()}(e);return this.listener.nu(t,r)}su(e){const t={};t.database=Vp(this.serializer),t.addTarget=function(i,s){let c;const h=s.target;if(c=zI(h)?{documents:ax(i,h)}:{query:cx(i,h)},c.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){c.resumeToken=lb(i,s.resumeToken);const p=Bh(i,s.expectedCount);null!==p&&(c.expectedCount=p)}else if(s.snapshotVersion.compareTo(Ut.min())>0){c.readTime=jh(i,s.snapshotVersion.toTimestamp());const p=Bh(i,s.expectedCount);null!==p&&(c.expectedCount=p)}return c}(this.serializer,e);const r=function Xk(n,e){const t=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Et()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Wo(t)}iu(e){const t={};t.database=Vp(this.serializer),t.removeTarget=e,this.Wo(t)}}class Ux extends Hb{constructor(e,t,r,i,s,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,c),this.serializer=s,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(Pt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function ZV(n,e){return n&&n.length>0?(Pt(void 0!==e),n.map(t=>function(r,i){let s=Kr(r.updateTime?r.updateTime:i);return s.isEqual(Ut.min())&&(s=Kr(i)),new tb(s,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=Kr(e.commitTime);return this.listener.cu(r,t)}return Pt(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=Vp(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>$h(this.serializer,r))};this.Wo(t)}}class AN extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.lu=!1}fu(){if(this.lu)throw new Be(ge.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.Io(e,t,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===ge.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Be(ge.UNKNOWN,i.toString())})}vo(e,t,r,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,c])=>this.connection.vo(e,t,r,s,c,i)).catch(s=>{throw"FirebaseError"===s.name?(s.code===ge.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Be(ge.UNKNOWN,s.toString())})}terminate(){this.lu=!0}}class Bx{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(qr(t),this.mu=!1):Ze("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class qb{constructor(e,t,r,i,s){var c=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=s,this.Pu.Yr(h=>{r.enqueueAndForget((0,Se.Z)(function*(){var p;$l(c)&&(Ze("RemoteStore","Restarting streams for network reachability change."),yield(p=(0,Se.Z)(function*(g){const w=ht(g);w.vu.add(4),yield g_(w),w.bu.set("Unknown"),w.vu.delete(4),yield Qh(w)}),function(g){return p.apply(this,arguments)})(c))}))}),this.bu=new Bx(r,i)}}function Qh(n){return Wb.apply(this,arguments)}function Wb(){return Wb=(0,Se.Z)(function*(n){if($l(n))for(const e of n.Ru)yield e(!0)}),Wb.apply(this,arguments)}function g_(n){return xw.apply(this,arguments)}function xw(){return xw=(0,Se.Z)(function*(n){for(const e of n.Ru)yield e(!1)}),xw.apply(this,arguments)}function Rw(n,e){const t=ht(n);t.Au.has(e.targetId)||(t.Au.set(e.targetId,e),$x(t)?Mw(t):v_(t).Ko()&&Kb(t,e))}function __(n,e){const t=ht(n),r=v_(t);t.Au.delete(e),r.Ko()&&jx(t,e),0===t.Au.size&&(r.Ko()?r.jo():$l(t)&&t.bu.set("Unknown"))}function Kb(n,e){if(n.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ut.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}v_(n).su(e)}function jx(n,e){n.Vu.qt(e),v_(n).iu(e)}function Mw(n){n.Vu=new qk({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),le:e=>n.Au.get(e)||null,ue:()=>n.datastore.serializer.databaseId}),v_(n).start(),n.bu.gu()}function $x(n){return $l(n)&&!v_(n).Uo()&&n.Au.size>0}function $l(n){return 0===ht(n).vu.size}function zx(n){n.Vu=void 0}function Hx(n){return Gx.apply(this,arguments)}function Gx(){return Gx=(0,Se.Z)(function*(n){n.Au.forEach((e,t)=>{Kb(n,e)})}),Gx.apply(this,arguments)}function Zb(n,e){return Pw.apply(this,arguments)}function Pw(){return Pw=(0,Se.Z)(function*(n,e){zx(n),$x(n)?(n.bu.Iu(e),Mw(n)):n.bu.set("Unknown")}),Pw.apply(this,arguments)}function qx(n,e,t){return Yb.apply(this,arguments)}function Yb(){return Yb=(0,Se.Z)(function*(n,e,t){if(n.bu.set("Online"),e instanceof XS&&2===e.state&&e.cause)try{yield(r=(0,Se.Z)(function*(i,s){const c=s.cause;for(const h of s.targetIds)i.Au.has(h)&&(yield i.remoteSyncer.rejectListen(h,c),i.Au.delete(h),i.Vu.removeTarget(h))}),function(i,s){return r.apply(this,arguments)})(n,e)}catch(r){Ze("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield y_(n,r)}else if(e instanceof sw?n.Vu.Ht(e):e instanceof QS?n.Vu.ne(e):n.Vu.Xt(e),!t.isEqual(Ut.min()))try{const r=yield Px(n.localStore);t.compareTo(r)>=0&&(yield function(i,s){const c=i.Vu.ce(s);return c.targetChanges.forEach((h,p)=>{if(h.resumeToken.approximateByteSize()>0){const g=i.Au.get(p);g&&i.Au.set(p,g.withResumeToken(h.resumeToken,s))}}),c.targetMismatches.forEach((h,p)=>{const g=i.Au.get(h);if(!g)return;i.Au.set(h,g.withResumeToken(mi.EMPTY_BYTE_STRING,g.snapshotVersion)),jx(i,h);const w=new Vc(g.target,h,p,g.sequenceNumber);Kb(i,w)}),i.remoteSyncer.applyRemoteEvent(c)}(n,t))}catch(r){Ze("RemoteStore","Failed to raise snapshot:",r),yield y_(n,r)}var r}),Yb.apply(this,arguments)}function y_(n,e,t){return kw.apply(this,arguments)}function kw(){return kw=(0,Se.Z)(function*(n,e,t){if(!qi(e))throw e;n.vu.add(1),yield g_(n),n.bu.set("Offline"),t||(t=()=>Px(n.localStore)),n.asyncQueue.enqueueRetryable((0,Se.Z)(function*(){Ze("RemoteStore","Retrying IndexedDB access"),yield t(),n.vu.delete(1),yield Qh(n)}))}),kw.apply(this,arguments)}function Xh(n,e){return e().catch(t=>y_(n,t,e))}function zl(n){return Nw.apply(this,arguments)}function Nw(){return Nw=(0,Se.Z)(function*(n){const e=ht(n),t=Jh(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;Wx(e);)try{const i=yield EN(e.localStore,r);if(null===i){0===e.Eu.length&&t.jo();break}r=i.batchId,SN(e,i)}catch(i){yield y_(e,i)}Kx(e)&&xN(e)}),Nw.apply(this,arguments)}function Wx(n){return $l(n)&&n.Eu.length<10}function SN(n,e){n.Eu.push(e);const t=Jh(n);t.Ko()&&t.ou&&t.uu(e.mutations)}function Kx(n){return $l(n)&&!Jh(n).Uo()&&n.Eu.length>0}function xN(n){Jh(n).start()}function Zx(n){return Qb.apply(this,arguments)}function Qb(){return Qb=(0,Se.Z)(function*(n){Jh(n).hu()}),Qb.apply(this,arguments)}function RN(n){return Yx.apply(this,arguments)}function Yx(){return Yx=(0,Se.Z)(function*(n){const e=Jh(n);for(const t of n.Eu)e.uu(t.mutations)}),Yx.apply(this,arguments)}function JV(n,e,t){return Qx.apply(this,arguments)}function Qx(){return Qx=(0,Se.Z)(function*(n,e,t){const r=n.Eu.shift(),i=rb.from(r,e,t);yield Xh(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield zl(n)}),Qx.apply(this,arguments)}function Xx(n,e){return Xb.apply(this,arguments)}function Xb(){return Xb=(0,Se.Z)(function*(n,e){var t;e&&Jh(n).ou&&(yield(t=(0,Se.Z)(function*(r,i){if(sb(s=i.code)&&s!==ge.ABORTED){const c=r.Eu.shift();Jh(r).Qo(),yield Xh(r,()=>r.remoteSyncer.rejectFailedWrite(c.batchId,i)),yield zl(r)}var s}),function(r,i){return t.apply(this,arguments)})(n,e)),Kx(n)&&xN(n)}),Xb.apply(this,arguments)}function Jx(n,e){return Jb.apply(this,arguments)}function Jb(){return Jb=(0,Se.Z)(function*(n,e){const t=ht(n);t.asyncQueue.verifyOperationInProgress(),Ze("RemoteStore","RemoteStore received new credentials");const r=$l(t);t.vu.add(3),yield g_(t),r&&t.bu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.vu.delete(3),yield Qh(t)}),Jb.apply(this,arguments)}function eR(n,e){return tR.apply(this,arguments)}function tR(){return tR=(0,Se.Z)(function*(n,e){const t=ht(n);e?(t.vu.delete(2),yield Qh(t)):e||(t.vu.add(2),yield g_(t),t.bu.set("Unknown"))}),tR.apply(this,arguments)}function v_(n){return n.Su||(n.Su=function(e,t,r){const i=ht(e);return i.fu(),new DN(t,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(n.datastore,n.asyncQueue,{uo:Hx.bind(null,n),ao:Zb.bind(null,n),nu:qx.bind(null,n)}),n.Ru.push(function(){var e=(0,Se.Z)(function*(t){t?(n.Su.Qo(),$x(n)?Mw(n):n.bu.set("Unknown")):(yield n.Su.stop(),zx(n))});return function(t){return e.apply(this,arguments)}}())),n.Su}function Jh(n){return n.Du||(n.Du=function(e,t,r){const i=ht(e);return i.fu(),new Ux(t,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(n.datastore,n.asyncQueue,{uo:Zx.bind(null,n),ao:Xx.bind(null,n),au:RN.bind(null,n),cu:JV.bind(null,n)}),n.Ru.push(function(){var e=(0,Se.Z)(function*(t){t?(n.Du.Qo(),yield zl(n)):(yield n.Du.stop(),n.Eu.length>0&&(Ze("RemoteStore",`Stopping write stream with ${n.Eu.length} pending writes`),n.Eu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Du}class nR{constructor(e,t,r,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new pi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}static createAndSchedule(e,t,r,i,s){const c=Date.now()+r,h=new nR(e,t,c,i,s);return h.start(r),h}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Be(ge.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Xp(n,e){if(qr("AsyncQueue",`${e}: ${n}`),qi(n))return new Be(ge.UNAVAILABLE,`${e}: ${n}`);throw n}class Hl{constructor(e){this.comparator=e?(t,r)=>e(t,r)||Je.comparator(t.key,r.key):(t,r)=>Je.comparator(t.key,r.key),this.keyedMap=i_(),this.sortedSet=new dr(this.comparator)}static emptySet(e){return new Hl(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Hl)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new Hl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class rR{constructor(){this.Cu=new dr(Je.comparator)}track(e){const t=e.doc.key,r=this.Cu.get(t);r?0!==e.type&&3===r.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==r.type?this.Cu=this.Cu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Cu=this.Cu.remove(t):1===e.type&&2===r.type?this.Cu=this.Cu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):Et():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,r)=>{e.push(r)}),e}}class Jp{constructor(e,t,r,i,s,c,h,p,g){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=c,this.syncStateChanged=h,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,t,r,i,s){const c=[];return t.forEach(h=>{c.push({type:0,doc:h})}),new Jp(e,t,Hl.emptySet(t),c,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&n_(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class iR{constructor(){this.Nu=void 0,this.listeners=[]}}class ef{constructor(){this.queries=new Nl(e=>PS(e),n_),this.onlineState="Unknown",this.ku=new Set}}function Ow(n,e){return w_.apply(this,arguments)}function w_(){return w_=(0,Se.Z)(function*(n,e){const t=ht(n),r=e.query;let i=!1,s=t.queries.get(r);if(s||(i=!0,s=new iR),i)try{s.Nu=yield t.onListen(r)}catch(c){const h=Xp(c,`Initialization of query '${Fh(e.query)}' failed`);return void e.onError(h)}t.queries.set(r,s),s.listeners.push(e),e.Mu(t.onlineState),s.Nu&&e.$u(s.Nu)&&em(t)}),w_.apply(this,arguments)}function E_(n,e){return eT.apply(this,arguments)}function eT(){return eT=(0,Se.Z)(function*(n,e){const t=ht(n),r=e.query;let i=!1;const s=t.queries.get(r);if(s){const c=s.listeners.indexOf(e);c>=0&&(s.listeners.splice(c,1),i=0===s.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),eT.apply(this,arguments)}function tT(n,e){const t=ht(n);let r=!1;for(const i of e){const c=t.queries.get(i.query);if(c){for(const h of c.listeners)h.$u(i)&&(r=!0);c.Nu=i}}r&&em(t)}function nT(n,e,t){const r=ht(n),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(t);r.queries.delete(e)}function em(n){n.ku.forEach(e=>{e.next()})}class sR{constructor(e,t,r){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new Jp(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){return!e.fromCache||(!this.options.Ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=Jp.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class eU{constructor(e,t){this.Gu=e,this.byteLength=t}Qu(){return"metadata"in this.Gu}}class MN{constructor(e){this.serializer=e}rr(e){return Fl(this.serializer,e)}ur(e){return e.metadata.exists?ox(this.serializer,e.document,!1):hr.newNoDocument(this.rr(e.metadata.name),this.cr(e.metadata.readTime))}cr(e){return Kr(e)}}class oR{constructor(e,t,r){this.ju=e,this.localStore=t,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=aR(e)}zu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Gu.namedQuery)this.queries.push(e.Gu.namedQuery);else if(e.Gu.documentMetadata){this.documents.push({metadata:e.Gu.documentMetadata}),e.Gu.documentMetadata.exists||++t;const r=Sn.fromString(e.Gu.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.Gu.document&&(this.documents[this.documents.length-1].document=e.Gu.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Wu(e){const t=new Map,r=new MN(this.serializer);for(const i of e)if(i.metadata.queries){const s=r.rr(i.metadata.name);for(const c of i.metadata.queries){const h=(t.get(c)||on()).add(s);t.set(c,h)}}return t}complete(){var e=this;return(0,Se.Z)(function*(){const t=yield function Tw(n,e,t,r){return Ob.apply(this,arguments)}(e.localStore,new MN(e.serializer),e.documents,e.ju.id),r=e.Wu(e.documents);for(const i of e.queries)yield bN(e.localStore,i,r.get(i.name));return e.progress.taskState="Success",{progress:e.progress,Hu:e.collectionGroups,Ju:t}})()}}function aR(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class cR{constructor(e){this.key=e}}class lR{constructor(e){this.key=e}}class uR{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=on(),this.mutatedKeys=on(),this.tc=kS(e),this.ec=new Hl(this.tc)}get nc(){return this.Yu}sc(e,t){const r=t?t.ic:new rR,i=t?t.ec:this.ec;let s=t?t.mutatedKeys:this.mutatedKeys,c=i,h=!1;const p="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,g="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((w,D)=>{const M=i.get(w),N=r_(this.query,D)?D:null,K=!!M&&this.mutatedKeys.has(M.key),te=!!N&&(N.hasLocalMutations||this.mutatedKeys.has(N.key)&&N.hasCommittedMutations);let X=!1;M&&N?M.data.isEqual(N.data)?K!==te&&(r.track({type:3,doc:N}),X=!0):this.rc(M,N)||(r.track({type:2,doc:N}),X=!0,(p&&this.tc(N,p)>0||g&&this.tc(N,g)<0)&&(h=!0)):!M&&N?(r.track({type:0,doc:N}),X=!0):M&&!N&&(r.track({type:1,doc:M}),X=!0,(p||g)&&(h=!0)),X&&(N?(c=c.add(N),s=te?s.add(w):s.delete(w)):(c=c.delete(w),s=s.delete(w)))}),null!==this.query.limit)for(;c.size>this.query.limit;){const w="F"===this.query.limitType?c.last():c.first();c=c.delete(w.key),s=s.delete(w.key),r.track({type:1,doc:w})}return{ec:c,ic:r,zi:h,mutatedKeys:s}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const s=e.ic.xu();s.sort((g,w)=>function(D,M){const N=K=>{switch(K){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Et()}};return N(D)-N(M)}(g.type,w.type)||this.tc(g.doc,w.doc)),this.oc(r);const c=t?this.uc():[],h=0===this.Zu.size&&this.current?1:0,p=h!==this.Xu;return this.Xu=h,0!==s.length||p?{snapshot:new Jp(this.query,e.ec,i,s,e.mutatedKeys,0===h,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:c}:{cc:c}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new rR,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(t=>this.Yu=this.Yu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Yu=this.Yu.delete(t)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=on(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const t=[];return e.forEach(r=>{this.Zu.has(r)||t.push(new lR(r))}),this.Zu.forEach(r=>{e.has(r)||t.push(new cR(r))}),t}hc(e){this.Yu=e.ir,this.Zu=on();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return Jp.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class dR{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class hR{constructor(e){this.key=e,this.fc=!1}}class fR{constructor(e,t,r,i,s,c){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=c,this.dc={},this.wc=new Nl(h=>PS(h),n_),this._c=new Map,this.mc=new Set,this.gc=new dr(Je.comparator),this.yc=new Map,this.Ic=new vw,this.Tc={},this.Ec=new Map,this.Ac=sd.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function PN(n,e){return rT.apply(this,arguments)}function rT(){return rT=(0,Se.Z)(function*(n,e){const t=bR(n);let r,i;const s=t.wc.get(e);if(s)r=s.targetId,t.sharedClientState.addLocalQueryTarget(r),i=s.view.lc();else{const c=yield Yh(t.localStore,_o(e)),h=t.sharedClientState.addLocalQueryTarget(c.targetId);r=c.targetId,i=yield Fw(t,e,r,"current"===h,c.resumeToken),t.isPrimaryClient&&Rw(t.remoteStore,c)}return i}),rT.apply(this,arguments)}function Fw(n,e,t,r,i){return I_.apply(this,arguments)}function I_(){return I_=(0,Se.Z)(function*(n,e,t,r,i){n.Rc=(D,M,N)=>{return(K=(0,Se.Z)(function*(te,X,be,$e){let ze=X.view.sc(be);ze.zi&&(ze=yield bw(te.localStore,X.query,!1).then(({documents:Ct})=>X.view.sc(Ct,ze)));const Qe=$e&&$e.targetChanges.get(X.targetId),_t=X.view.applyChanges(ze,te.isPrimaryClient,Qe);return $w(te,X.targetId,_t.cc),_t.snapshot}),function(te,X,be,$e){return K.apply(this,arguments)})(n,D,M,N);var K};const s=yield bw(n.localStore,e,!0),c=new uR(e,s.ir),h=c.sc(s.documents),p=l_.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,i),g=c.applyChanges(h,n.isPrimaryClient,p);$w(n,t,g.cc);const w=new dR(e,t,c);return n.wc.set(e,w),n._c.has(t)?n._c.get(t).push(e):n._c.set(t,[e]),g.snapshot}),I_.apply(this,arguments)}function tU(n,e){return Lw.apply(this,arguments)}function Lw(){return Lw=(0,Se.Z)(function*(n,e){const t=ht(n),r=t.wc.get(e),i=t._c.get(r.targetId);if(i.length>1)return t._c.set(r.targetId,i.filter(s=>!n_(s,e))),void t.wc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Zp(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),__(t.remoteStore,r.targetId),tm(t,r.targetId)}).catch(xh))):(tm(t,r.targetId),yield Zp(t.localStore,r.targetId,!0))}),Lw.apply(this,arguments)}function sT(){return sT=(0,Se.Z)(function*(n,e,t){const r=TR(n);try{const i=yield function(s,c){const h=ht(s),p=Vr.now(),g=c.reduce((M,N)=>M.add(N.key),on());let w,D;return h.persistence.runTransaction("Locally write mutations","readwrite",M=>{let N=yo(),K=on();return h.Zi.getEntries(M,g).next(te=>{N=te,N.forEach((X,be)=>{be.isValidDocument()||(K=K.add(X))})}).next(()=>h.localDocuments.getOverlayedDocuments(M,N)).next(te=>{w=te;const X=[];for(const be of c){const $e=qS(be,w.get(be.key).overlayedDocument);null!=$e&&X.push(new Ol(be.key,$e,LI($e.value.mapValue),yr.exists(!0)))}return h.mutationQueue.addMutationBatch(M,p,X,c)}).next(te=>{D=te;const X=te.applyToLocalDocumentSet(w,K);return h.documentOverlayCache.saveOverlays(M,te.batchId,X)})}).then(()=>({batchId:D.batchId,changes:YI(w)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,c,h){let p=s.Tc[s.currentUser.toKey()];p||(p=new dr(Zt)),p=p.insert(c,h),s.Tc[s.currentUser.toKey()]=p}(r,i.batchId,t),yield ya(r,i.changes),yield zl(r.remoteStore)}catch(i){const s=Xp(i,"Failed to persist write");t.reject(s)}}),sT.apply(this,arguments)}function pR(n,e){return mR.apply(this,arguments)}function mR(){return mR=(0,Se.Z)(function*(n,e){const t=ht(n);try{const r=yield function XV(n,e){const t=ht(n),r=e.snapshotVersion;let i=t.Ji;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const c=t.Zi.newChangeBuffer({trackRemovals:!0});i=t.Ji;const h=[];e.targetChanges.forEach((w,D)=>{const M=i.get(D);if(!M)return;h.push(t.Bs.removeMatchingKeys(s,w.removedDocuments,D).next(()=>t.Bs.addMatchingKeys(s,w.addedDocuments,D)));let N=M.withSequenceNumber(s.currentSequenceNumber);var K,te,X;null!==e.targetMismatches.get(D)?N=N.withResumeToken(mi.EMPTY_BYTE_STRING,Ut.min()).withLastLimboFreeSnapshotVersion(Ut.min()):w.resumeToken.approximateByteSize()>0&&(N=N.withResumeToken(w.resumeToken,r)),i=i.insert(D,N),te=N,X=w,(0===(K=M).resumeToken.approximateByteSize()||te.snapshotVersion.toMicroseconds()-K.snapshotVersion.toMicroseconds()>=3e8||X.addedDocuments.size+X.modifiedDocuments.size+X.removedDocuments.size>0)&&h.push(t.Bs.updateTargetData(s,N))});let p=yo(),g=on();if(e.documentUpdates.forEach(w=>{e.resolvedLimboDocuments.has(w)&&h.push(t.persistence.referenceDelegate.updateLimboDocument(s,w))}),h.push(wN(s,c,e.documentUpdates).next(w=>{p=w.nr,g=w.sr})),!r.isEqual(Ut.min())){const w=t.Bs.getLastRemoteSnapshotVersion(s).next(D=>t.Bs.setTargetsMetadata(s,s.currentSequenceNumber,r));h.push(w)}return he.waitFor(h).next(()=>c.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,p,g)).next(()=>p)}).then(s=>(t.Ji=i,s))}(t.localStore,e);e.targetChanges.forEach((i,s)=>{const c=t.yc.get(s);c&&(Pt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?c.fc=!0:i.modifiedDocuments.size>0?Pt(c.fc):i.removedDocuments.size>0&&(Pt(c.fc),c.fc=!1))}),yield ya(t,r,e)}catch(r){yield xh(r)}}),mR.apply(this,arguments)}function kN(n,e,t){const r=ht(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.wc.forEach((s,c)=>{const h=c.view.Mu(e);h.snapshot&&i.push(h.snapshot)}),function(s,c){const h=ht(s);h.onlineState=c;let p=!1;h.queries.forEach((g,w)=>{for(const D of w.listeners)D.Mu(c)&&(p=!0)}),p&&em(h)}(r.eventManager,e),i.length&&r.dc.nu(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function NN(n,e,t){return oT.apply(this,arguments)}function oT(){return oT=(0,Se.Z)(function*(n,e,t){const r=ht(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.yc.get(e),s=i&&i.key;if(s){let c=new dr(Je.comparator);c=c.insert(s,hr.newNoDocument(s,Ut.min()));const h=on().add(s),p=new iw(Ut.min(),new Map,new dr(Zt),c,h);yield pR(r,p),r.gc=r.gc.remove(s),r.yc.delete(e),cT(r)}else yield Zp(r.localStore,e,!1).then(()=>tm(r,e,t)).catch(xh)}),oT.apply(this,arguments)}function ON(n,e){return aT.apply(this,arguments)}function aT(){return aT=(0,Se.Z)(function*(n,e){const t=ht(n),r=e.batch.batchId;try{const i=yield function Iw(n,e){const t=ht(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=t.Zi.newChangeBuffer({trackRemovals:!0});return function(c,h,p,g){const w=p.batch,D=w.keys();let M=he.resolve();return D.forEach(N=>{M=M.next(()=>g.getEntry(h,N)).next(K=>{const te=p.docVersions.get(N);Pt(null!==te),K.version.compareTo(te)<0&&(w.applyToRemoteDocument(K,p),K.isValidDocument()&&(K.setReadTime(p.commitVersion),g.addEntry(K)))})}),M.next(()=>c.mutationQueue.removeMutationBatch(h,w))}(t,r,e,s).next(()=>s.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let h=on();for(let p=0;p<c.mutationResults.length;++p)c.mutationResults[p].transformResults.length>0&&(h=h.add(c.batch.mutations[p].key));return h}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}(t.localStore,e);_R(t,r,null),Bw(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield ya(t,i)}catch(i){yield xh(i)}}),aT.apply(this,arguments)}function gR(n,e,t){return Vw.apply(this,arguments)}function Vw(){return Vw=(0,Se.Z)(function*(n,e,t){const r=ht(n);try{const i=yield function(s,c){const h=ht(s);return h.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let g;return h.mutationQueue.lookupMutationBatch(p,c).next(w=>(Pt(null!==w),g=w.keys(),h.mutationQueue.removeMutationBatch(p,w))).next(()=>h.mutationQueue.performConsistencyCheck(p)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(p,g,c)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,g)).next(()=>h.localDocuments.getDocuments(p,g))})}(r.localStore,e);_R(r,e,t),Bw(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield ya(r,i)}catch(i){yield xh(i)}}),Vw.apply(this,arguments)}function Uw(){return Uw=(0,Se.Z)(function*(n,e){const t=ht(n);$l(t.remoteStore)||Ze("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(s){const c=ht(s);return c.persistence.runTransaction("Get highest unacknowledged batch id","readonly",h=>c.mutationQueue.getHighestUnacknowledgedBatchId(h))}(t.localStore);if(-1===r)return void e.resolve();const i=t.Ec.get(r)||[];i.push(e),t.Ec.set(r,i)}catch(r){const i=Xp(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}),Uw.apply(this,arguments)}function Bw(n,e){(n.Ec.get(e)||[]).forEach(t=>{t.resolve()}),n.Ec.delete(e)}function _R(n,e,t){const r=ht(n);let i=r.Tc[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(t?s.reject(t):s.resolve(),i=i.remove(e)),r.Tc[r.currentUser.toKey()]=i}}function tm(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n._c.get(e))n.wc.delete(r),t&&n.dc.Pc(r,t);n._c.delete(e),n.isPrimaryClient&&n.Ic.Is(e).forEach(r=>{n.Ic.containsKey(r)||jw(n,r)})}function jw(n,e){n.mc.delete(e.path.canonicalString());const t=n.gc.get(e);null!==t&&(__(n.remoteStore,t),n.gc=n.gc.remove(e),n.yc.delete(t),cT(n))}function $w(n,e,t){for(const r of t)r instanceof cR?(n.Ic.addReference(r.key,e),yR(n,r)):r instanceof lR?(Ze("SyncEngine","Document no longer in limbo: "+r.key),n.Ic.removeReference(r.key,e),n.Ic.containsKey(r.key)||jw(n,r.key)):Et()}function yR(n,e){const t=e.key,r=t.path.canonicalString();n.gc.get(t)||n.mc.has(r)||(Ze("SyncEngine","New document in limbo: "+t),n.mc.add(r),cT(n))}function cT(n){for(;n.mc.size>0&&n.gc.size<n.maxConcurrentLimboResolutions;){const e=n.mc.values().next().value;n.mc.delete(e);const t=new Je(Sn.fromString(e)),r=n.Ac.next();n.yc.set(r,new hR(t)),n.gc=n.gc.insert(t,r),Rw(n.remoteStore,new Vc(_o(Nh(t.path)),r,"TargetPurposeLimboResolution",Go.ct))}}function ya(n,e,t){return lT.apply(this,arguments)}function lT(){return lT=(0,Se.Z)(function*(n,e,t){const r=ht(n),i=[],s=[],c=[];var h;r.wc.isEmpty()||(r.wc.forEach((h,p)=>{c.push(r.Rc(p,e,t).then(g=>{if((g||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(p.targetId,g?.fromCache?"not-current":"current"),g){i.push(g);const w=Rx.Li(p.targetId,g);s.push(w)}}))}),yield Promise.all(c),r.dc.nu(i),yield(h=(0,Se.Z)(function*(p,g){const w=ht(p);try{yield w.persistence.runTransaction("notifyLocalViewChanges","readwrite",D=>he.forEach(g,M=>he.forEach(M.Fi,N=>w.persistence.referenceDelegate.addReference(D,M.targetId,N)).next(()=>he.forEach(M.Bi,N=>w.persistence.referenceDelegate.removeReference(D,M.targetId,N)))))}catch(D){if(!qi(D))throw D;Ze("LocalStore","Failed to update sequence numbers: "+D)}for(const D of g){const M=D.targetId;if(!D.fromCache){const N=w.Ji.get(M),te=N.withLastLimboFreeSnapshotVersion(N.snapshotVersion);w.Ji=w.Ji.insert(M,te)}}}),function(p,g){return h.apply(this,arguments)})(r.localStore,s))}),lT.apply(this,arguments)}function LN(n,e){return zw.apply(this,arguments)}function zw(){return zw=(0,Se.Z)(function*(n,e){const t=ht(n);if(!t.currentUser.isEqual(e)){Ze("SyncEngine","User change. New user:",e.toKey());const r=yield Pb(t.localStore,e);t.currentUser=e,(i=t).Ec.forEach(c=>{c.forEach(h=>{h.reject(new Be(ge.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.Ec.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield ya(t,r.er)}var i}),zw.apply(this,arguments)}function vR(n,e){const t=ht(n),r=t.yc.get(e);if(r&&r.fc)return on().add(r.key);{let i=on();const s=t._c.get(e);if(!s)return i;for(const c of s){const h=t.wc.get(c);i=i.unionWith(h.view.nc)}return i}}function nU(n,e){return uT.apply(this,arguments)}function uT(){return uT=(0,Se.Z)(function*(n,e){const t=ht(n),r=yield bw(t.localStore,e.query,!0),i=e.view.hc(r);return t.isPrimaryClient&&$w(t,e.targetId,i.cc),i}),uT.apply(this,arguments)}function rU(n,e){return dT.apply(this,arguments)}function dT(){return dT=(0,Se.Z)(function*(n,e){const t=ht(n);return kx(t.localStore,e).then(r=>ya(t,r))}),dT.apply(this,arguments)}function iU(n,e,t,r){return wR.apply(this,arguments)}function wR(){return wR=(0,Se.Z)(function*(n,e,t,r){const i=ht(n),s=yield function(c,h){const p=ht(c),g=ht(p.mutationQueue);return p.persistence.runTransaction("Lookup mutation documents","readonly",w=>g.Sn(w,h).next(D=>D?p.localDocuments.getDocuments(w,D):he.resolve(null)))}(i.localStore,e);var h;null!==s?("pending"===t?yield zl(i.remoteStore):"acknowledged"===t||"rejected"===t?(_R(i,e,r||null),Bw(i,e),h=e,ht(ht(i.localStore).mutationQueue).Cn(h)):Et(),yield ya(i,s)):Ze("SyncEngine","Cannot apply mutation batch with id: "+e)}),wR.apply(this,arguments)}function hT(){return hT=(0,Se.Z)(function*(n,e){const t=ht(n);if(bR(t),TR(t),!0===e&&!0!==t.vc){const r=t.sharedClientState.getAllActiveQueryTargets(),i=yield UN(t,r.toArray());t.vc=!0,yield eR(t.remoteStore,!0);for(const s of i)Rw(t.remoteStore,s)}else if(!1===e&&!1!==t.vc){const r=[];let i=Promise.resolve();t._c.forEach((s,c)=>{t.sharedClientState.isLocalQueryTarget(c)?r.push(c):i=i.then(()=>(tm(t,c),Zp(t.localStore,c,!0))),__(t.remoteStore,c)}),yield i,yield UN(t,r),function(s){const c=ht(s);c.yc.forEach((h,p)=>{__(c.remoteStore,p)}),c.Ic.Ts(),c.yc=new Map,c.gc=new dr(Je.comparator)}(t),t.vc=!1,yield eR(t.remoteStore,!1)}}),hT.apply(this,arguments)}function UN(n,e,t){return ER.apply(this,arguments)}function ER(){return ER=(0,Se.Z)(function*(n,e,t){const r=ht(n),i=[],s=[];for(const c of e){let h;const p=r._c.get(c);if(p&&0!==p.length){h=yield Yh(r.localStore,_o(p[0]));for(const g of p){const w=r.wc.get(g),D=yield nU(r,w);D.snapshot&&s.push(D.snapshot)}}else{const g=yield IN(r.localStore,c);h=yield Yh(r.localStore,g),yield Fw(r,BN(g),c,!1,h.resumeToken)}i.push(h)}return r.dc.nu(s),i}),ER.apply(this,arguments)}function BN(n){return MS(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function sU(n){const e=ht(n);return ht(ht(e.localStore).persistence).$i()}function oU(n,e,t,r){return fT.apply(this,arguments)}function fT(){return fT=(0,Se.Z)(function*(n,e,t,r){const i=ht(n);if(i.vc)return void Ze("SyncEngine","Ignoring unexpected query state notification.");const s=i._c.get(e);if(s&&s.length>0)switch(t){case"current":case"not-current":{const c=yield kx(i.localStore,ZI(s[0])),h=iw.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,mi.EMPTY_BYTE_STRING);yield ya(i,c,h);break}case"rejected":yield Zp(i.localStore,e,!0),tm(i,e,r);break;default:Et()}}),fT.apply(this,arguments)}function aU(n,e,t){return IR.apply(this,arguments)}function IR(){return IR=(0,Se.Z)(function*(n,e,t){const r=bR(n);if(r.vc){for(const i of e){if(r._c.has(i)){Ze("SyncEngine","Adding an already active target "+i);continue}const s=yield IN(r.localStore,i),c=yield Yh(r.localStore,s);yield Fw(r,BN(s),c.targetId,!1,c.resumeToken),Rw(r.remoteStore,c)}for(const i of t)r._c.has(i)&&(yield Zp(r.localStore,i,!1).then(()=>{__(r.remoteStore,i),tm(r,i)}).catch(xh))}}),IR.apply(this,arguments)}function bR(n){const e=ht(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=pR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=vR.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=NN.bind(null,e),e.dc.nu=tT.bind(null,e.eventManager),e.dc.Pc=nT.bind(null,e.eventManager),e}function TR(n){const e=ht(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=ON.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=gR.bind(null,e),e}class b_{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,Se.Z)(function*(){t.serializer=Zi(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return Ew(this.persistence,new vN,e.initialUser,this.serializer)}createPersistence(e){return new xb(Rb.zs,this.serializer)}createSharedClientState(e){return new Fx}terminate(){var e=this;return(0,Se.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class o extends b_{constructor(e,t,r){super(),this.Vc=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,Se.Z)(function*(){yield t().call(r,e),yield r.Vc.initialize(r,e),yield TR(r.Vc.syncEngine),yield zl(r.Vc.remoteStore),yield r.persistence.Ii(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return Ew(this.persistence,new vN,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){return new Db(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const r=new Sk(t,this.persistence);return new Ak(e.asyncQueue,r)}createPersistence(e){const t=xx(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?Rs.withCacheSize(this.cacheSizeBytes):Rs.DEFAULT;return new Sx(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,$b(),zb(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new Fx}}class a extends o{constructor(e,t){super(e,t,!1),this.Vc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,Se.Z)(function*(){yield t().call(r,e);const i=r.Vc.syncEngine;r.sharedClientState instanceof Bb&&(r.sharedClientState.syncEngine={jr:iU.bind(null,i),zr:oU.bind(null,i),Wr:aU.bind(null,i),$i:sU.bind(null,i),Qr:rU.bind(null,i)},yield r.sharedClientState.start()),yield r.persistence.Ii(function(){var s=(0,Se.Z)(function*(c){yield function VN(n,e){return hT.apply(this,arguments)}(r.Vc.syncEngine,c),r.gcScheduler&&(c&&!r.gcScheduler.started?r.gcScheduler.start():c||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(c&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():c||r.indexBackfillerScheduler.stop())});return function(c){return s.apply(this,arguments)}}())})()}createSharedClientState(e){const t=$b();if(!Bb.D(t))throw new Be(ge.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=xx(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Bb(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class l{initialize(e,t){var r=this;return(0,Se.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>kN(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=LN.bind(null,r.syncEngine),yield eR(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new ef}createDatastore(e){const t=Zi(e.databaseInfo.databaseId),r=new Vx(e.databaseInfo);return new AN(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,s=h=>kN(this.syncEngine,h,0),c=Lx.D()?new Lx:new TN,new qb(t,r,i,s,c);var t,r,i,s,c}createSyncEngine(e,t){return function(r,i,s,c,h,p,g){const w=new fR(r,i,s,c,h,p);return g&&(w.vc=!0),w}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,Se.Z)(function*(t){const r=ht(t);Ze("RemoteStore","RemoteStore shutting down."),r.vu.add(5),yield g_(r),r.Pu.shutdown(),r.bu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function d(n,e=10240){let t=0;return{read:()=>(0,Se.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,Se.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class f{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):qr("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class m{constructor(e,t){this.Cc=e,this.serializer=t,this.metadata=new pi,this.buffer=new Uint8Array,this.xc=new TextDecoder("utf-8"),this.Nc().then(r=>{r&&r.Qu()?this.metadata.resolve(r.Gu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(r?.Gu)}`))},r=>this.metadata.reject(r))}close(){return this.Cc.cancel()}getMetadata(){var e=this;return(0,Se.Z)(function*(){return e.metadata.promise})()}bc(){var e=this;return(0,Se.Z)(function*(){return yield e.getMetadata(),e.Nc()})()}Nc(){var e=this;return(0,Se.Z)(function*(){const t=yield e.kc();if(null===t)return null;const r=e.xc.decode(t),i=Number(r);isNaN(i)&&e.Mc(`length string (${r}) is not valid number`);const s=yield e.$c(i);return new eU(JSON.parse(s),t.length+i)})()}Oc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}kc(){var e=this;return(0,Se.Z)(function*(){for(;e.Oc()<0&&!(yield e.Fc()););if(0===e.buffer.length)return null;const t=e.Oc();t<0&&e.Mc("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}$c(e){var t=this;return(0,Se.Z)(function*(){for(;t.buffer.length<e;)(yield t.Fc())&&t.Mc("Reached the end of bundle when more is expected.");const r=t.xc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}Mc(e){throw this.Cc.cancel(),new Error(`Invalid bundle format: ${e}`)}Fc(){var e=this;return(0,Se.Z)(function*(){const t=yield e.Cc.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class v{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,Se.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Be(ge.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(i=(0,Se.Z)(function*(s,c){const h=ht(s),p=Vp(h.serializer)+"/documents",g={documents:c.map(N=>u_(h.serializer,N))},w=yield h.vo("BatchGetDocuments",p,g,c.length),D=new Map;w.forEach(N=>{const K=function d_(n,e){return"found"in e?function(t,r){Pt(!!r.found);const i=Fl(t,r.found.name),s=Kr(r.found.updateTime),c=r.found.createTime?Kr(r.found.createTime):Ut.min(),h=new ds({mapValue:{fields:r.found.fields}});return hr.newFoundDocument(i,s,c,h)}(n,e):"missing"in e?function(t,r){Pt(!!r.missing),Pt(!!r.readTime);const i=Fl(t,r.missing),s=Kr(r.readTime);return hr.newNoDocument(i,s)}(n,e):Et()}(h.serializer,N);D.set(K.key.toString(),K)});const M=[];return c.forEach(N=>{const K=D.get(N.toString());Pt(!!K),M.push(K)}),M}),function(s,c){return i.apply(this,arguments)})(t.datastore,e);var i;return r.forEach(i=>t.recordVersion(i)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Lp(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,Se.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,i)=>{const s=Je.fromPath(i);e.mutations.push(new ew(s,e.precondition(s)))}),yield(r=(0,Se.Z)(function*(i,s){const c=ht(i),h=Vp(c.serializer)+"/documents",p={writes:s.map(g=>$h(c.serializer,g))};yield c.Io("Commit",h,p)}),function(i,s){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Et();t=Ut.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new Be(ge.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Ut.min())?yr.exists(!1):yr.updateTime(t):yr.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Ut.min()))throw new Be(ge.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return yr.updateTime(t)}return yr.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class E{constructor(e,t,r,i,s){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=i,this.deferred=s,this.Bc=r.maxAttempts,this.qo=new Sw(this.asyncQueue,"transaction_retry")}run(){this.Bc-=1,this.Lc()}Lc(){var e=this;this.qo.No((0,Se.Z)(function*(){const t=new v(e.datastore),r=e.qc(t);r&&r.then(i=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(i)}).catch(s=>{e.Uc(s)}))}).catch(i=>{e.Uc(i)})}))}qc(e){try{const t=this.updateFunction(e);return!Rh(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Uc(e){this.Bc>0&&this.Kc(e)?(this.Bc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Lc(),Promise.resolve()))):this.deferred.reject(e)}Kc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!sb(t)}return!1}}class C{constructor(e,t,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Ai.UNAUTHENTICATED,this.clientId=Zu.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var c=(0,Se.Z)(function*(h){Ze("FirestoreClient","Received user=",h.uid),yield s.authCredentialListener(h),s.user=h});return function(h){return c.apply(this,arguments)}}()),this.appCheckCredentials.start(r,c=>(Ze("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}getConfiguration(){var e=this;return(0,Se.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Be(ge.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new pi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Se.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=Xp(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function x(n,e){return k.apply(this,arguments)}function k(){return k=(0,Se.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Ze("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=(0,Se.Z)(function*(s){r.isEqual(s)||(yield Pb(e.localStore,s),r=s)});return function(s){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),k.apply(this,arguments)}function $(n,e){return ee.apply(this,arguments)}function ee(){return ee=(0,Se.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield xe(n);Ze("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>Jx(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,s)=>Jx(e.remoteStore,s)),n._onlineComponents=e}),ee.apply(this,arguments)}function oe(n){return"FirebaseError"===n.name?n.code===ge.FAILED_PRECONDITION||n.code===ge.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}function xe(n){return Ke.apply(this,arguments)}function Ke(){return Ke=(0,Se.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Ze("FirestoreClient","Using user provided OfflineComponentProvider");try{yield x(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!oe(t))throw t;$o("Error using user provided cache. Falling back to memory cache: "+t),yield x(n,new b_)}}else Ze("FirestoreClient","Using default OfflineComponentProvider"),yield x(n,new b_);return n._offlineComponents}),Ke.apply(this,arguments)}function dt(n){return kt.apply(this,arguments)}function kt(){return kt=(0,Se.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Ze("FirestoreClient","Using user provided OnlineComponentProvider"),yield $(n,n._uninitializedComponentsProvider._online)):(Ze("FirestoreClient","Using default OnlineComponentProvider"),yield $(n,new l))),n._onlineComponents}),kt.apply(this,arguments)}function je(n){return xe(n).then(e=>e.persistence)}function qt(n){return xe(n).then(e=>e.localStore)}function ln(n){return dt(n).then(e=>e.remoteStore)}function $n(n){return dt(n).then(e=>e.syncEngine)}function vo(n){return od.apply(this,arguments)}function od(){return od=(0,Se.Z)(function*(n){const e=yield dt(n),t=e.eventManager;return t.onListen=PN.bind(null,e.syncEngine),t.onUnlisten=tU.bind(null,e.syncEngine),t}),od.apply(this,arguments)}function uU(n,e,t={}){const r=new pi;return n.asyncQueue.enqueueAndForget((0,Se.Z)(function*(){return function(i,s,c,h,p){const g=new f({next:D=>{s.enqueueAndForget(()=>E_(i,w));const M=D.docs.has(c);!M&&D.fromCache?p.reject(new Be(ge.UNAVAILABLE,"Failed to get document because the client is offline.")):M&&D.fromCache&&h&&"server"===h.source?p.reject(new Be(ge.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(D)},error:D=>p.reject(D)}),w=new sR(Nh(c.path),g,{includeMetadataChanges:!0,Ku:!0});return Ow(i,w)}(yield vo(n),n.asyncQueue,e,t,r)})),r.promise}function dU(n,e,t={}){const r=new pi;return n.asyncQueue.enqueueAndForget((0,Se.Z)(function*(){return function(i,s,c,h,p){const g=new f({next:D=>{s.enqueueAndForget(()=>E_(i,w)),D.fromCache&&"server"===h.source?p.reject(new Be(ge.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(D)},error:D=>p.reject(D)}),w=new sR(c,g,{includeMetadataChanges:!0,Ku:!0});return Ow(i,w)}(yield vo(n),n.asyncQueue,e,t,r)})),r.promise}function hU(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const fU=new Map;function zN(n,e,t){if(!t)throw new Be(ge.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function pU(n,e,t,r){if(!0===e&&!0===r)throw new Be(ge.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function mU(n){if(!Je.isDocumentKey(n))throw new Be(ge.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function gU(n){if(Je.isDocumentKey(n))throw new Be(ge.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function CR(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":Et()}function xn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Be(ge.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=CR(n);throw new Be(ge.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function _U(n,e){if(e<=0)throw new Be(ge.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class yU{constructor(e){var t,r;if(void 0===e.host){if(void 0!==e.ssl)throw new Be(ge.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Be(ge.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}pU("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=hU(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(i){if(void 0!==i.timeoutSeconds){if(isNaN(i.timeoutSeconds))throw new Be(ge.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new Be(ge.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new Be(ge.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class mT{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new yU({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Be(ge.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Be(ge.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new yU(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new qA;switch(t.type){case"firstParty":return new Ov(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Be(ge.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=fU.get(e);t&&(Ze("ComponentProvider","Removing Datastore"),fU.delete(e),t.terminate())}(this),Promise.resolve()}}function vU(n,e,t,r={}){var i;const s=(n=xn(n,mT))._getSettings(),c=`${e}:${t}`;if("firestore.googleapis.com"!==s.host&&s.host!==c&&$o("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},s),{host:c,ssl:!1})),r.mockUserToken){let h,p;if("string"==typeof r.mockUserToken)h=r.mockUserToken,p=Ai.MOCK_USER;else{h=(0,An.Sg)(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const g=r.mockUserToken.sub||r.mockUserToken.user_id;if(!g)throw new Be(ge.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Ai(g)}n._authCredentials=new WA(new TI(h,p))}}class Br{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ad(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Br(this.firestore,e,this._key)}}class Ws{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ws(this.firestore,e,this._query)}}class ad extends Ws{constructor(e,t,r){super(e,t,Nh(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Br(this.firestore,null,new Je(e))}withConverter(e){return new ad(this.firestore,e,this._path)}}function wU(n,e,...t){if(n=(0,An.m9)(n),zN("collection","path",e),n instanceof mT){const r=Sn.fromString(e,...t);return gU(r),new ad(n,null,r)}{if(!(n instanceof Br||n instanceof ad))throw new Be(ge.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Sn.fromString(e,...t));return gU(r),new ad(n.firestore,null,r)}}function DR(n,e,...t){if(n=(0,An.m9)(n),1===arguments.length&&(e=Zu.A()),zN("doc","path",e),n instanceof mT){const r=Sn.fromString(e,...t);return mU(r),new Br(n,null,new Je(r))}{if(!(n instanceof Br||n instanceof ad))throw new Be(ge.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Sn.fromString(e,...t));return mU(r),new Br(n.firestore,n instanceof ad?n.converter:null,new Je(r))}}function EU(n,e){return n=(0,An.m9)(n),e=(0,An.m9)(e),(n instanceof Br||n instanceof ad)&&(e instanceof Br||e instanceof ad)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function HN(n,e){return n=(0,An.m9)(n),e=(0,An.m9)(e),n instanceof Ws&&e instanceof Ws&&n.firestore===e.firestore&&n_(n._query,e._query)&&n.converter===e.converter}class PH{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new Sw(this,"async_queue_retry"),this.Xc=()=>{const t=zb();t&&Ze("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const e=zb();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=zb();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new pi;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return(0,Se.Z)(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(t){if(!qi(t))throw t;Ze("AsyncQueue","Operation failed with retryable error: "+t)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{throw this.Wc=r,this.Hc=!1,qr("INTERNAL UNHANDLED ERROR: ",function(s){let c=s.message||"";return s.stack&&(c=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),c}(r)),r}).then(r=>(this.Hc=!1,r))));return this.Gc=t,t}enqueueAfterDelay(e,t,r){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const i=nR.createAndSchedule(this,e,t,r,s=>this.na(s));return this.zc.push(i),i}Zc(){this.Wc&&Et()}verifyOperationInProgress(){}sa(){var e=this;return(0,Se.Z)(function*(){let t;do{t=e.Gc,yield t}while(t!==e.Gc)})()}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}function GN(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(n)}class kH{constructor(){this._progressObserver={},this._taskCompletionResolver=new pi,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class jr extends mT{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new PH,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||IU(this),this._firestoreClient.terminate()}}function OH(n,e){const t="object"==typeof n?n:(0,Uu.getApp)(),r="string"==typeof n?n:e||"(default)",i=(0,Uu._getProvider)(t,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=(0,An.P0)("firestore");s&&vU(i,...s)}return i}function Si(n){return n._firestoreClient||IU(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function IU(n){var e,t,r;const i=n._freezeSettings(),s=(h=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new CS(n._databaseId,h,n._persistenceKey,(g=i).host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,hU(g.experimentalLongPollingOptions),g.useFetchStreams));var h,g;n._firestoreClient=new C(n._authCredentials,n._appCheckCredentials,n._queue,s),null!==(t=i.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(r=i.cache)&&void 0!==r&&r._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}function bU(n,e,t){const r=new pi;return n.asyncQueue.enqueue((0,Se.Z)(function*(){try{yield x(n,t),yield $(n,e),r.resolve()}catch(i){const s=i;if(!oe(s))throw s;$o("Error enabling indexeddb cache. Falling back to memory cache: "+s),r.reject(s)}})).then(()=>r.promise)}function TU(n){if(n._initialized||n._terminated)throw new Be(ge.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class cd{constructor(e){this._byteString=e}static fromBase64String(e){try{return new cd(mi.fromBase64String(e))}catch(t){throw new Be(ge.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new cd(mi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class tf{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Be(ge.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Wr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class T_{constructor(e){this._methodName=e}}class AR{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Be(ge.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Be(ge.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Zt(this._lat,e._lat)||Zt(this._long,e._long)}}const GH=/^__.*__$/;class qH{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new Ol(e,this.data,this.fieldMask,t,this.fieldTransforms):new Uh(e,this.data,t,this.fieldTransforms)}}class CU{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Ol(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function DU(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Et()}}class SR{constructor(e,t,r,i,s,c){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===s&&this.ua(),this.fieldTransforms=s||[],this.fieldMask=c||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new SR(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.aa({path:r,la:!1});return i.fa(e),i}da(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.aa({path:r,la:!1});return i.ua(),i}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return MR(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(DU(this.ca)&&GH.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class WH{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Zi(e)}ya(e,t,r,i=!1){return new SR({ca:e,methodName:t,ga:r,path:Wr.emptyPath(),la:!1,ma:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function C_(n){const e=n._freezeSettings(),t=Zi(n._databaseId);return new WH(n._databaseId,!!e.ignoreUndefinedProperties,t)}function xR(n,e,t,r,i,s={}){const c=n.ya(s.merge||s.mergeFields?2:0,e,t,i);ZN("Data must be an object, but it was:",c,r);const h=xU(r,c);let p,g;if(s.merge)p=new po(c.fieldMask),g=c.fieldTransforms;else if(s.mergeFields){const w=[];for(const D of s.mergeFields){const M=yT(e,D,t);if(!c.contains(M))throw new Be(ge.INVALID_ARGUMENT,`Field '${M}' is specified in your field mask but missing from your input data.`);MU(w,M)||w.push(M)}p=new po(w),g=c.fieldTransforms.filter(D=>p.covers(D.field))}else p=null,g=c.fieldTransforms;return new qH(new ds(h),p,g)}class _T extends T_{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof _T}}function AU(n,e,t){return new SR({ca:3,ga:e.settings.ga,methodName:n._methodName,la:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class qN extends T_{_toFieldTransform(e){return new o_(e.path,new Lh)}isEqual(e){return e instanceof qN}}class KH extends T_{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=AU(this,e,!0),r=this.pa.map(s=>D_(s,t)),i=new ed(r);return new o_(e.path,i)}isEqual(e){return this===e}}class ZH extends T_{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=AU(this,e,!0),r=this.pa.map(s=>D_(s,t)),i=new Vh(r);return new o_(e.path,i)}isEqual(e){return this===e}}class YH extends T_{constructor(e,t){super(e),this.Ia=t}_toFieldTransform(e){const t=new Op(e.serializer,BS(e.serializer,this.Ia));return new o_(e.path,t)}isEqual(e){return this===e}}function WN(n,e,t,r){const i=n.ya(1,e,t);ZN("Data must be an object, but it was:",i,r);const s=[],c=ds.empty();Qu(r,(p,g)=>{const w=RR(e,p,t);g=(0,An.m9)(g);const D=i.da(w);if(g instanceof _T)s.push(w);else{const M=D_(g,D);null!=M&&(s.push(w),c.set(w,M))}});const h=new po(s);return new CU(c,h,i.fieldTransforms)}function KN(n,e,t,r,i,s){const c=n.ya(1,e,t),h=[yT(e,r,t)],p=[i];if(s.length%2!=0)throw new Be(ge.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let M=0;M<s.length;M+=2)h.push(yT(e,s[M])),p.push(s[M+1]);const g=[],w=ds.empty();for(let M=h.length-1;M>=0;--M)if(!MU(g,h[M])){const N=h[M];let K=p[M];K=(0,An.m9)(K);const te=c.da(N);if(K instanceof _T)g.push(N);else{const X=D_(K,te);null!=X&&(g.push(N),w.set(N,X))}}const D=new po(g);return new CU(w,D,c.fieldTransforms)}function SU(n,e,t,r=!1){return D_(t,n.ya(r?4:3,e))}function D_(n,e){if(RU(n=(0,An.m9)(n)))return ZN("Unsupported field value:",e,n),xU(n,e);if(n instanceof T_)return function(t,r){if(!DU(r.ca))throw r._a(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(t,r){const i=[];let s=0;for(const c of t){let h=D_(c,r.wa(s));null==h&&(h={nullValue:"NULL_VALUE"}),i.push(h),s++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=(0,An.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return BS(r.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=Vr.fromDate(t);return{timestampValue:jh(r.serializer,i)}}if(t instanceof Vr){const i=new Vr(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:jh(r.serializer,i)}}if(t instanceof AR)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof cd)return{bytesValue:lb(r.serializer,t._byteString)};if(t instanceof Br){const i=r.databaseId,s=t.firestore._databaseId;if(!s.isEqual(i))throw r._a(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:ow(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r._a(`Unsupported field value: ${CR(t)}`)}(n,e)}function xU(n,e){const t={};return wS(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Qu(n,(r,i)=>{const s=D_(i,e.ha(r));null!=s&&(t[r]=s)}),{mapValue:{fields:t}}}function RU(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Vr||n instanceof AR||n instanceof cd||n instanceof Br||n instanceof T_)}function ZN(n,e,t){if(!RU(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=CR(t);throw e._a("an object"===r?n+" a custom object":n+" "+r)}var r}function yT(n,e,t){if((e=(0,An.m9)(e))instanceof tf)return e._internalPath;if("string"==typeof e)return RR(n,e);throw MR("Field path arguments must be of type string or ",n,!1,void 0,t)}const QH=new RegExp("[~\\*/\\[\\]]");function RR(n,e,t){if(e.search(QH)>=0)throw MR(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new tf(...e.split("."))._internalPath}catch{throw MR(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function MR(n,e,t,r,i){const s=r&&!r.isEmpty(),c=void 0!==i;let h=`Function ${e}() called with invalid data`;t&&(h+=" (via `toFirestore()`)"),h+=". ";let p="";return(s||c)&&(p+=" (found",s&&(p+=` in field ${r}`),c&&(p+=` in document ${i}`),p+=")"),new Be(ge.INVALID_ARGUMENT,h+n+p)}function MU(n,e){return n.some(t=>t.isEqual(e))}class vT{constructor(e,t,r,i,s){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Br(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new XH(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(PR("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class XH extends vT{data(){return super.data()}}function PR(n,e){return"string"==typeof e?RR(n,e):e instanceof tf?e._internalPath:e._delegate._internalPath}function PU(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Be(ge.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class YN{}class wT extends YN{}function nm(n,e,...t){let r=[];e instanceof YN&&r.push(e),r=r.concat(t),function(i){const s=i.filter(h=>h instanceof Hw).length,c=i.filter(h=>h instanceof ET).length;if(s>1||s>0&&c>0)throw new Be(ge.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)n=i._apply(n);return n}class ET extends wT{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new ET(e,t,r)}_apply(e){const t=this._parse(e);return FU(e._query,t),new Ws(e.firestore,e.converter,KI(e._query,t))}_parse(e){const t=C_(e.firestore);return function(i,s,c,h,p,g,w){let D;if(p.isKeyField()){if("array-contains"===g||"array-contains-any"===g)throw new Be(ge.INVALID_ARGUMENT,`Invalid Query. You can't perform '${g}' queries on documentId().`);if("in"===g||"not-in"===g){OU(w,g);const M=[];for(const N of w)M.push(NU(h,i,N));D={arrayValue:{values:M}}}else D=NU(h,i,w)}else"in"!==g&&"not-in"!==g&&"array-contains-any"!==g||OU(w,g),D=SU(c,"where",w,"in"===g||"not-in"===g);return bn.create(p,g,D)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class Hw extends YN{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Hw(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===t.length?t[0]:Kn.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(r,i){let s=r;const c=i.getFlattenedFilters();for(const h of c)FU(s,h),s=KI(s,h)}(e._query,t),new Ws(e.firestore,e.converter,KI(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class QN extends wT{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new QN(e,t)}_apply(e){const t=function(r,i,s){if(null!==r.startAt)throw new Be(ge.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new Be(ge.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const c=new Ap(i,s);return function(h,p){if(null===qI(h)){const g=Kv(h);null!==g&&LU(0,g,p.field)}}(r,c),c}(e._query,this._field,this._direction);return new Ws(e.firestore,e.converter,function(r,i){const s=r.explicitOrderBy.concat([i]);return new kl(r.path,r.collectionGroup,s,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class kR extends wT{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new kR(e,t,r)}_apply(e){return new Ws(e.firestore,e.converter,t_(e._query,this._limit,this._limitType))}}class NR extends wT{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new NR(e,t,r)}_apply(e){const t=kU(e,this.type,this._docOrFields,this._inclusive);return new Ws(e.firestore,e.converter,(i=t,new kl((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,i,r.endAt)));var r,i}}class OR extends wT{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new OR(e,t,r)}_apply(e){const t=kU(e,this.type,this._docOrFields,this._inclusive);return new Ws(e.firestore,e.converter,(i=t,new kl((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,i)));var r,i}}function kU(n,e,t,r){if(t[0]=(0,An.m9)(t[0]),t[0]instanceof vT)return function(i,s,c,h,p){if(!h)throw new Be(ge.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${c}().`);const g=[];for(const w of Oh(i))if(w.field.isKeyField())g.push(_a(s,h.key));else{const D=h.data.field(w.field);if(Yg(D))throw new Be(ge.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+w.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===D){const M=w.field.canonicalString();throw new Be(ge.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${M}' (used as the orderBy) does not exist.`)}g.push(D)}return new Pl(g,p)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=C_(n.firestore);return function(s,c,h,p,g,w){const D=s.explicitOrderBy;if(g.length>D.length)throw new Be(ge.INVALID_ARGUMENT,`Too many arguments provided to ${p}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const M=[];for(let N=0;N<g.length;N++){const K=g[N];if(D[N].field.isKeyField()){if("string"!=typeof K)throw new Be(ge.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${p}(), but got a ${typeof K}`);if(!WI(s)&&-1!==K.indexOf("/"))throw new Be(ge.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${p}() must be a plain document ID, but '${K}' contains a slash.`);const te=s.path.child(Sn.fromString(K));if(!Je.isDocumentKey(te))throw new Be(ge.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${p}() must result in a valid document path, but '${te}' is not because it contains an odd number of segments.`);const X=new Je(te);M.push(_a(c,X))}else{const te=SU(h,p,K);M.push(te)}}return new Pl(M,w)}(n._query,n.firestore._databaseId,i,e,t,r)}}function NU(n,e,t){if("string"==typeof(t=(0,An.m9)(t))){if(""===t)throw new Be(ge.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!WI(e)&&-1!==t.indexOf("/"))throw new Be(ge.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Sn.fromString(t));if(!Je.isDocumentKey(r))throw new Be(ge.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return _a(n,new Je(r))}if(t instanceof Br)return _a(n,t._key);throw new Be(ge.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${CR(t)}.`)}function OU(n,e){if(!Array.isArray(n)||0===n.length)throw new Be(ge.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function FU(n,e){if(e.isInequality()){const r=Kv(n),i=e.field;if(null!==r&&!r.isEqual(i))throw new Be(ge.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const s=qI(n);null!==s&&LU(0,i,s)}const t=function(r,i){for(const s of r)for(const c of s.getFlattenedFilters())if(i.indexOf(c.op)>=0)return c.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new Be(ge.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function LU(n,e,t){if(!t.isEqual(e))throw new Be(ge.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class XN{convertValue(e,t="none"){switch(Xu(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ur(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Fc(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Et()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Qu(e,(i,s)=>{r[i]=this.convertValue(s,t)}),r}convertGeoPoint(e){return new AR(Ur(e.latitude),Ur(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Qg(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Dp(e));default:return null}}convertTimestamp(e){const t=Rl(e);return new Vr(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Sn.fromString(e);Pt(dx(r));const i=new Ml(r.get(1),r.get(3)),s=new Je(r.popFirst(5));return i.isEqual(t)||qr(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}function FR(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class aG extends XN{constructor(e){super(),this.firestore=e}convertBytes(e){return new cd(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Br(this.firestore,null,t)}}class A_{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class nf extends vT{constructor(e,t,r,i,s,c){super(e,t,r,i,c),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new IT(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(PR("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class IT extends nf{data(e={}){return super.data(e)}}class rm{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new A_(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new IT(this._firestore,this._userDataWriter,r.key,r,new A_(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Be(ge.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(c=>({type:"added",doc:new IT(r._firestore,r._userDataWriter,c.doc.key,c.doc,new A_(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}))}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(c=>i||3!==c.type).map(c=>{const h=new IT(r._firestore,r._userDataWriter,c.doc.key,c.doc,new A_(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter);let p=-1,g=-1;return 0!==c.type&&(p=s.indexOf(c.doc.key),s=s.delete(c.doc.key)),1!==c.type&&(s=s.add(c.doc),g=s.indexOf(c.doc.key)),{type:lG(c.type),doc:h,oldIndex:p,newIndex:g}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function lG(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Et()}}function UU(n,e){return n instanceof nf&&e instanceof nf?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof rm&&e instanceof rm&&n._firestore===e._firestore&&HN(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class im extends XN{constructor(e){super(),this.firestore=e}convertBytes(e){return new cd(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Br(this.firestore,null,t)}}function BU(n,e,t){n=xn(n,Br);const r=xn(n.firestore,jr),i=FR(n.converter,e,t);return Gw(r,[xR(C_(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,yr.none())])}function jU(n,e,t,...r){n=xn(n,Br);const i=xn(n.firestore,jr),s=C_(i);let c;return c="string"==typeof(e=(0,An.m9)(e))||e instanceof tf?KN(s,"updateDoc",n._key,e,t,r):WN(s,"updateDoc",n._key,e),Gw(i,[c.toMutation(n._key,yr.exists(!0))])}function $U(n,...e){var t,r,i;n=(0,An.m9)(n);let s={includeMetadataChanges:!1},c=0;"object"!=typeof e[c]||GN(e[c])||(s=e[c],c++);const h={includeMetadataChanges:s.includeMetadataChanges};if(GN(e[c])){const D=e[c];e[c]=null===(t=D.next)||void 0===t?void 0:t.bind(D),e[c+1]=null===(r=D.error)||void 0===r?void 0:r.bind(D),e[c+2]=null===(i=D.complete)||void 0===i?void 0:i.bind(D)}let p,g,w;if(n instanceof Br)g=xn(n.firestore,jr),w=Nh(n._key.path),p={next:D=>{e[c]&&e[c](JN(g,n,D))},error:e[c+1],complete:e[c+2]};else{const D=xn(n,Ws);g=xn(D.firestore,jr),w=D._query;const M=new im(g);p={next:N=>{e[c]&&e[c](new rm(g,M,D,N))},error:e[c+1],complete:e[c+2]},PU(n._query)}return function(D,M,N,K){const te=new f(K),X=new sR(M,te,N);return D.asyncQueue.enqueueAndForget((0,Se.Z)(function*(){return Ow(yield vo(D),X)})),()=>{te.Dc(),D.asyncQueue.enqueueAndForget((0,Se.Z)(function*(){return E_(yield vo(D),X)}))}}(Si(g),w,h,p)}function Gw(n,e){return function(t,r){const i=new pi;return t.asyncQueue.enqueueAndForget((0,Se.Z)(function*(){return function iT(n,e,t){return sT.apply(this,arguments)}(yield $n(t),r,i)})),i.promise}(Si(n),e)}function JN(n,e,t){const r=t.docs.get(e._key),i=new im(n);return new nf(n,i,e._key,r,new A_(t.hasPendingWrites,t.fromCache),e.converter)}const AG={maxAttempts:5};class zU{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=C_(e)}set(e,t,r){this._verifyNotCommitted();const i=sm(e,this._firestore),s=FR(i.converter,t,r),c=xR(this._dataReader,"WriteBatch.set",i._key,s,null!==i.converter,r);return this._mutations.push(c.toMutation(i._key,yr.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const s=sm(e,this._firestore);let c;return c="string"==typeof(t=(0,An.m9)(t))||t instanceof tf?KN(this._dataReader,"WriteBatch.update",s._key,t,r,i):WN(this._dataReader,"WriteBatch.update",s._key,t),this._mutations.push(c.toMutation(s._key,yr.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=sm(e,this._firestore);return this._mutations=this._mutations.concat(new Lp(t._key,yr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Be(ge.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function sm(n,e){if((n=(0,An.m9)(n)).firestore!==e)throw new Be(ge.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class SG extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=C_(e)}get(e){const t=sm(e,this._firestore),r=new aG(this._firestore);return this._transaction.lookup([t._key]).then(i=>{if(!i||1!==i.length)return Et();const s=i[0];if(s.isFoundDocument())return new vT(this._firestore,r,s.key,s,t.converter);if(s.isNoDocument())return new vT(this._firestore,r,t._key,null,t.converter);throw Et()})}set(e,t,r){const i=sm(e,this._firestore),s=FR(i.converter,t,r),c=xR(this._dataReader,"Transaction.set",i._key,s,null!==i.converter,r);return this._transaction.set(i._key,c),this}update(e,t,r,...i){const s=sm(e,this._firestore);let c;return c="string"==typeof(t=(0,An.m9)(t))||t instanceof tf?KN(this._dataReader,"Transaction.update",s._key,t,r,i):WN(this._dataReader,"Transaction.update",s._key,t),this._transaction.update(s._key,c),this}delete(e){const t=sm(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=sm(e,this._firestore),r=new im(this._firestore);return super.get(e).then(i=>new nf(this._firestore,r,t._key,i._document,new A_(!1,!1),t.converter))}}function eO(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Be("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function GU(){if(typeof Uint8Array>"u")throw new Be("unimplemented","Uint8Arrays are not available in this environment.")}function qU(){if(!function bS(){return typeof atob<"u"}())throw new Be("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){Ku=Uu.SDK_VERSION,(0,Uu._registerComponent)(new fa.wA("firestore",(t,{instanceIdentifier:r,options:i})=>{const s=t.getProvider("app").getImmediate(),c=new jr(new KA(t.getProvider("auth-internal")),new Dk(t.getProvider("app-check-internal")),function(h,p){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new Be(ge.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ml(h.options.projectId,p)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),c._setSettings(i),c},"PUBLIC").setMultipleInstances(!0)),(0,Uu.registerVersion)(Nv,"3.13.0",n),(0,Uu.registerVersion)(Nv,"3.13.0","esm2017")}();class bT{constructor(e){this._delegate=e}static fromBase64String(e){return qU(),new bT(cd.fromBase64String(e))}static fromUint8Array(e){return GU(),new bT(cd.fromUint8Array(e))}toBase64(){return qU(),this._delegate.toBase64()}toUint8Array(){return GU(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function tO(n){return function LG(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class VG{enableIndexedDbPersistence(e,t){return function FH(n,e){TU(n=xn(n,jr));const t=Si(n);if(t._uninitializedComponentsProvider)throw new Be(ge.FAILED_PRECONDITION,"SDK cache is already specified.");$o("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=n._freezeSettings(),i=new l;return bU(t,i,new o(i,r.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function LH(n){TU(n=xn(n,jr));const e=Si(n);if(e._uninitializedComponentsProvider)throw new Be(ge.FAILED_PRECONDITION,"SDK cache is already specified.");$o("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=n._freezeSettings(),r=new l;return bU(e,r,new a(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function VH(n){if(n._initialized&&!n._terminated)throw new Be(ge.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new pi;return n._queue.enqueueAndForgetEvenWhileRestricted((0,Se.Z)(function*(){try{yield(t=(0,Se.Z)(function*(r){if(!Ka.D())return Promise.resolve();const i=r+"main";yield Ka.delete(i)}),function(r){return t.apply(this,arguments)})(xx(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class WU{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof Ml||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&$o("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){vU(this._delegate,e,t,r)}enableNetwork(){return function BH(n){return function pT(n){return n.asyncQueue.enqueue((0,Se.Z)(function*(){const e=yield je(n),t=yield ln(n);return e.setNetworkEnabled(!0),function(r){const i=ht(r);return i.vu.delete(0),Qh(i)}(t)}))}(Si(n=xn(n,jr)))}(this._delegate)}disableNetwork(){return function jH(n){return function jN(n){return n.asyncQueue.enqueue((0,Se.Z)(function*(){const e=yield je(n),t=yield ln(n);return e.setNetworkEnabled(!1),(r=(0,Se.Z)(function*(i){const s=ht(i);s.vu.add(0),yield g_(s),s.bu.set("Offline")}),function(i){return r.apply(this,arguments)})(t);var r}))}(Si(n=xn(n,jr)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,pU("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function UH(n){return function(e){const t=new pi;return e.asyncQueue.enqueueAndForget((0,Se.Z)(function*(){return function FN(n,e){return Uw.apply(this,arguments)}(yield $n(e),t)})),t.promise}(Si(n=xn(n,jr)))}(this._delegate)}onSnapshotsInSync(e){return function yG(n,e){return function AH(n,e){const t=new f(e);return n.asyncQueue.enqueueAndForget((0,Se.Z)(function*(){return r=yield vo(n),i=t,ht(r).ku.add(i),void i.next();var r,i})),()=>{t.Dc(),n.asyncQueue.enqueueAndForget((0,Se.Z)(function*(){return r=yield vo(n),i=t,void ht(r).ku.delete(i);var r,i}))}}(Si(n=xn(n,jr)),GN(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Be("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new qw(this,wU(this._delegate,e))}catch(t){throw qo(t,"collection()","Firestore.collection()")}}doc(e){try{return new Bc(this,DR(this._delegate,e))}catch(t){throw qo(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Wo(this,function MH(n,e){if(n=xn(n,mT),zN("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Be(ge.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Ws(n,null,(t=e,new kl(Sn.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw qo(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function xG(n,e,t){n=xn(n,jr);const r=Object.assign(Object.assign({},AG),t);return function(i){if(i.maxAttempts<1)throw new Be(ge.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(i,s,c){const h=new pi;return i.asyncQueue.enqueueAndForget((0,Se.Z)(function*(){const p=yield function qs(n){return dt(n).then(e=>e.datastore)}(i);new E(i.asyncQueue,p,c,s,h).run()})),h.promise}(Si(n),i=>e(new SG(n,i)),r)}(this._delegate,t=>e(new KU(this,t)))}batch(){return Si(this._delegate),new ZU(new zU(this._delegate,e=>Gw(this._delegate,e)))}loadBundle(e){return function $H(n,e){const t=Si(n=xn(n,jr)),r=new kH;return function SH(n,e,t,r){const i=function(s,c){let h;return h="string"==typeof s?ZS().encode(s):s,p=function(p,g){if(p instanceof Uint8Array)return d(p,g);if(p instanceof ArrayBuffer)return d(new Uint8Array(p),g);if(p instanceof ReadableStream)return p.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(h),new m(p,c);var p}(t,Zi(e));n.asyncQueue.enqueueAndForget((0,Se.Z)(function*(){!function cU(n,e,t){const r=ht(n);var i;(i=(0,Se.Z)(function*(s,c,h){try{const p=yield c.getMetadata();if(yield function(M,N){const K=ht(M),te=Kr(N.createTime);return K.persistence.runTransaction("hasNewerBundle","readonly",X=>K.qs.getBundleMetadata(X,N.id)).then(X=>!!X&&X.createTime.compareTo(te)>=0)}(s.localStore,p))return yield c.close(),h._completeWith({taskState:"Success",documentsLoaded:(M=p).totalDocuments,bytesLoaded:M.totalBytes,totalDocuments:M.totalDocuments,totalBytes:M.totalBytes}),Promise.resolve(new Set);h._updateProgress(aR(p));const g=new oR(p,s.localStore,c.serializer);let w=yield c.bc();for(;w;){const M=yield g.zu(w);M&&h._updateProgress(M),w=yield c.bc()}const D=yield g.complete();return yield ya(s,D.Ju,void 0),yield function(M,N){const K=ht(M);return K.persistence.runTransaction("Save bundle","readwrite",te=>K.qs.saveBundleMetadata(te,N))}(s.localStore,p),h._completeWith(D.progress),Promise.resolve(D.Hu)}catch(p){return $o("SyncEngine",`Loading bundle failed with ${p}`),h._failWith(p),Promise.resolve(new Set)}var M}),function(s,c,h){return i.apply(this,arguments)})(r,e,t).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}(yield $n(n),i,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function zH(n,e){return function xH(n,e){return n.asyncQueue.enqueue((0,Se.Z)(function*(){return function(t,r){const i=ht(t);return i.persistence.runTransaction("Get named query","readonly",s=>i.qs.getNamedQuery(s,r))}(yield qt(n),e)}))}(Si(n=xn(n,jr)),e).then(t=>t?new Ws(n,null,t.query):null)}(this._delegate,e).then(t=>t?new Wo(this,t):null)}}class LR extends XN{constructor(e){super(),this.firestore=e}convertBytes(e){return new bT(new cd(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Bc.forKey(t,this.firestore,null)}}class KU{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new LR(e)}get(e){const t=x_(e);return this._delegate.get(t).then(r=>new TT(this._firestore,new nf(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const i=x_(e);return r?(eO("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const s=x_(e);return 2===arguments.length?this._delegate.update(s,t):this._delegate.update(s,t,r,...i),this}delete(e){const t=x_(e);return this._delegate.delete(t),this}}class ZU{constructor(e){this._delegate=e}set(e,t,r){const i=x_(e);return r?(eO("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const s=x_(e);return 2===arguments.length?this._delegate.update(s,t):this._delegate.update(s,t,r,...i),this}delete(e){const t=x_(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class S_{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new IT(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new CT(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=S_.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let s=i.get(t);return s||(s=new S_(e,new LR(e),t),i.set(t,s)),s}}S_.INSTANCES=new WeakMap;class Bc{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new LR(e)}static forPath(e,t,r){if(e.length%2!=0)throw new Be("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Bc(t,new Br(t._delegate,r,new Je(e)))}static forKey(e,t,r){return new Bc(t,new Br(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new qw(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new qw(this.firestore,wU(this._delegate,e))}catch(t){throw qo(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,An.m9)(e))instanceof Br&&EU(this._delegate,e)}set(e,t){t=eO("DocumentReference.set",t);try{return t?BU(this._delegate,e,t):BU(this._delegate,e)}catch(r){throw qo(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?jU(this._delegate,e):jU(this._delegate,e,t,...r)}catch(i){throw qo(i,"updateDoc()","DocumentReference.update()")}}delete(){return function gG(n){return Gw(xn(n.firestore,jr),[new Lp(n._key,yr.none())])}(this._delegate)}onSnapshot(...e){const t=YU(e),r=QU(e,i=>new TT(this.firestore,new nf(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return $U(this._delegate,t,r)}get(e){let t;return t="cache"===e?.source?function dG(n){n=xn(n,Br);const e=xn(n.firestore,jr),t=Si(e),r=new im(e);return function $N(n,e){const t=new pi;return n.asyncQueue.enqueueAndForget((0,Se.Z)(function*(){return(r=(0,Se.Z)(function*(i,s,c){try{const h=yield function(p,g){const w=ht(p);return w.persistence.runTransaction("read document","readonly",D=>w.localDocuments.getDocument(D,g))}(i,s);h.isFoundDocument()?c.resolve(h):h.isNoDocument()?c.resolve(null):c.reject(new Be(ge.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(h){const p=Xp(h,`Failed to get document '${s} from cache`);c.reject(p)}}),function(i,s,c){return r.apply(this,arguments)})(yield qt(n),e,t);var r})),t.promise}(t,n._key).then(i=>new nf(e,r,n._key,i,new A_(null!==i&&i.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function hG(n){n=xn(n,Br);const e=xn(n.firestore,jr);return uU(Si(e),n._key,{source:"server"}).then(t=>JN(e,n,t))}(this._delegate):function uG(n){n=xn(n,Br);const e=xn(n.firestore,jr);return uU(Si(e),n._key).then(t=>JN(e,n,t))}(this._delegate),t.then(r=>new TT(this.firestore,new nf(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new Bc(this.firestore,this._delegate.withConverter(e?S_.getInstance(this.firestore,e):null))}}function qo(n,e,t){return n.message=n.message.replace(e,t),n}function YU(n){for(const e of n)if("object"==typeof e&&!tO(e))return e;return{}}function QU(n,e){var t,r;let i;return i=tO(n[0])?n[0]:tO(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:s=>{i.next&&i.next(e(s))},error:null===(t=i.error)||void 0===t?void 0:t.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class TT{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Bc(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return UU(this._delegate,e._delegate)}}class CT extends TT{data(e){const t=this._delegate.data(e);return function bI(n,e){n||Et()}(void 0!==t),t}}class Wo{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new LR(e)}where(e,t,r){try{return new Wo(this.firestore,nm(this._delegate,function JH(n,e,t){const r=e,i=PR("where",n);return ET._create(i,r,t)}(e,t,r)))}catch(i){throw qo(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Wo(this.firestore,nm(this._delegate,function eG(n,e="asc"){const t=e,r=PR("orderBy",n);return QN._create(r,t)}(e,t)))}catch(r){throw qo(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Wo(this.firestore,nm(this._delegate,function tG(n){return _U("limit",n),kR._create("limit",n,"F")}(e)))}catch(t){throw qo(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Wo(this.firestore,nm(this._delegate,function nG(n){return _U("limitToLast",n),kR._create("limitToLast",n,"L")}(e)))}catch(t){throw qo(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Wo(this.firestore,nm(this._delegate,function rG(...n){return NR._create("startAt",n,!0)}(...e)))}catch(t){throw qo(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Wo(this.firestore,nm(this._delegate,function iG(...n){return NR._create("startAfter",n,!1)}(...e)))}catch(t){throw qo(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Wo(this.firestore,nm(this._delegate,function sG(...n){return OR._create("endBefore",n,!1)}(...e)))}catch(t){throw qo(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Wo(this.firestore,nm(this._delegate,function oG(...n){return OR._create("endAt",n,!0)}(...e)))}catch(t){throw qo(t,"endAt()","Query.endAt()")}}isEqual(e){return HN(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function pG(n){n=xn(n,Ws);const e=xn(n.firestore,jr),t=Si(e),r=new im(e);return function DH(n,e){const t=new pi;return n.asyncQueue.enqueueAndForget((0,Se.Z)(function*(){return(r=(0,Se.Z)(function*(i,s,c){try{const h=yield bw(i,s,!0),p=new uR(s,h.ir),g=p.sc(h.documents),w=p.applyChanges(g,!1);c.resolve(w.snapshot)}catch(h){const p=Xp(h,`Failed to execute query '${s} against cache`);c.reject(p)}}),function(i,s,c){return r.apply(this,arguments)})(yield qt(n),e,t);var r})),t.promise}(t,n._query).then(i=>new rm(e,r,n,i))}(this._delegate):"server"===e?.source?function mG(n){n=xn(n,Ws);const e=xn(n.firestore,jr),t=Si(e),r=new im(e);return dU(t,n._query,{source:"server"}).then(i=>new rm(e,r,n,i))}(this._delegate):function fG(n){n=xn(n,Ws);const e=xn(n.firestore,jr),t=Si(e),r=new im(e);return PU(n._query),dU(t,n._query).then(i=>new rm(e,r,n,i))}(this._delegate),t.then(r=>new nO(this.firestore,new rm(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=YU(e),r=QU(e,i=>new nO(this.firestore,new rm(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return $U(this._delegate,t,r)}withConverter(e){return new Wo(this.firestore,this._delegate.withConverter(e?S_.getInstance(this.firestore,e):null))}}class BG{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new CT(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class nO{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Wo(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new CT(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new BG(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new CT(this._firestore,r))})}isEqual(e){return UU(this._delegate,e._delegate)}}class qw extends Wo{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Bc(this.firestore,e):null}doc(e){try{return new Bc(this.firestore,void 0===e?DR(this._delegate):DR(this._delegate,e))}catch(t){throw qo(t,"doc()","CollectionReference.doc()")}}add(e){return function _G(n,e){const t=xn(n.firestore,jr),r=DR(n),i=FR(n.converter,e);return Gw(t,[xR(C_(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,yr.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new Bc(this.firestore,t))}isEqual(e){return EU(this._delegate,e._delegate)}withConverter(e){return new qw(this.firestore,this._delegate.withConverter(e?S_.getInstance(this.firestore,e):null))}}function x_(n){return xn(n,Br)}class rO{constructor(...e){this._delegate=new tf(...e)}static documentId(){return new rO(Wr.keyField().canonicalString())}isEqual(e){return(e=(0,An.m9)(e))instanceof tf&&this._delegate._internalPath.isEqual(e._internalPath)}}class R_{constructor(e){this._delegate=e}static serverTimestamp(){const e=function MG(){return new qN("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new R_(e)}static delete(){const e=function RG(){return new _T("deleteField")}();return e._methodName="FieldValue.delete",new R_(e)}static arrayUnion(...e){const t=function PG(...n){return new KH("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new R_(t)}static arrayRemove(...e){const t=function kG(...n){return new ZH("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new R_(t)}static increment(e){const t=function NG(n){return new YH("increment",n)}(e);return t._methodName="FieldValue.increment",new R_(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const jG={Firestore:WU,GeoPoint:AR,Timestamp:Vr,Blob:bT,Transaction:KU,WriteBatch:ZU,DocumentReference:Bc,DocumentSnapshot:TT,Query:Wo,QueryDocumentSnapshot:CT,QuerySnapshot:nO,CollectionReference:qw,FieldPath:rO,FieldValue:R_,setLogLevel:function UG(n){!function GA(n){Al.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function zG(n){(function $G(n,e){n.INTERNAL.registerComponent(new fa.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},jG)))})(n,(e,t)=>new WU(e,t,new VG)),n.registerVersion("@firebase/firestore-compat","0.3.12")}(nA.Z);var HG=V(3019),VR=V(3093),GG=V(4552);class qG extends Fr.x{constructor(e=1/0,t=1/0,r=GG.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:s,_windowTime:c}=this;t||(r.push(e),!i&&r.push(s.now()+c)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,s=i.slice();for(let c=0;c<s.length&&!e.closed;c+=r?1:2)e.next(s[c]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,s=(i?1:2)*e;if(e<1/0&&s<r.length&&r.splice(0,r.length-s),!i){const c=t.now();let h=0;for(let p=1;p<r.length&&r[p]<=c;p+=2)h=p;h&&r.splice(0,h+1)}}}var WG=V(3020);function XU(n,e,t){let r,i=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:t}=n):r=n??1/0,(0,WG.B)({connector:()=>new qG(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function JU(n,e){return(0,sa.m)(e)?(0,Tr.w)(()=>n,e):(0,Tr.w)(()=>n)}var iO=V(5137),M_=V(4097);class Ww{constructor(e){return e}}class eB{constructor(){return(0,M_.C6)()}}const sO=new u.OlP("angularfire2._apps"),ZG={provide:Ww,useFactory:function KG(n){return n&&1===n.length?n[0]:new Ww((0,M_.Mq)())},deps:[[new u.FiY,sO]]},YG={provide:eB,deps:[[new u.FiY,sO]]};function QG(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new Ww(r)}}let XG=(()=>{class n{constructor(t){(0,M_.KN)("angularfire",nr.q4.full,"core"),(0,M_.KN)("angularfire",nr.q4.full,"app"),(0,M_.KN)("angular",u.q4F.full,t.toString())}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.Lbi))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[ZG,YG]}),n})();function JG(n,...e){return{ngModule:XG,providers:[{provide:sO,useFactory:QG(n),multi:!0,deps:[u.R0b,u.zs3,nr.HU,...e]}]}}const e9=(0,nr.u3)(M_.ZF,!0);var P_=V(4303);const oO=new Map,tB={activated:!1,tokenObservers:[]},t9={initialized:!1,enabled:!1};function gi(n){return oO.get(n)||Object.assign({},tB)}function UR(){return t9}const aO="https://content-firebaseappcheck.googleapis.com/v1",s9="exchangeDebugToken",nB={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class a9{constructor(e,t,r,i,s){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,Se.Z)(function*(){t.stop();try{t.pending=new An.BH,yield function c9(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new An.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Ks=new An.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function cO(n){if(!gi(n).activated)throw Ks.create("use-before-activation",{appName:n.name})}function $R(n,e){return uO.apply(this,arguments)}function uO(){return uO=(0,Se.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},i=t.getImmediate({optional:!0});if(i){const D=yield i.getHeartbeatsHeader();D&&(r["X-Firebase-Client"]=D)}const s={method:"POST",body:JSON.stringify(e),headers:r};let c,h;try{c=yield fetch(n,s)}catch(D){throw Ks.create("fetch-network-error",{originalErrorMessage:D?.message})}if(200!==c.status)throw Ks.create("fetch-status-error",{httpStatus:c.status});try{h=yield c.json()}catch(D){throw Ks.create("fetch-parse-error",{originalErrorMessage:D?.message})}const p=h.ttl.match(/^([\d.]+)(s)$/);if(!p||!p[2]||isNaN(Number(p[1])))throw Ks.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${h.ttl}`});const g=1e3*Number(p[1]),w=Date.now();return{token:h.token,expireTimeMillis:w+g,issuedAtTimeMillis:w}}),uO.apply(this,arguments)}function rB(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`${aO}/projects/${t}/apps/${r}:${s9}?key=${i}`,body:{debug_token:e}}}const h9="firebase-app-check-database",f9=1,DT="firebase-app-check-store";let zR=null;function dO(){return dO=(0,Se.Z)(function*(n,e){const r=(yield function sB(){return zR||(zR=new Promise((n,e)=>{try{const t=indexedDB.open(h9,f9);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(Ks.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(DT,{keyPath:"compositeKey"})}}catch(t){e(Ks.create("storage-open",{originalErrorMessage:t?.message}))}}),zR)}()).transaction(DT,"readwrite"),s=r.objectStore(DT).put({compositeKey:n,value:e});return new Promise((c,h)=>{s.onsuccess=p=>{c()},r.onerror=p=>{var g;h(Ks.create("storage-set",{originalErrorMessage:null===(g=p.target.error)||void 0===g?void 0:g.message}))}})}),dO.apply(this,arguments)}const AT=new Bo.Yd("@firebase/app-check");function pO(n,e){return(0,An.hl)()?function m9(n,e){return function oB(n,e){return dO.apply(this,arguments)}(function cB(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{AT.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function gO(){return UR().enabled}function _O(){return yO.apply(this,arguments)}function yO(){return yO=(0,Se.Z)(function*(){const n=UR();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),yO.apply(this,arguments)}const E9={error:"UNKNOWN_ERROR"};function I9(n){return An.US.encodeString(JSON.stringify(n),!1)}function HR(n){return vO.apply(this,arguments)}function vO(){return vO=(0,Se.Z)(function*(n,e=!1){const t=n.app;cO(t);const r=gi(t);let s,i=r.token;if(i&&!Kw(i)&&(r.token=void 0,i=void 0),!i){const p=yield r.cachedTokenPromise;p&&(Kw(p)?i=p:yield pO(t,void 0))}if(!e&&i&&Kw(i))return{token:i.token};let h,c=!1;if(gO()){r.exchangeTokenPromise||(r.exchangeTokenPromise=$R(rB(t,yield _O()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),c=!0);const p=yield r.exchangeTokenPromise;return yield pO(t,p),r.token=p,{token:p.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),c=!0),i=yield gi(t).exchangeTokenPromise}catch(p){"appCheck/throttled"===p.code?AT.warn(p.message):AT.error(p),s=p}return i?s?h=Kw(i)?{token:i.token,internalError:s}:hB(s):(h={token:i.token},r.token=i,yield pO(t,i)):h=hB(s),c&&function dB(n,e){const t=gi(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}(t,h),h}),vO.apply(this,arguments)}function wO(){return wO=(0,Se.Z)(function*(n){const e=n.app;cO(e);const{provider:t}=gi(e);if(gO()){const r=yield _O(),{token:i}=yield $R(rB(e,r),n.heartbeatServiceProvider);return{token:i}}{const{token:r}=yield t.getToken();return{token:r}}}),wO.apply(this,arguments)}function IO(n,e){const t=gi(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function uB(n){const{app:e}=n,t=gi(e);let r=t.tokenRefresher;r||(r=function b9(n){const{app:e}=n;return new a9((0,Se.Z)(function*(){let r;if(r=gi(e).token?yield HR(n,!0):yield HR(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const t=gi(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},nB.RETRIAL_MIN_WAIT,nB.RETRIAL_MAX_WAIT)}(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function Kw(n){return n.expireTimeMillis-Date.now()>0}function hB(n){return{token:I9(E9),error:n}}class T9{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=gi(this.app);for(const t of e)IO(this.app,t.next);return Promise.resolve()}}const wB="app-check-internal";!function V9(){(0,P_.Xd)(new fa.wA("app-check",n=>function C9(n,e){return new T9(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(wB).initialize()})),(0,P_.Xd)(new fa.wA(wB,n=>function D9(n){return{getToken:e=>HR(n,e),getLimitedUseToken:()=>function lB(n){return wO.apply(this,arguments)}(n),addTokenListener:e=>function EO(n,e,t,r){const{app:i}=n,s=gi(i);if(s.tokenObservers=[...s.tokenObservers,{next:t,error:r,type:e}],s.token&&Kw(s.token)){const h=s.token;Promise.resolve().then(()=>{t({token:h.token}),uB(n)}).catch(()=>{})}s.cachedTokenPromise.then(()=>uB(n))}(n,"INTERNAL",e),removeTokenListener:e=>IO(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,P_.KN)("@firebase/app-check","0.8.0")}();class qR{constructor(){return(0,nr.vb)("app-check")}}typeof window<"u"&&window,V(120);const IB=new u.OlP("angularfire2.auth.use-emulator"),bB=new u.OlP("angularfire2.auth.settings"),TB=new u.OlP("angularfire2.auth.tenant-id"),CB=new u.OlP("angularfire2.auth.langugage-code"),DB=new u.OlP("angularfire2.auth.use-device-language"),AB=new u.OlP("angularfire.auth.persistence"),SB=(n,e,t,r,i,s,c,h)=>(0,Uo.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const p=e.runOutsideAngular(()=>n.auth());if(t&&p.useEmulator(...t),r&&(p.tenantId=r),p.languageCode=i,s&&p.useDeviceLanguage(),c)for(const[g,w]of Object.entries(c))p.settings[g]=w;return h&&p.setPersistence(h),p},[t,r,i,s,c,h]);let xB=(()=>{class n{constructor(t,r,i,s,c,h,p,g,w,D,M,N){const K=new Fr.x,te=(0,xt.of)(void 0).pipe((0,VR.Q)(c.outsideAngular),(0,Tr.w)(()=>s.runOutsideAngular(()=>Promise.resolve().then(V.bind(V,8661)))),(0,Vt.U)(()=>(0,Uo.on)(t,s,r)),(0,Vt.U)(X=>SB(X,s,h,g,w,D,p,M)),XU({bufferSize:1,refCount:!1}));if(Ji(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,xt.of)(null);else{te.pipe(Cr()).subscribe();const be=te.pipe((0,Tr.w)(Qe=>Qe.getRedirectResult().then(_t=>_t,()=>null)),nr.iC,XU({bufferSize:1,refCount:!1})),$e=te.pipe((0,Tr.w)(Qe=>new di.y(_t=>({unsubscribe:s.runOutsideAngular(()=>Qe.onAuthStateChanged(Ct=>_t.next(Ct),Ct=>_t.error(Ct),()=>_t.complete()))})))),ze=te.pipe((0,Tr.w)(Qe=>new di.y(_t=>({unsubscribe:s.runOutsideAngular(()=>Qe.onIdTokenChanged(Ct=>_t.next(Ct),Ct=>_t.error(Ct),()=>_t.complete()))}))));this.authState=be.pipe(JU($e),(0,iO.R)(c.outsideAngular),(0,VR.Q)(c.insideAngular)),this.user=be.pipe(JU(ze),(0,iO.R)(c.outsideAngular),(0,VR.Q)(c.insideAngular)),this.idToken=this.user.pipe((0,Tr.w)(Qe=>Qe?(0,Bn.D)(Qe.getIdToken()):(0,xt.of)(null))),this.idTokenResult=this.user.pipe((0,Tr.w)(Qe=>Qe?(0,Bn.D)(Qe.getIdTokenResult()):(0,xt.of)(null))),this.credential=(0,HG.T)(be,K,this.authState.pipe(Gr(Qe=>!Qe))).pipe((0,Vt.U)(Qe=>Qe?.user?Qe:null),(0,iO.R)(c.outsideAngular),(0,VR.Q)(c.insideAngular))}return(0,Uo.pX)(this,te,s,{spy:{apply:(X,be,$e)=>{(X.startsWith("signIn")||X.startsWith("createUser"))&&$e.then(ze=>K.next(ze))}}})}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Uo.Dh),u.LFG(Uo.xv,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(nr.HU),u.LFG(IB,8),u.LFG(bB,8),u.LFG(TB,8),u.LFG(CB,8),u.LFG(DB,8),u.LFG(AB,8),u.LFG(qR,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function RB(n,e){return function H9(n,e=nv.z){return new di.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{r?.()}})}(n,e)}function AO(n,e){return RB(n,e).pipe((0,Vt.U)(t=>({payload:t,type:"query"})))}function WR(n,e){return AO(n,e).pipe(La(void 0),eA(),(0,Vt.U)(([t,r])=>{const i=r.payload.docChanges(),s=i.map(c=>({type:c.type,payload:c}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((c,h)=>{const p=i.find(w=>w.doc.ref.isEqual(c.ref)),g=t?.payload.docs.find(w=>w.ref.isEqual(c.ref));p&&JSON.stringify(p.doc.metadata)===JSON.stringify(c.metadata)||!p&&g&&JSON.stringify(g.metadata)===JSON.stringify(c.metadata)||s.push({type:"modified",payload:{oldIndex:h,newIndex:h,type:"modified",doc:c}})}),s}))}function MB(n,e,t){return WR(n,t).pipe(Oo((r,i)=>function q9(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function W9(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return SO(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return SO(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return SO(n,e.oldIndex,1)}return n}(n,r))}),n}(r,i.map(s=>s.payload),e),[]),(0,tA.x)(),(0,Vt.U)(r=>r.map(i=>({type:i.type,payload:i}))))}function SO(n,e,t,...r){const i=n.slice();return i.splice(e,t,...r),i}function PB(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class kB{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=WR(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,Vt.U)(r=>r.filter(i=>e.indexOf(i.type)>-1)))),t.pipe(La(void 0),eA(),Gr(([r,i])=>i.length>0||!r),(0,Vt.U)(([r,i])=>i),nr.iC)}auditTrail(e){return this.stateChanges(e).pipe(Oo((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=PB(e);return MB(this.query,t,this.afs.schedulers.outsideAngular).pipe(nr.iC)}valueChanges(e={}){return AO(this.query,this.afs.schedulers.outsideAngular).pipe((0,Vt.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),nr.iC)}get(e){return(0,Bn.D)(this.query.get(e)).pipe(nr.iC)}add(e){return this.ref.add(e)}doc(e){return new NB(this.ref.doc(e),this.afs)}}class NB{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:i,query:s}=OB(r,t);return new kB(i,s,this.afs)}snapshotChanges(){return function G9(n,e){return RB(n,e).pipe(La(void 0),eA(),(0,Vt.U)(([t,r])=>r.exists?t?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(nr.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,Vt.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,Bn.D)(this.ref.get(e)).pipe(nr.iC)}}class K9{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?WR(this.query,this.afs.schedulers.outsideAngular).pipe((0,Vt.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),Gr(t=>t.length>0),nr.iC):WR(this.query,this.afs.schedulers.outsideAngular).pipe(nr.iC)}auditTrail(e){return this.stateChanges(e).pipe(Oo((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=PB(e);return MB(this.query,t,this.afs.schedulers.outsideAngular).pipe(nr.iC)}valueChanges(e={}){return AO(this.query,this.afs.schedulers.outsideAngular).pipe((0,Vt.U)(r=>r.payload.docs.map(i=>e.idField?Object.assign({[e.idField]:i.id},i.data()):i.data())),nr.iC)}get(e){return(0,Bn.D)(this.query.get(e)).pipe(nr.iC)}}const Z9=new u.OlP("angularfire2.enableFirestorePersistence"),Y9=new u.OlP("angularfire2.firestore.persistenceSettings"),Q9=new u.OlP("angularfire2.firestore.settings"),X9=new u.OlP("angularfire2.firestore.use-emulator");function OB(n,e=(t=>t)){return{query:e(n),ref:n}}let FB=(()=>{class n{constructor(t,r,i,s,c,h,p,g,w,D,M,N,K,te,X,be,$e){this.schedulers=p;const ze=(0,Uo.on)(t,h,r),Qe=w;D&&SB(ze,h,M,K,te,X,N,be),[this.firestore,this.persistenceEnabled$]=(0,Uo.cc)(`${ze.name}.firestore`,"AngularFirestore",ze.name,()=>{const _t=h.runOutsideAngular(()=>ze.firestore());if(s&&_t.settings(s),Qe&&_t.useEmulator(...Qe),i&&!Ji(c)){const Ct=()=>{try{return(0,Bn.D)(_t.enablePersistence(g||void 0).then(()=>!0,()=>!1))}catch(vn){return typeof console<"u"&&console.warn(vn),(0,xt.of)(!1)}};return[_t,h.runOutsideAngular(Ct)]}return[_t,(0,xt.of)(!1)]},[s,Qe,i])}collection(t,r){let i;i="string"==typeof t?this.firestore.collection(t):t;const{ref:s,query:c}=OB(i,r),h=this.schedulers.ngZone.run(()=>s);return new kB(h,c,this)}collectionGroup(t,r){const i=r||(c=>c),s=this.firestore.collectionGroup(t);return new K9(i(s),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const i=this.schedulers.ngZone.run(()=>r);return new NB(i,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Uo.Dh),u.LFG(Uo.xv,8),u.LFG(Z9,8),u.LFG(Q9,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(nr.HU),u.LFG(Y9,8),u.LFG(X9,8),u.LFG(xB,8),u.LFG(IB,8),u.LFG(bB,8),u.LFG(TB,8),u.LFG(CB,8),u.LFG(DB,8),u.LFG(AB,8),u.LFG(qR,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),KR=(()=>{var n;class e{constructor(r,i){this.firebase=r,this.router=i,this.storedPro=localStorage.getItem("cart")||"[]",this.prods=JSON.parse(this.storedPro),this.cartdata=this.prods,this.cart$=new br.X(this.cartdata),this.items=new u.vpe}data(r,i){const s=this.cartdata.find(({id:c})=>c===r.id);if("add"===i)s?s.amount+=1:this.cartdata.push({...r,amount:1});else{let c=this.cartdata.findIndex(h=>h.id===r.id);1==s?.amount?this.cartdata.splice(c,1):s&&(s.amount-=1)}localStorage.setItem("cart",JSON.stringify(this.cartdata)),this.cart$.next(this.cartdata),this.items.emit(this.cartdata.length)}handleOrder(r,i,s){this.firebase.collection("products").ref.where("id","==",r).get().then(c=>{c.forEach(h=>{const p=h.id;console.log(p),this.firebase.doc(`products/${p}`).update({stock:s-i})})}).catch(c=>{console.log(c)}),localStorage.removeItem("cart"),this.items.next(0),this.router.navigate(["/"])}}return(n=e).\u0275fac=function(r){return new(r||n)(u.LFG(FB),u.LFG($i))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),e})();var vt,J9=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Gl={},xO=xO||{},rn=J9||self;function ZR(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function ST(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var RO="closure_uid_"+(1e9*Math.random()>>>0),t5=0;function n5(n,e,t){return n.call.apply(n.bind,arguments)}function r5(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function wo(n,e,t){return(wo=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?n5:r5).apply(null,arguments)}function YR(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Ps(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(r,i,s){for(var c=Array(arguments.length-2),h=2;h<arguments.length;h++)c[h-2]=arguments[h];return e.prototype[i].apply(r,c)}}function om(){this.s=this.s,this.o=this.o}om.prototype.s=!1,om.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function e5(n){Object.prototype.hasOwnProperty.call(n,RO)&&n[RO]||(n[RO]=++t5)}(this)},om.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const LB=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function MO(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function VB(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(ZR(r)){const i=n.length||0,s=r.length||0;n.length=i+s;for(let c=0;c<s;c++)n[i+c]=r[c]}else n.push(r)}}function Eo(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}Eo.prototype.h=function(){this.defaultPrevented=!0};var s5=function(){if(!rn.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{rn.addEventListener("test",()=>{},e),rn.removeEventListener("test",()=>{},e)}catch{}return n}();function xT(n){return/^[\s\xa0]*$/.test(n)}function QR(){var n=rn.navigator;return n&&(n=n.userAgent)?n:""}function ld(n){return-1!=QR().indexOf(n)}function PO(n){return PO[" "](n),n}PO[" "]=function(){};var NO,a5=ld("Opera"),Zw=ld("Trident")||ld("MSIE"),UB=ld("Edge"),kO=UB||Zw,BB=ld("Gecko")&&!(-1!=QR().toLowerCase().indexOf("webkit")&&!ld("Edge"))&&!(ld("Trident")||ld("MSIE"))&&!ld("Edge"),c5=-1!=QR().toLowerCase().indexOf("webkit")&&!ld("Edge");function jB(){var n=rn.document;return n?n.documentMode:void 0}e:{var OO="",FO=function(){var n=QR();return BB?/rv:([^\);]+)(\)|;)/.exec(n):UB?/Edge\/([\d\.]+)/.exec(n):Zw?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):c5?/WebKit\/(\S+)/.exec(n):a5?/(?:Version)[ \/]?(\S+)/.exec(n):void 0}();if(FO&&(OO=FO?FO[1]:""),Zw){var LO=jB();if(null!=LO&&LO>parseFloat(OO)){NO=String(LO);break e}}NO=OO}var l5=rn.document&&Zw&&(jB()||parseInt(NO,10))||void 0;function RT(n,e){if(Eo.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(BB){e:{try{PO(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:u5[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&RT.$.h.call(this)}}Ps(RT,Eo);var u5={2:"touch",3:"pen",4:"mouse"};RT.prototype.h=function(){RT.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var MT="closure_listenable_"+(1e6*Math.random()|0),d5=0;function h5(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.la=i,this.key=++d5,this.fa=this.ia=!1}function XR(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function UO(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function zB(n){const e={};for(const t in n)e[t]=n[t];return e}const HB="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function GB(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let s=0;s<HB.length;s++)t=HB[s],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function JR(n){this.src=n,this.g={},this.h=0}function BO(n,e){var t=e.type;if(t in n.g){var s,r=n.g[t],i=LB(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(XR(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function jO(n,e,t,r){for(var i=0;i<n.length;++i){var s=n[i];if(!s.fa&&s.listener==e&&s.capture==!!t&&s.la==r)return i}return-1}JR.prototype.add=function(n,e,t,r,i){var s=n.toString();(n=this.g[s])||(n=this.g[s]=[],this.h++);var c=jO(n,e,r,i);return-1<c?(e=n[c],t||(e.ia=!1)):((e=new h5(e,this.src,s,!!r,i)).ia=t,n.push(e)),e};var $O="closure_lm_"+(1e6*Math.random()|0),zO={};function qB(n,e,t,r,i){if(r&&r.once)return KB(n,e,t,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)qB(n,e[s],t,r,i);return null}return t=WO(t),n&&n[MT]?n.O(e,t,ST(r)?!!r.capture:!!r,i):WB(n,e,t,!1,r,i)}function WB(n,e,t,r,i,s){if(!e)throw Error("Invalid event type");var c=ST(i)?!!i.capture:!!i,h=GO(n);if(h||(n[$O]=h=new JR(n)),(t=h.add(e,t,r,c,s)).proxy)return t;if(r=function p5(){const e=m5;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)s5||(i=c),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(YB(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function KB(n,e,t,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)KB(n,e[s],t,r,i);return null}return t=WO(t),n&&n[MT]?n.P(e,t,ST(r)?!!r.capture:!!r,i):WB(n,e,t,!0,r,i)}function ZB(n,e,t,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)ZB(n,e[s],t,r,i);else r=ST(r)?!!r.capture:!!r,t=WO(t),n&&n[MT]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=jO(s=n.g[e],t,r,i))&&(XR(s[t]),Array.prototype.splice.call(s,t,1),0==s.length&&(delete n.g[e],n.h--))):n&&(n=GO(n))&&(e=n.g[e.toString()],n=-1,e&&(n=jO(e,t,r,i)),(t=-1<n?e[n]:null)&&HO(t))}function HO(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[MT])BO(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(YB(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=GO(e))?(BO(t,n),0==t.h&&(t.src=null,e[$O]=null)):XR(n)}}}function YB(n){return n in zO?zO[n]:zO[n]="on"+n}function m5(n,e){if(n.fa)n=!0;else{e=new RT(e,this);var t=n.listener,r=n.la||n.src;n.ia&&HO(n),n=t.call(r,e)}return n}function GO(n){return(n=n[$O])instanceof JR?n:null}var qO="__closure_events_fn_"+(1e9*Math.random()>>>0);function WO(n){return"function"==typeof n?n:(n[qO]||(n[qO]=function(e){return n.handleEvent(e)}),n[qO])}function ks(){om.call(this),this.i=new JR(this),this.S=this,this.J=null}function Zs(n,e){var t,r=n.J;if(r)for(t=[];r;r=r.J)t.push(r);if(n=n.S,r=e.type||e,"string"==typeof e)e=new Eo(e,n);else if(e instanceof Eo)e.target=e.target||n;else{var i=e;GB(e=new Eo(r,n),i)}if(i=!0,t)for(var s=t.length-1;0<=s;s--){var c=e.g=t[s];i=e1(c,r,!0,e)&&i}if(i=e1(c=e.g=n,r,!0,e)&&i,i=e1(c,r,!1,e)&&i,t)for(s=0;s<t.length;s++)i=e1(c=e.g=t[s],r,!1,e)&&i}function e1(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var c=e[s];if(c&&!c.fa&&c.capture==t){var h=c.listener,p=c.la||c.src;c.ia&&BO(n.i,c),i=!1!==h.call(p,r)&&i}}return i&&!r.defaultPrevented}Ps(ks,om),ks.prototype[MT]=!0,ks.prototype.removeEventListener=function(n,e,t,r){ZB(this,n,e,t,r)},ks.prototype.N=function(){if(ks.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)XR(t[r]);delete n.g[e],n.h--}}this.J=null},ks.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},ks.prototype.P=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var KO=rn.JSON.stringify;function _5(){var n=ZO;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var QB=new class g5{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new v5,n=>n.reset());class v5{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function w5(n){var e=1;n=n.split(":");const t=[];for(;0<e&&n.length;)t.push(n.shift()),e--;return n.length&&t.push(n.join(":")),t}function E5(n){rn.setTimeout(()=>{throw n},0)}let PT,kT=!1,ZO=new class y5{constructor(){this.h=this.g=null}add(e,t){const r=QB.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}},XB=()=>{const n=rn.Promise.resolve(void 0);PT=()=>{n.then(I5)}};var I5=()=>{for(var n;n=_5();){try{n.h.call(n.g)}catch(t){E5(t)}var e=QB;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}kT=!1};function t1(n,e){ks.call(this),this.h=n||1,this.g=e||rn,this.j=wo(this.qb,this),this.l=Date.now()}function YO(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function QO(n,e,t){if("function"==typeof n)t&&(n=wo(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=wo(n.handleEvent,n)}return 2147483647<Number(e)?-1:rn.setTimeout(n,e||0)}function JB(n){n.g=QO(()=>{n.g=null,n.i&&(n.i=!1,JB(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Ps(t1,ks),(vt=t1.prototype).ga=!1,vt.T=null,vt.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Zs(this,"tick"),this.ga&&(YO(this),this.start()))}},vt.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},vt.N=function(){t1.$.N.call(this),YO(this),delete this.g};class b5 extends om{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:JB(this)}N(){super.N(),this.g&&(rn.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function NT(n){om.call(this),this.h=n,this.g={}}Ps(NT,om);var ej=[];function tj(n,e,t,r){Array.isArray(t)||(t&&(ej[0]=t.toString()),t=ej);for(var i=0;i<t.length;i++){var s=qB(e,t[i],r||n.handleEvent,!1,n.h||n);if(!s)break;n.g[s.key]=s}}function nj(n){UO(n.g,function(e,t){this.g.hasOwnProperty(t)&&HO(e)},n),n.g={}}function n1(){this.g=!0}function Yw(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function A5(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var c=1;c<i.length;c++)i[c]=""}}}return KO(t)}catch{return e}}(n,t)+(r?" "+r:"")})}NT.prototype.N=function(){NT.$.N.call(this),nj(this)},NT.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},n1.prototype.Ea=function(){this.g=!1},n1.prototype.info=function(){};var k_={},rj=null;function r1(){return rj=rj||new ks}function ij(n){Eo.call(this,k_.Ta,n)}function OT(n){const e=r1();Zs(e,new ij(e))}function sj(n,e){Eo.call(this,k_.STAT_EVENT,n),this.stat=e}function Ko(n){const e=r1();Zs(e,new sj(e,n))}function oj(n,e){Eo.call(this,k_.Ua,n),this.size=e}function FT(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return rn.setTimeout(function(){n()},e)}k_.Ta="serverreachability",Ps(ij,Eo),k_.STAT_EVENT="statevent",Ps(sj,Eo),k_.Ua="timingevent",Ps(oj,Eo);var s1={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},aj={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function XO(){}function lj(){}XO.prototype.h=null;var tF,LT={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function JO(){Eo.call(this,"d")}function eF(){Eo.call(this,"c")}function o1(){}function VT(n,e,t,r){this.l=n,this.j=e,this.m=t,this.W=r||1,this.U=new NT(this),this.P=S5,this.V=new t1(n=kO?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new uj}function uj(){this.i=null,this.g="",this.h=!1}Ps(JO,Eo),Ps(eF,Eo),Ps(o1,XO),o1.prototype.g=function(){return new XMLHttpRequest},o1.prototype.i=function(){return{}},tF=new o1;var S5=45e3,nF={},a1={};function rF(n,e,t){n.L=1,n.v=d1(rf(e)),n.s=t,n.S=!0,dj(n,null)}function dj(n,e){n.G=Date.now(),UT(n),n.A=rf(n.v);var t=n.A,r=n.W;Array.isArray(r)||(r=[String(r)]),Ej(t.i,"t",r),n.C=0,t=n.l.J,n.h=new uj,n.g=Gj(n.l,t?e:null,!n.s),0<n.O&&(n.M=new b5(wo(n.Pa,n,n.g),n.O)),tj(n.U,n.g,"readystatechange",n.nb),e=n.I?zB(n.I):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,e)):(n.u="GET",n.g.ha(n.A,n.u,null,e)),OT(),function T5(n,e,t,r,i,s){n.info(function(){if(n.g)if(s)for(var c="",h=s.split("&"),p=0;p<h.length;p++){var g=h[p].split("=");if(1<g.length){var w=g[0];g=g[1];var D=w.split("_");c=2<=D.length&&"type"==D[1]?c+(w+"=")+g+"&":c+(w+"=redacted&")}}else c=null;else c=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+c})}(n.j,n.u,n.A,n.m,n.W,n.s)}function hj(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function fj(n,e,t){let i,r=!0;for(;!n.J&&n.C<t.length;){if(i=x5(n,t),i==a1){4==e&&(n.o=4,Ko(14),r=!1),Yw(n.j,n.m,null,"[Incomplete Response]");break}if(i==nF){n.o=4,Ko(15),Yw(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}Yw(n.j,n.m,i,null),iF(n,i)}hj(n)&&i!=a1&&i!=nF&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Ko(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.ba&&(n.ba=!0,(e=n.l).g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),dF(e),e.M=!0,Ko(11))):(Yw(n.j,n.m,t,"[Invalid Chunked Response]"),N_(n),BT(n))}function x5(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?a1:(t=Number(e.substring(t,r)),isNaN(t)?nF:(r+=1)+t>e.length?a1:(e=e.slice(r,r+t),n.C=r+t,e))}function UT(n){n.Y=Date.now()+n.P,pj(n,n.P)}function pj(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=FT(wo(n.lb,n),e)}function c1(n){n.B&&(rn.clearTimeout(n.B),n.B=null)}function BT(n){0==n.l.H||n.J||jj(n.l,n)}function N_(n){c1(n);var e=n.M;e&&"function"==typeof e.sa&&e.sa(),n.M=null,YO(n.V),nj(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function iF(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||sF(t.i,n)))if(!n.K&&sF(t.i,n)&&3==t.H){try{var r=t.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;_1(t),m1(t)}uF(t),Ko(18)}}else t.Fa=i[1],0<t.Fa-t.V&&37500>i[2]&&t.G&&0==t.A&&!t.v&&(t.v=FT(wo(t.ib,t),6e3));if(1>=Tj(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else F_(t,11)}else if((n.K||t.g==n)&&_1(t),!xT(e))for(i=t.Ja.g.parse(e),e=0;e<i.length;e++){let g=i[e];if(t.V=g[0],g=g[1],2==t.H)if("c"==g[0]){t.K=g[1],t.pa=g[2];const w=g[3];null!=w&&(t.ra=w,t.l.info("VER="+t.ra));const D=g[4];null!=D&&(t.Ga=D,t.l.info("SVER="+t.Ga));const M=g[5];null!=M&&"number"==typeof M&&0<M&&(t.L=r=1.5*M,t.l.info("backChannelRequestTimeoutMs_="+r)),r=t;const N=n.g;if(N){const K=N.g?N.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(K){var s=r.i;s.g||-1==K.indexOf("spdy")&&-1==K.indexOf("quic")&&-1==K.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(oF(s,s.h),s.h=null))}if(r.F){const te=N.g?N.g.getResponseHeader("X-HTTP-Session-Id"):null;te&&(r.Da=te,$r(r.I,r.F,te))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-n.G,t.l.info("Handshake RTT: "+t.S+"ms"));var c=n;if((r=t).wa=Hj(r,r.J?r.pa:null,r.Y),c.K){Cj(r.i,c);var h=c,p=r.L;p&&h.setTimeout(p),h.B&&(c1(h),UT(h)),r.g=c}else Uj(r);0<t.j.length&&g1(t)}else"stop"!=g[0]&&"close"!=g[0]||F_(t,7);else 3==t.H&&("stop"==g[0]||"close"==g[0]?"stop"==g[0]?F_(t,7):lF(t):"noop"!=g[0]&&t.h&&t.h.Aa(g),t.A=0)}OT()}catch{}}function mj(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(ZR(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function M5(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(ZR(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function R5(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(ZR(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],t&&t[s],n)}(vt=VT.prototype).setTimeout=function(n){this.P=n},vt.nb=function(n){n=n.target;const e=this.M;e&&3==ud(n)?e.l():this.Pa(n)},vt.Pa=function(n){try{if(n==this.g)e:{const w=ud(this.g);var e=this.g.Ia();if(this.g.da(),!(3>w)&&(3!=w||kO||this.g&&(this.h.h||this.g.ja()||kj(this.g)))){this.J||4!=w||7==e||OT(),c1(this);var t=this.g.da();this.ca=t;t:if(hj(this)){var r=kj(this.g);n="";var i=r.length,s=4==ud(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){N_(this),BT(this);var c="";break t}this.h.i=new rn.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,c=this.h.g}else c=this.g.ja();if(this.i=200==t,function C5(n,e,t,r,i,s,c){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+s+" "+c})}(this.j,this.u,this.A,this.m,this.W,w,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var h,p=this.g;if((h=p.g?p.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!xT(h)){var g=h;break t}}g=null}if(!(t=g)){this.i=!1,this.o=3,Ko(12),N_(this),BT(this);break e}Yw(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,iF(this,t)}this.S?(fj(this,w,c),kO&&this.i&&3==w&&(tj(this.U,this.V,"tick",this.mb),this.V.start())):(Yw(this.j,this.m,c,null),iF(this,c)),4==w&&N_(this),this.i&&!this.J&&(4==w?jj(this.l,this):(this.i=!1,UT(this)))}else(function Z5(n){const e={};n=(n.g&&2<=ud(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<n.length;r++){if(xT(n[r]))continue;var t=w5(n[r]);const i=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const s=e[i]||[];e[i]=s,s.push(t)}!function f5(n,e){for(const t in n)e.call(void 0,n[t],t,n)}(e,function(r){return r.join(", ")})})(this.g),400==t&&0<c.indexOf("Unknown SID")?(this.o=3,Ko(12)):(this.o=0,Ko(13)),N_(this),BT(this)}}}catch{}},vt.mb=function(){if(this.g){var n=ud(this.g),e=this.g.ja();this.C<e.length&&(c1(this),fj(this,n,e),this.i&&4!=n&&UT(this))}},vt.cancel=function(){this.J=!0,N_(this)},vt.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function D5(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(OT(),Ko(17)),N_(this),this.o=2,BT(this)):pj(this,this.Y-n)};var gj=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function O_(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof O_){this.h=n.h,l1(this,n.j),this.s=n.s,this.g=n.g,u1(this,n.m),this.l=n.l;var e=n.i,t=new zT;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),_j(this,t),this.o=n.o}else n&&(e=String(n).match(gj))?(this.h=!1,l1(this,e[1]||"",!0),this.s=jT(e[2]||""),this.g=jT(e[3]||"",!0),u1(this,e[4]),this.l=jT(e[5]||"",!0),_j(this,e[6]||"",!0),this.o=jT(e[7]||"")):(this.h=!1,this.i=new zT(null,this.h))}function rf(n){return new O_(n)}function l1(n,e,t){n.j=t?jT(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function u1(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function _j(n,e,t){e instanceof zT?(n.i=e,function V5(n,e){e&&!n.j&&(am(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(vj(this,r),Ej(this,i,t))},n)),n.j=e}(n.i,n.h)):(t||(e=$T(e,F5)),n.i=new zT(e,n.h))}function $r(n,e,t){n.i.set(e,t)}function d1(n){return $r(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function jT(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function $T(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,k5),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function k5(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}O_.prototype.toString=function(){var n=[],e=this.j;e&&n.push($T(e,yj,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push($T(e,yj,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push($T(t,"/"==t.charAt(0)?O5:N5,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",$T(t,L5)),n.join("")};var yj=/[#\/\?@]/g,N5=/[#\?:]/g,O5=/[#\?]/g,F5=/[#\?@]/g,L5=/#/g;function zT(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function am(n){n.g||(n.g=new Map,n.h=0,n.i&&function P5(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var s=n[t].substring(0,r);i=n[t].substring(r+1)}else s=n[t];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function vj(n,e){am(n),e=Qw(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function wj(n,e){return am(n),e=Qw(n,e),n.g.has(e)}function Ej(n,e,t){vj(n,e),0<t.length&&(n.i=null,n.g.set(Qw(n,e),MO(t)),n.h+=t.length)}function Qw(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function Ij(n){this.l=n||B5,n=rn.PerformanceNavigationTiming?0<(n=rn.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(rn.g&&rn.g.Ka&&rn.g.Ka()&&rn.g.Ka().dc),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(vt=zT.prototype).add=function(n,e){am(this),this.i=null,n=Qw(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},vt.forEach=function(n,e){am(this),this.g.forEach(function(t,r){t.forEach(function(i){n.call(e,i,r,this)},this)},this)},vt.ta=function(){am(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const i=n[r];for(let s=0;s<i.length;s++)t.push(e[r])}return t},vt.Z=function(n){am(this);let e=[];if("string"==typeof n)wj(this,n)&&(e=e.concat(this.g.get(Qw(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},vt.set=function(n,e){return am(this),this.i=null,wj(this,n=Qw(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},vt.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},vt.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const s=encodeURIComponent(String(r)),c=this.Z(r);for(r=0;r<c.length;r++){var i=s;""!==c[r]&&(i+="="+encodeURIComponent(String(c[r]))),n.push(i)}}return this.i=n.join("&")};var B5=10;function bj(n){return!!n.h||!!n.g&&n.g.size>=n.j}function Tj(n){return n.h?1:n.g?n.g.size:0}function sF(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function oF(n,e){n.g?n.g.add(e):n.h=e}function Cj(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function Dj(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return MO(n.i)}Ij.prototype.cancel=function(){if(this.i=Dj(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}};var j5=class{stringify(n){return rn.JSON.stringify(n,void 0)}parse(n){return rn.JSON.parse(n,void 0)}};function $5(){this.g=new j5}function z5(n,e,t){const r=t||"";try{mj(n,function(i,s){let c=i;ST(i)&&(c=KO(i)),e.push(r+s+"="+encodeURIComponent(c))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function h1(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function HT(n){this.l=n.ec||null,this.j=n.ob||!1}function f1(n,e){ks.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=aF,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ps(HT,XO),HT.prototype.g=function(){return new f1(this.l,this.j)},HT.prototype.i=function(n){return function(){return n}}({}),Ps(f1,ks);var aF=0;function Aj(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function GT(n){n.readyState=4,n.l=null,n.j=null,n.A=null,qT(n)}function qT(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(vt=f1.prototype).open=function(n,e){if(this.readyState!=aF)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,qT(this)},vt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||rn).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},vt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,GT(this)),this.readyState=aF},vt.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,qT(this)),this.g&&(this.readyState=3,qT(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof rn.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Aj(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},vt.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?GT(this):qT(this),3==this.readyState&&Aj(this)}},vt.Za=function(n){this.g&&(this.response=this.responseText=n,GT(this))},vt.Ya=function(n){this.g&&(this.response=n,GT(this))},vt.ka=function(){this.g&&GT(this)},vt.setRequestHeader=function(n,e){this.v.append(n,e)},vt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},vt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(f1.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var G5=rn.JSON.parse;function _i(n){ks.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Sj,this.L=this.M=!1}Ps(_i,ks);var Sj="",q5=/^https?$/i,W5=["POST","PUT"];function xj(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,Rj(n),p1(n)}function Rj(n){n.F||(n.F=!0,Zs(n,"complete"),Zs(n,"error"))}function Mj(n){if(n.h&&typeof xO<"u"&&(!n.C[1]||4!=ud(n)||2!=n.da()))if(n.v&&4==ud(n))QO(n.La,0,n);else if(Zs(n,"readystatechange"),4==ud(n)){n.h=!1;try{const c=n.da();e:switch(c){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===c){var i=String(n.I).match(gj)[1]||null;!i&&rn.self&&rn.self.location&&(i=rn.self.location.protocol.slice(0,-1)),r=!q5.test(i?i.toLowerCase():"")}t=r}if(t)Zs(n,"complete"),Zs(n,"success");else{n.m=6;try{var s=2<ud(n)?n.g.statusText:""}catch{s=""}n.j=s+" ["+n.da()+"]",Rj(n)}}finally{p1(n)}}}function p1(n,e){if(n.g){Pj(n);const t=n.g,r=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||Zs(n,"ready");try{t.onreadystatechange=r}catch{}}}function Pj(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(rn.clearTimeout(n.A),n.A=null)}function ud(n){return n.g?n.g.readyState:0}function kj(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case Sj:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function Nj(n){let e="";return UO(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function cF(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=Nj(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):$r(n,e,t))}function WT(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function Oj(n){this.Ga=0,this.j=[],this.l=new n1,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=WT("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=WT("baseRetryDelayMs",5e3,n),this.hb=WT("retryDelaySeedMs",1e4,n),this.eb=WT("forwardChannelMaxRetries",2,n),this.xa=WT("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.useFetchStreams||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new Ij(n&&n.concurrentRequestLimit),this.Ja=new $5,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function lF(n){if(Fj(n),3==n.H){var e=n.W++,t=rf(n.I);if($r(t,"SID",n.K),$r(t,"RID",e),$r(t,"TYPE","terminate"),KT(n,t),(e=new VT(n,n.l,e)).L=2,e.v=d1(rf(t)),t=!1,rn.navigator&&rn.navigator.sendBeacon)try{t=rn.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&rn.Image&&((new Image).src=e.v,t=!0),t||(e.g=Gj(e.l,null),e.g.ha(e.v)),e.G=Date.now(),UT(e)}zj(n)}function m1(n){n.g&&(dF(n),n.g.cancel(),n.g=null)}function Fj(n){m1(n),n.u&&(rn.clearTimeout(n.u),n.u=null),_1(n),n.i.cancel(),n.m&&("number"==typeof n.m&&rn.clearTimeout(n.m),n.m=null)}function g1(n){if(!bj(n.i)&&!n.m){n.m=!0;var e=n.Na;PT||XB(),kT||(PT(),kT=!0),ZO.add(e,n),n.C=0}}function Lj(n,e){var t;t=e?e.m:n.W++;const r=rf(n.I);$r(r,"SID",n.K),$r(r,"RID",t),$r(r,"AID",n.V),KT(n,r),n.o&&n.s&&cF(r,n.o,n.s),t=new VT(n,n.l,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.j=e.F.concat(n.j)),e=Vj(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),oF(n.i,t),rF(t,r,e)}function KT(n,e){n.na&&UO(n.na,function(t,r){$r(e,r,t)}),n.h&&mj({},function(t,r){$r(e,r,t)})}function Vj(n,e,t){t=Math.min(n.j.length,t);var r=n.h?wo(n.h.Va,n.h,n):null;e:{var i=n.j;let s=-1;for(;;){const c=["count="+t];-1==s?0<t?(s=i[0].g,c.push("ofs="+s)):s=0:c.push("ofs="+s);let h=!0;for(let p=0;p<t;p++){let g=i[p].g;const w=i[p].map;if(g-=s,0>g)s=Math.max(0,i[p].g-100),h=!1;else try{z5(w,c,"req"+g+"_")}catch{r&&r(w)}}if(h){r=c.join("&");break e}}}return n=n.j.splice(0,t),e.F=n,r}function Uj(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;PT||XB(),kT||(PT(),kT=!0),ZO.add(e,n),n.A=0}}function uF(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=FT(wo(n.Ma,n),$j(n,n.A)),n.A++,0))}function dF(n){null!=n.B&&(rn.clearTimeout(n.B),n.B=null)}function Bj(n){n.g=new VT(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=rf(n.wa);$r(e,"RID","rpc"),$r(e,"SID",n.K),$r(e,"AID",n.V),$r(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&$r(e,"TO",n.qa),$r(e,"TYPE","xmlhttp"),KT(n,e),n.o&&n.s&&cF(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var t=n.g;n=n.pa,t.L=1,t.v=d1(rf(e)),t.s=null,t.S=!0,dj(t,n)}function _1(n){null!=n.v&&(rn.clearTimeout(n.v),n.v=null)}function jj(n,e){var t=null;if(n.g==e){_1(n),dF(n),n.g=null;var r=2}else{if(!sF(n.i,e))return;t=e.F,Cj(n.i,e),r=1}if(0!=n.H)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.G;var i=n.C;Zs(r=r1(),new oj(r,t)),g1(n)}else Uj(n);else if(3==(i=e.o)||0==i&&0<e.ca||!(1==r&&function Y5(n,e){return!(Tj(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=e.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=FT(wo(n.Na,n,e),$j(n,n.C)),n.C++,0)))}(n,e)||2==r&&uF(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),i){case 1:F_(n,5);break;case 4:F_(n,10);break;case 3:F_(n,6);break;default:F_(n,2)}}function $j(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(t*=2),t*e}function F_(n,e){if(n.l.info("Error code "+e),2==e){var t=null;n.h&&(t=null);var r=wo(n.pb,n);t||(t=new O_("//www.google.com/images/cleardot.gif"),rn.location&&"http"==rn.location.protocol||l1(t,"https"),d1(t)),function H5(n,e){const t=new n1;if(rn.Image){const r=new Image;r.onload=YR(h1,t,r,"TestLoadImage: loaded",!0,e),r.onerror=YR(h1,t,r,"TestLoadImage: error",!1,e),r.onabort=YR(h1,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=YR(h1,t,r,"TestLoadImage: timeout",!1,e),rn.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else Ko(2);n.H=0,n.h&&n.h.za(e),zj(n),Fj(n)}function zj(n){if(n.H=0,n.ma=[],n.h){const e=Dj(n.i);(0!=e.length||0!=n.j.length)&&(VB(n.ma,e),VB(n.ma,n.j),n.i.i.length=0,MO(n.j),n.j.length=0),n.h.ya()}}function Hj(n,e,t){var r=t instanceof O_?rf(t):new O_(t);if(""!=r.g)e&&(r.g=e+"."+r.g),u1(r,r.m);else{var i=rn.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new O_(null);r&&l1(s,r),e&&(s.g=e),i&&u1(s,i),t&&(s.l=t),r=s}return e=n.Da,(t=n.F)&&e&&$r(r,t,e),$r(r,"VER",n.ra),KT(n,r),r}function Gj(n,e,t){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new _i(t&&n.Ha&&!n.va?new HT({ob:!0}):n.va)).Oa(n.J),e}function qj(){}function y1(){if(Zw&&!(10<=Number(l5)))throw Error("Environmental error: no available transport.")}function Xa(n,e){ks.call(this),this.g=new Oj(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!xT(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!xT(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Xw(this)}function Wj(n){JO.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function Kj(){eF.call(this),this.status=1}function Xw(n){this.g=n}function ql(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function hF(n,e,t){t||(t=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(i=0;16>i;++i)r[i]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var s=n.g[3],c=(e=n.g[0])+(s^(t=n.g[1])&((i=n.g[2])^s))+r[0]+3614090360&4294967295;c=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=t+(c<<7&4294967295|c>>>25))+((c=s+(i^e&(t^i))+r[1]+3905402710&4294967295)<<12&4294967295|c>>>20))+((c=i+(t^s&(e^t))+r[2]+606105819&4294967295)<<17&4294967295|c>>>15))+((c=t+(e^i&(s^e))+r[3]+3250441966&4294967295)<<22&4294967295|c>>>10))+((c=e+(s^t&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|c>>>25))+((c=s+(i^e&(t^i))+r[5]+1200080426&4294967295)<<12&4294967295|c>>>20))+((c=i+(t^s&(e^t))+r[6]+2821735955&4294967295)<<17&4294967295|c>>>15))+((c=t+(e^i&(s^e))+r[7]+4249261313&4294967295)<<22&4294967295|c>>>10))+((c=e+(s^t&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|c>>>25))+((c=s+(i^e&(t^i))+r[9]+2336552879&4294967295)<<12&4294967295|c>>>20))+((c=i+(t^s&(e^t))+r[10]+4294925233&4294967295)<<17&4294967295|c>>>15))+((c=t+(e^i&(s^e))+r[11]+2304563134&4294967295)<<22&4294967295|c>>>10))+((c=e+(s^t&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|c>>>25))+((c=s+(i^e&(t^i))+r[13]+4254626195&4294967295)<<12&4294967295|c>>>20))+((c=i+(t^s&(e^t))+r[14]+2792965006&4294967295)<<17&4294967295|c>>>15))+((c=t+(e^i&(s^e))+r[15]+1236535329&4294967295)<<22&4294967295|c>>>10))+((c=e+(i^s&(t^i))+r[1]+4129170786&4294967295)<<5&4294967295|c>>>27))+((c=s+(t^i&(e^t))+r[6]+3225465664&4294967295)<<9&4294967295|c>>>23))+((c=i+(e^t&(s^e))+r[11]+643717713&4294967295)<<14&4294967295|c>>>18))+((c=t+(s^e&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|c>>>12))+((c=e+(i^s&(t^i))+r[5]+3593408605&4294967295)<<5&4294967295|c>>>27))+((c=s+(t^i&(e^t))+r[10]+38016083&4294967295)<<9&4294967295|c>>>23))+((c=i+(e^t&(s^e))+r[15]+3634488961&4294967295)<<14&4294967295|c>>>18))+((c=t+(s^e&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|c>>>12))+((c=e+(i^s&(t^i))+r[9]+568446438&4294967295)<<5&4294967295|c>>>27))+((c=s+(t^i&(e^t))+r[14]+3275163606&4294967295)<<9&4294967295|c>>>23))+((c=i+(e^t&(s^e))+r[3]+4107603335&4294967295)<<14&4294967295|c>>>18))+((c=t+(s^e&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|c>>>12))+((c=e+(i^s&(t^i))+r[13]+2850285829&4294967295)<<5&4294967295|c>>>27))+((c=s+(t^i&(e^t))+r[2]+4243563512&4294967295)<<9&4294967295|c>>>23))+((c=i+(e^t&(s^e))+r[7]+1735328473&4294967295)<<14&4294967295|c>>>18))+((c=t+(s^e&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|c>>>12))+((c=e+(t^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|c>>>28))+((c=s+(e^t^i)+r[8]+2272392833&4294967295)<<11&4294967295|c>>>21))+((c=i+(s^e^t)+r[11]+1839030562&4294967295)<<16&4294967295|c>>>16))+((c=t+(i^s^e)+r[14]+4259657740&4294967295)<<23&4294967295|c>>>9))+((c=e+(t^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|c>>>28))+((c=s+(e^t^i)+r[4]+1272893353&4294967295)<<11&4294967295|c>>>21))+((c=i+(s^e^t)+r[7]+4139469664&4294967295)<<16&4294967295|c>>>16))+((c=t+(i^s^e)+r[10]+3200236656&4294967295)<<23&4294967295|c>>>9))+((c=e+(t^i^s)+r[13]+681279174&4294967295)<<4&4294967295|c>>>28))+((c=s+(e^t^i)+r[0]+3936430074&4294967295)<<11&4294967295|c>>>21))+((c=i+(s^e^t)+r[3]+3572445317&4294967295)<<16&4294967295|c>>>16))+((c=t+(i^s^e)+r[6]+76029189&4294967295)<<23&4294967295|c>>>9))+((c=e+(t^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|c>>>28))+((c=s+(e^t^i)+r[12]+3873151461&4294967295)<<11&4294967295|c>>>21))+((c=i+(s^e^t)+r[15]+530742520&4294967295)<<16&4294967295|c>>>16))+((c=t+(i^s^e)+r[2]+3299628645&4294967295)<<23&4294967295|c>>>9))+((c=e+(i^(t|~s))+r[0]+4096336452&4294967295)<<6&4294967295|c>>>26))+((c=s+(t^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|c>>>22))+((c=i+(e^(s|~t))+r[14]+2878612391&4294967295)<<15&4294967295|c>>>17))+((c=t+(s^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|c>>>11))+((c=e+(i^(t|~s))+r[12]+1700485571&4294967295)<<6&4294967295|c>>>26))+((c=s+(t^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|c>>>22))+((c=i+(e^(s|~t))+r[10]+4293915773&4294967295)<<15&4294967295|c>>>17))+((c=t+(s^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|c>>>11))+((c=e+(i^(t|~s))+r[8]+1873313359&4294967295)<<6&4294967295|c>>>26))+((c=s+(t^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|c>>>22))+((c=i+(e^(s|~t))+r[6]+2734768916&4294967295)<<15&4294967295|c>>>17))+((c=t+(s^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|c>>>11))+((s=(e=t+((c=e+(i^(t|~s))+r[4]+4149444226&4294967295)<<6&4294967295|c>>>26))+((c=s+(t^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|c>>>22))^((i=s+((c=i+(e^(s|~t))+r[2]+718787259&4294967295)<<15&4294967295|c>>>17))|~e))+r[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(i+(c<<21&4294967295|c>>>11))&4294967295,n.g[2]=n.g[2]+i&4294967295,n.g[3]=n.g[3]+s&4294967295}function ir(n,e){this.h=e;for(var t=[],r=!0,i=n.length-1;0<=i;i--){var s=0|n[i];r&&s==e||(t[i]=s,r=!1)}this.g=t}(vt=_i.prototype).Oa=function(n){this.M=n},vt.ha=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():tF.g(),this.C=function cj(n){return n.h||(n.h=n.i())}(this.u?this.u:tF),this.g.onreadystatechange=wo(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(s){return void xj(this,s)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)t.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const s of r.keys())t.set(s,r.get(s))}r=Array.from(t.keys()).find(s=>"content-type"==s.toLowerCase()),i=rn.FormData&&n instanceof rn.FormData,!(0<=LB(W5,e))||r||i||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,c]of t)this.g.setRequestHeader(s,c);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Pj(this),0<this.B&&((this.L=function K5(n){return Zw&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=wo(this.ua,this)):this.A=QO(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(s){xj(this,s)}},vt.ua=function(){typeof xO<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Zs(this,"timeout"),this.abort(8))},vt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Zs(this,"complete"),Zs(this,"abort"),p1(this))},vt.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),p1(this,!0)),_i.$.N.call(this)},vt.La=function(){this.s||(this.G||this.v||this.l?Mj(this):this.kb())},vt.kb=function(){Mj(this)},vt.isActive=function(){return!!this.g},vt.da=function(){try{return 2<ud(this)?this.g.status:-1}catch{return-1}},vt.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},vt.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),G5(e)}},vt.Ia=function(){return this.m},vt.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(vt=Oj.prototype).ra=8,vt.H=1,vt.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const i=new VT(this,this.l,n);let s=this.s;if(this.U&&(s?(s=zB(s),GB(s,this.U)):s=this.U),null!==this.o||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var r=this.j[t];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=Vj(this,i,e),$r(t=rf(this.I),"RID",n),$r(t,"CVER",22),this.F&&$r(t,"X-HTTP-Session-Id",this.F),KT(this,t),s&&(this.O?e="headers="+encodeURIComponent(String(Nj(s)))+"&"+e:this.o&&cF(t,this.o,s)),oF(this.i,i),this.bb&&$r(t,"TYPE","init"),this.P?($r(t,"$req",e),$r(t,"SID","null"),i.aa=!0,rF(i,t,null)):rF(i,t,e),this.H=2}}else 3==this.H&&(n?Lj(this,n):0==this.j.length||bj(this.i)||Lj(this))},vt.Ma=function(){if(this.u=null,Bj(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=FT(wo(this.jb,this),n)}},vt.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Ko(10),m1(this),Bj(this))},vt.ib=function(){null!=this.v&&(this.v=null,m1(this),uF(this),Ko(19))},vt.pb=function(n){n?(this.l.info("Successfully pinged google.com"),Ko(2)):(this.l.info("Failed to ping google.com"),Ko(1))},vt.isActive=function(){return!!this.h&&this.h.isActive(this)},(vt=qj.prototype).Ba=function(){},vt.Aa=function(){},vt.za=function(){},vt.ya=function(){},vt.isActive=function(){return!0},vt.Va=function(){},y1.prototype.g=function(n,e){return new Xa(n,e)},Ps(Xa,ks),Xa.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,t=this.h||void 0;Ko(0),n.Y=e,n.na=t||{},n.G=n.aa,n.I=Hj(n,null,n.Y),g1(n)},Xa.prototype.close=function(){lF(this.g)},Xa.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=KO(n),n=t);e.j.push(new class{constructor(n,e){this.g=n,this.map=e}}(e.fb++,n)),3==e.H&&g1(e)},Xa.prototype.N=function(){this.g.h=null,delete this.j,lF(this.g),delete this.g,Xa.$.N.call(this)},Ps(Wj,JO),Ps(Kj,eF),Ps(Xw,qj),Xw.prototype.Ba=function(){Zs(this.g,"a")},Xw.prototype.Aa=function(n){Zs(this.g,new Wj(n))},Xw.prototype.za=function(n){Zs(this.g,new Kj)},Xw.prototype.ya=function(){Zs(this.g,"b")},Ps(ql,function Q5(){this.blockSize=-1}),ql.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},ql.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(0==i)for(;s<=t;)hF(this,n,s),s+=this.blockSize;if("string"==typeof n){for(;s<e;)if(r[i++]=n.charCodeAt(s++),i==this.blockSize){hF(this,r),i=0;break}}else for(;s<e;)if(r[i++]=n[s++],i==this.blockSize){hF(this,r),i=0;break}}this.h=i,this.i+=e},ql.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var r=0;32>r;r+=8)n[t++]=this.g[e]>>>r&255;return n};var X5={};function fF(n){return-128<=n&&128>n?function o5(n,e){var t=X5;return Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=e(n)}(n,function(e){return new ir([0|e],0>e?-1:0)}):new ir([0|n],0>n?-1:0)}function dd(n){if(isNaN(n)||!isFinite(n))return Jw;if(0>n)return Ys(dd(-n));for(var e=[],t=1,r=0;n>=t;r++)e[r]=n/t|0,t*=pF;return new ir(e,0)}var pF=4294967296,Jw=fF(0),mF=fF(1),Yj=fF(16777216);function sf(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function jc(n){return-1==n.h}function Ys(n){for(var e=n.g.length,t=[],r=0;r<e;r++)t[r]=~n.g[r];return new ir(t,~n.h).add(mF)}function v1(n,e){return n.add(Ys(e))}function w1(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function ZT(n,e){this.g=n,this.h=e}function E1(n,e){if(sf(e))throw Error("division by zero");if(sf(n))return new ZT(Jw,Jw);if(jc(n))return e=E1(Ys(n),e),new ZT(Ys(e.g),Ys(e.h));if(jc(e))return e=E1(n,Ys(e)),new ZT(Ys(e.g),e.h);if(30<n.g.length){if(jc(n)||jc(e))throw Error("slowDivide_ only works with positive integers.");for(var t=mF,r=e;0>=r.X(n);)t=Qj(t),r=Qj(r);var i=e0(t,1),s=e0(r,1);for(r=e0(r,2),t=e0(t,2);!sf(r);){var c=s.add(r);0>=c.X(n)&&(i=i.add(t),s=c),r=e0(r,1),t=e0(t,1)}return e=v1(n,i.R(e)),new ZT(i,e)}for(i=Jw;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,r-48),c=(s=dd(t)).R(e);jc(c)||0<c.X(n);)c=(s=dd(t-=r)).R(e);sf(s)&&(s=mF),i=i.add(s),n=v1(n,c)}return new ZT(i,n)}function Qj(n){for(var e=n.g.length+1,t=[],r=0;r<e;r++)t[r]=n.D(r)<<1|n.D(r-1)>>>31;return new ir(t,n.h)}function e0(n,e){var t=e>>5;e%=32;for(var r=n.g.length-t,i=[],s=0;s<r;s++)i[s]=0<e?n.D(s+t)>>>e|n.D(s+t+1)<<32-e:n.D(s+t);return new ir(i,n.h)}(vt=ir.prototype).ea=function(){if(jc(this))return-Ys(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var r=this.D(t);n+=(0<=r?r:pF+r)*e,e*=pF}return n},vt.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(sf(this))return"0";if(jc(this))return"-"+Ys(this).toString(n);for(var e=dd(Math.pow(n,6)),t=this,r="";;){var i=E1(t,e).g,s=((0<(t=v1(t,i.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(sf(t=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},vt.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},vt.X=function(n){return jc(n=v1(this,n))?-1:sf(n)?0:1},vt.abs=function(){return jc(this)?Ys(this):this},vt.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0,i=0;i<=e;i++){var s=r+(65535&this.D(i))+(65535&n.D(i)),c=(s>>>16)+(this.D(i)>>>16)+(n.D(i)>>>16);r=c>>>16,t[i]=(c&=65535)<<16|(s&=65535)}return new ir(t,-2147483648&t[t.length-1]?-1:0)},vt.R=function(n){if(sf(this)||sf(n))return Jw;if(jc(this))return jc(n)?Ys(this).R(Ys(n)):Ys(Ys(this).R(n));if(jc(n))return Ys(this.R(Ys(n)));if(0>this.X(Yj)&&0>n.X(Yj))return dd(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],r=0;r<2*e;r++)t[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<n.g.length;i++){var s=this.D(r)>>>16,c=65535&this.D(r),h=n.D(i)>>>16,p=65535&n.D(i);t[2*r+2*i]+=c*p,w1(t,2*r+2*i),t[2*r+2*i+1]+=s*p,w1(t,2*r+2*i+1),t[2*r+2*i+1]+=c*h,w1(t,2*r+2*i+1),t[2*r+2*i+2]+=s*h,w1(t,2*r+2*i+2)}for(r=0;r<e;r++)t[r]=t[2*r+1]<<16|t[2*r];for(r=e;r<2*e;r++)t[r]=0;return new ir(t,0)},vt.gb=function(n){return E1(this,n).h},vt.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)&n.D(r);return new ir(t,this.h&n.h)},vt.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)|n.D(r);return new ir(t,this.h|n.h)},vt.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)^n.D(r);return new ir(t,this.h^n.h)},y1.prototype.createWebChannel=y1.prototype.g,Xa.prototype.send=Xa.prototype.u,Xa.prototype.open=Xa.prototype.m,Xa.prototype.close=Xa.prototype.close,s1.NO_ERROR=0,s1.TIMEOUT=8,s1.HTTP_ERROR=6,aj.COMPLETE="complete",lj.EventType=LT,LT.OPEN="a",LT.CLOSE="b",LT.ERROR="c",LT.MESSAGE="d",ks.prototype.listen=ks.prototype.O,_i.prototype.listenOnce=_i.prototype.P,_i.prototype.getLastError=_i.prototype.Sa,_i.prototype.getLastErrorCode=_i.prototype.Ia,_i.prototype.getStatus=_i.prototype.da,_i.prototype.getResponseJson=_i.prototype.Wa,_i.prototype.getResponseText=_i.prototype.ja,_i.prototype.send=_i.prototype.ha,_i.prototype.setWithCredentials=_i.prototype.Oa,ql.prototype.digest=ql.prototype.l,ql.prototype.reset=ql.prototype.reset,ql.prototype.update=ql.prototype.j,ir.prototype.add=ir.prototype.add,ir.prototype.multiply=ir.prototype.R,ir.prototype.modulo=ir.prototype.gb,ir.prototype.compare=ir.prototype.X,ir.prototype.toNumber=ir.prototype.ea,ir.prototype.toString=ir.prototype.toString,ir.prototype.getBits=ir.prototype.D,ir.fromNumber=dd,ir.fromString=function Zj(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return Ys(Zj(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=dd(Math.pow(e,8)),r=Jw,i=0;i<n.length;i+=8){var s=Math.min(8,n.length-i),c=parseInt(n.substring(i,i+s),e);8>s?(s=dd(Math.pow(e,s)),r=r.R(s).add(dd(c))):r=(r=r.R(t)).add(dd(c))}return r},Gl.createWebChannelTransport=function(){return new y1},Gl.getStatEventTarget=function(){return r1()},Gl.ErrorCode=s1,Gl.EventType=aj,Gl.Event=k_,Gl.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Gl.FetchXmlHttpFactory=HT,Gl.WebChannel=lj,Gl.XhrIo=_i,Gl.Md5=ql;var J5=Gl.Integer=ir;const Xj="@firebase/firestore";class Ns{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ns.UNAUTHENTICATED=new Ns(null),Ns.GOOGLE_CREDENTIALS=new Ns("google-credentials-uid"),Ns.FIRST_PARTY=new Ns("first-party-uid"),Ns.MOCK_USER=new Ns("mock-user");let YT="10.4.0";const cm=new Bo.Yd("@firebase/firestore");function Ye(n,...e){if(cm.logLevel<=Bo.in.DEBUG){const t=e.map(gF);cm.debug(`Firestore (${YT}): ${n}`,...t)}}function xi(n,...e){if(cm.logLevel<=Bo.in.ERROR){const t=e.map(gF);cm.error(`Firestore (${YT}): ${n}`,...t)}}function gF(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function St(n="Unexpected state"){const e=`FIRESTORE (${YT}) INTERNAL ASSERTION FAILED: `+n;throw xi(e),new Error(e)}function Bt(n,e){n||St()}const we_CANCELLED="cancelled",we_INVALID_ARGUMENT="invalid-argument",we_FAILED_PRECONDITION="failed-precondition",we_UNAVAILABLE="unavailable";class qe extends An.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class hs{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Jj{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class e7{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Ns.UNAUTHENTICATED))}shutdown(){}}class n7{constructor(e){this.t=e,this.currentUser=Ns.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const s=g=>this.i!==i?(i=this.i,t(g)):Promise.resolve();let c=new hs;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new hs,e.enqueueRetryable(()=>s(this.currentUser))};const h=()=>{const g=c;e.enqueueRetryable((0,Se.Z)(function*(){yield g.promise,yield s(r.currentUser)}))},p=g=>{Ye("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.auth.addAuthTokenListener(this.o),h()};this.t.onInit(g=>p(g)),setTimeout(()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?p(g):(Ye("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new hs)}},0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Ye("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Bt("string"==typeof r.accessToken),new Jj(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Bt(null===e||"string"==typeof e),new Ns(e)}}class r7{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=Ns.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class i7{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new r7(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Ns.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class e3{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class s7{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){const r=s=>{null!=s.error&&Ye("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const c=s.token!==this.R;return this.R=s.token,Ye("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{Ye("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):Ye("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Bt("string"==typeof t.token),this.R=t.token,new e3(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function o7(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class t3{static V(){const t=62*Math.floor(256/62);let r="";for(;r.length<20;){const i=o7(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<t&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(i[s]%62))}return r}}function nn(n,e){return n<e?-1:n>e?1:0}class I1{constructor(e,t,r){void 0===t?t=0:t>e.length&&St(),void 0===r?r=e.length-t:r>e.length-t&&St(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===I1.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof I1?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const s=e.get(i),c=t.get(i);if(s<c)return-1;if(s>c)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Nn extends I1{construct(e,t,r){return new Nn(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new qe(we_INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new Nn(t)}static emptyPath(){return new Nn([])}}class gt{constructor(e){this.path=e}static fromPath(e){return new gt(Nn.fromString(e))}static fromName(e){return new gt(Nn.fromString(e).popFirst(5))}static empty(){return new gt(Nn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Nn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Nn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new gt(new Nn(e.slice()))}}function um(n){return"IndexedDbTransactionError"===n.name}class Ar{constructor(e,t){this.comparator=e,this.root=t||Qs.EMPTY}insert(e,t){return new Ar(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Qs.BLACK,null,null))}remove(e){return new Ar(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Qs.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new C1(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new C1(this.root,e,this.comparator,!1)}getReverseIterator(){return new C1(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new C1(this.root,e,this.comparator,!0)}}class C1{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,t&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Qs{constructor(e,t,r,i,s){this.key=e,this.value=t,this.color=r??Qs.RED,this.left=i??Qs.EMPTY,this.right=s??Qs.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,s){return new Qs(e??this.key,t??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===s?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Qs.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return Qs.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Qs.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Qs.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw St();const e=this.left.check();if(e!==this.right.check())throw St();return e+(this.isRed()?0:1)}}Qs.EMPTY=null,Qs.RED=!0,Qs.BLACK=!1,Qs.EMPTY=new class{constructor(){this.size=0}get key(){throw St()}get value(){throw St()}get color(){throw St()}get left(){throw St()}get right(){throw St()}copy(e,t,r,i,s){return this}insert(e,t,r){return new Qs(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Sr{constructor(e){this.comparator=e,this.data=new Ar(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new _3(this.data.getIterator())}getIteratorFrom(e){return new _3(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Sr)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Sr(this.comparator);return t.data=e,t}}class _3{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class y3 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class fs{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new y3("Invalid base64 string: "+s):s}}(e);return new fs(t)}static fromUint8Array(e){const t=function(i){let s="";for(let c=0;c<i.length;++c)s+=String.fromCharCode(i[c]);return s}(e);return new fs(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return nn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}function vi(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}fs.EMPTY_BYTE_STRING=new fs("");class k7{constructor(e,t,r,i,s,c,h,p,g){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=c,this.autoDetectLongPolling=h,this.longPollingOptions=p,this.useFetchStreams=g}}class B_{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new B_("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof B_&&e.projectId===this.projectId&&e.database===this.database}}var Yi,On;new Ar(gt.comparator),new Ar(gt.comparator),new Ar(gt.comparator),new Sr(gt.comparator),new Sr(nn),(On=Yi||(Yi={}))[On.OK=0]="OK",On[On.CANCELLED=1]="CANCELLED",On[On.UNKNOWN=2]="UNKNOWN",On[On.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",On[On.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",On[On.NOT_FOUND=5]="NOT_FOUND",On[On.ALREADY_EXISTS=6]="ALREADY_EXISTS",On[On.PERMISSION_DENIED=7]="PERMISSION_DENIED",On[On.UNAUTHENTICATED=16]="UNAUTHENTICATED",On[On.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",On[On.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",On[On.ABORTED=10]="ABORTED",On[On.OUT_OF_RANGE=11]="OUT_OF_RANGE",On[On.UNIMPLEMENTED=12]="UNIMPLEMENTED",On[On.INTERNAL=13]="INTERNAL",On[On.UNAVAILABLE=14]="UNAVAILABLE",On[On.DATA_LOSS=15]="DATA_LOSS",new J5([4294967295,4294967295],0);class K_{constructor(){}dt(e,t){this.Tt(e,t),t.Et()}Tt(e,t){if("nullValue"in e)this.At(t,5);else if("booleanValue"in e)this.At(t,10),t.Rt(e.booleanValue?1:0);else if("integerValue"in e)this.At(t,15),t.Rt(vi(e.integerValue));else if("doubleValue"in e){const r=vi(e.doubleValue);isNaN(r)?this.At(t,13):(this.At(t,15),function JT(n){return 0===n&&1/n==-1/0}(r)?t.Rt(0):t.Rt(r))}else if("timestampValue"in e){const r=e.timestampValue;this.At(t,20),"string"==typeof r?t.Vt(r):(t.Vt(`${r.seconds||""}`),t.Rt(r.nanos||0))}else if("stringValue"in e)this.ft(e.stringValue,t),this.gt(t);else if("bytesValue"in e)this.At(t,30),t.yt(function af(n){return"string"==typeof n?fs.fromBase64String(n):fs.fromUint8Array(n)}(e.bytesValue)),this.gt(t);else if("referenceValue"in e)this.wt(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.At(t,45),t.Rt(r.latitude||0),t.Rt(r.longitude||0)}else"mapValue"in e?function I3(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}(e)?this.At(t,Number.MAX_SAFE_INTEGER):(this.St(e.mapValue,t),this.gt(t)):"arrayValue"in e?(this.bt(e.arrayValue,t),this.gt(t)):St()}ft(e,t){this.At(t,25),this.Dt(e,t)}Dt(e,t){t.Vt(e)}St(e,t){const r=e.fields||{};this.At(t,55);for(const i of Object.keys(r))this.ft(i,t),this.Tt(r[i],t)}bt(e,t){const r=e.values||[];this.At(t,50);for(const i of r)this.Tt(i,t)}wt(e,t){this.At(t,37),gt.fromName(e).path.forEach(r=>{this.At(t,60),this.Dt(r,t)})}At(e,t){e.Rt(t)}gt(e){e.Rt(2)}}K_.Ct=new K_,new Uint8Array(0);class bo{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new bo(e,bo.DEFAULT_COLLECTION_PERCENTILE,bo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function X1(){return typeof document<"u"?document:null}bo.DEFAULT_COLLECTION_PERCENTILE=10,bo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,bo.DEFAULT=new bo(41943040,bo.DEFAULT_COLLECTION_PERCENTILE,bo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),bo.DISABLED=new bo(-1,0,0);class lL{constructor(e,t,r=1e3,i=1.5,s=6e4){this._i=e,this.timerId=t,this.xo=r,this.Oo=i,this.No=s,this.Bo=0,this.Lo=null,this.ko=Date.now(),this.reset()}reset(){this.Bo=0}qo(){this.Bo=this.No}Qo(e){this.cancel();const t=Math.floor(this.Bo+this.Ko()),r=Math.max(0,Date.now()-this.ko),i=Math.max(0,t-r);i>0&&Ye("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Bo} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Lo=this._i.enqueueAfterDelay(this.timerId,i,()=>(this.ko=Date.now(),e())),this.Bo*=this.Oo,this.Bo<this.xo&&(this.Bo=this.xo),this.Bo>this.No&&(this.Bo=this.No)}$o(){null!==this.Lo&&(this.Lo.skipDelay(),this.Lo=null)}cancel(){null!==this.Lo&&(this.Lo.cancel(),this.Lo=null)}Ko(){return(Math.random()-.5)*this.Bo}}class SL{constructor(e,t,r,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new hs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,s){const c=Date.now()+r,h=new SL(e,t,c,i,s);return h.start(r),h}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new qe(we_CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}class HW{constructor(e,t,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Ns.UNAUTHENTICATED,this.clientId=t3.V(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var c=(0,Se.Z)(function*(h){Ye("FirestoreClient","Received user=",h.uid),yield s.authCredentialListener(h),s.user=h});return function(h){return c.apply(this,arguments)}}()),this.appCheckCredentials.start(r,c=>(Ye("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}getConfiguration(){var e=this;return(0,Se.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new qe(we_FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new hs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Se.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=function S0(n,e){if(xi("AsyncQueue",`${e}: ${n}`),um(n))return new qe(we_UNAVAILABLE,`${e}: ${n}`);throw n}(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function B$(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const j$=new Map;class G${constructor(e){var t,r;if(void 0===e.host){if(void 0!==e.ssl)throw new qe(we_INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new qe(we_INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function t8(n,e,t,r){if(!0===e&&!0===r)throw new qe(we_INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=B$(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(s){if(void 0!==s.timeoutSeconds){if(isNaN(s.timeoutSeconds))throw new qe(we_INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new qe(we_INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new qe(we_INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class AC{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new G$({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new qe(we_FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new qe(we_FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new G$(e),void 0!==e.credentials&&(this._authCredentials=function(r){if(!r)return new e7;switch(r.type){case"firstParty":return new i7(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new qe(we_INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=j$.get(t);r&&(Ye("ComponentProvider","Removing Datastore"),j$.delete(t),r.terminate())}(this),Promise.resolve()}}class i8{constructor(){this.Za=Promise.resolve(),this.Xa=[],this.eu=!1,this.tu=[],this.nu=null,this.ru=!1,this.iu=!1,this.su=[],this.Ho=new lL(this,"async_queue_retry"),this.ou=()=>{const t=X1();t&&Ye("AsyncQueue","Visibility state changed to "+t.visibilityState),this.Ho.$o()};const e=X1();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.ou)}get isShuttingDown(){return this.eu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this._u(),this.au(e)}enterRestrictedMode(e){if(!this.eu){this.eu=!0,this.iu=e||!1;const t=X1();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.ou)}}enqueue(e){if(this._u(),this.eu)return new Promise(()=>{});const t=new hs;return this.au(()=>this.eu&&this.iu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xa.push(e),this.uu()))}uu(){var e=this;return(0,Se.Z)(function*(){if(0!==e.Xa.length){try{yield e.Xa[0](),e.Xa.shift(),e.Ho.reset()}catch(t){if(!um(t))throw t;Ye("AsyncQueue","Operation failed with retryable error: "+t)}e.Xa.length>0&&e.Ho.Qo(()=>e.uu())}})()}au(e){const t=this.Za.then(()=>(this.ru=!0,e().catch(r=>{throw this.nu=r,this.ru=!1,xi("INTERNAL UNHANDLED ERROR: ",function(c){let h=c.message||"";return c.stack&&(h=c.stack.includes(c.message)?c.stack:c.message+"\n"+c.stack),h}(r)),r}).then(r=>(this.ru=!1,r))));return this.Za=t,t}enqueueAfterDelay(e,t,r){this._u(),this.su.indexOf(e)>-1&&(t=0);const i=SL.createAndSchedule(this,e,t,r,s=>this.cu(s));return this.tu.push(i),i}_u(){this.nu&&St()}verifyOperationInProgress(){}lu(){var e=this;return(0,Se.Z)(function*(){let t;do{t=e.Za,yield t}while(t!==e.Za)})()}hu(e){for(const t of this.tu)if(t.timerId===e)return!0;return!1}Pu(e){return this.lu().then(()=>{this.tu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.tu)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.lu()})}Iu(e){this.su.push(e)}cu(e){const t=this.tu.indexOf(e);this.tu.splice(t,1)}}class xr extends AC{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new i8,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||function W$(n){var e,t,r;const i=n._freezeSettings(),s=(p=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new k7(n._databaseId,p,n._persistenceKey,(w=i).host,w.ssl,w.experimentalForceLongPolling,w.experimentalAutoDetectLongPolling,B$(w.experimentalLongPollingOptions),w.useFetchStreams));var p,w;n._firestoreClient=new HW(n._authCredentials,n._appCheckCredentials,n._queue,s),null!==(t=i.localCache)&&void 0!==t&&t._offlineComponentProvider&&null!==(r=i.localCache)&&void 0!==r&&r._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}(this),this._firestoreClient.terminate()}}!function(e,t=!0){YT=P_.Jn,(0,P_.Xd)(new fa.wA("firestore",(r,{instanceIdentifier:i,options:s})=>{const c=r.getProvider("app").getImmediate(),h=new xr(new n7(r.getProvider("auth-internal")),new s7(r.getProvider("app-check-internal")),function(g,w){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new qe(we_INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new B_(g.options.projectId,w)}(c,i),c);return s=Object.assign({useFetchStreams:t},s),h._setSettings(s),h},"PUBLIC").setMultipleInstances(!0)),(0,P_.KN)(Xj,"4.2.0",e),(0,P_.KN)(Xj,"4.2.0","esm2017")}();let C2,M8=(()=>{var n;class e{constructor(r,i,s){this.http=r,this.actRoute=i,this.firestore=s,this.prodRef=this.firestore}getProducts(){let r;return this.actRoute.queryParams.subscribe(i=>{r=i}),r.price_min&&r.sort&&r.category?(console.log(r),this.firestore.collection("products",i=>i.where("price",">=",+r.price_min).where("price","<=",+r.price_max).orderBy("price","desc"==r.sort?"desc":"asc").where("category","==",r.category)).valueChanges()):r.price_min&&r.sort?(console.log("reerre"),this.firestore.collection("products",i=>i.where("price",">=",+r.price_min).where("price","<=",+r.price_max).orderBy("price","desc"==r.sort?"desc":"asc")).valueChanges()):r.category&&r.price_min?this.firestore.collection("products",i=>i.where("price",">=",+r.price_min).where("price","<=",+r.price_max).where("category","==",r.category)).valueChanges():r.price_min?this.firestore.collection("products",i=>i.where("price",">=",+r.price_min).where("price","<=",+r.price_max)).valueChanges():r.category?this.firestore.collection("products",i=>i.where("category","==",r.category)).valueChanges():r.sort?this.firestore.collection("products",i=>i.orderBy("price","desc"==r.sort?"desc":"asc")).valueChanges():this.firestore.collectionGroup("products").valueChanges()}getCategories(){return this.http.get("https://dummyjson.com/products/categories")}}return(n=e).\u0275fac=function(r){return new(r||n)(u.LFG(xE),u.LFG(wl),u.LFG(FB))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),e})();try{C2=typeof Intl<"u"&&Intl.v8BreakIterator}catch{C2=!1}let NC,ty=(()=>{var n;class e{constructor(r){this._platformId=r,this.isBrowser=this._platformId?function _f(n){return n===Mo}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!C2)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return(n=e).\u0275fac=function(r){return new(r||n)(u.LFG(u.Lbi))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),e})();function gM(n){return function P8(){if(null==NC&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>NC=!0}))}finally{NC=NC||!1}return NC}()?n:!!n.capture}function _d(n){return null!=n&&"false"!=`${n}`}function Kl(n,e=0){return function j8(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):e}function _6(n){return Array.isArray(n)?n:[n]}function y6(n){return n instanceof u.SBq?n.nativeElement:n}const v6=new Set;let ry,H8=(()=>{var n;class e{constructor(r,i){this._platform=r,this._nonce=i,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):q8}matchMedia(r){return(this._platform.WEBKIT||this._platform.BLINK)&&function G8(n,e){if(!v6.has(n))try{ry||(ry=document.createElement("style"),e&&(ry.nonce=e),ry.setAttribute("type","text/css"),document.head.appendChild(ry)),ry.sheet&&(ry.sheet.insertRule(`@media ${n} {body{ }}`,0),v6.add(n))}catch(t){console.error(t)}}(r,this._nonce),this._matchMedia(r)}}return(n=e).\u0275fac=function(r){return new(r||n)(u.LFG(ty),u.LFG(u.Ojb,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),e})();function q8(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let W8=(()=>{var n;class e{constructor(r,i){this._mediaMatcher=r,this._zone=i,this._queries=new Map,this._destroySubject=new Fr.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(r){return w6(_6(r)).some(s=>this._registerQuery(s).mql.matches)}observe(r){let c=_c(w6(_6(r)).map(h=>this._registerQuery(h).observable));return c=Oa(c.pipe(ss(1)),c.pipe(function $8(n){return Gr((e,t)=>n<=t)}(1),function z8(n,e=nv.z){return(0,Ti.e)((t,r)=>{let i=null,s=null,c=null;const h=()=>{if(i){i.unsubscribe(),i=null;const g=s;s=null,r.next(g)}};function p(){const g=c+n,w=e.now();if(w<g)return i=this.schedule(void 0,g-w),void r.add(i);h()}t.subscribe((0,Wn.x)(r,g=>{s=g,c=e.now(),i||(i=e.schedule(p,n),r.add(i))},()=>{h(),r.complete()},void 0,()=>{s=i=null}))})}(0))),c.pipe((0,Vt.U)(h=>{const p={matches:!1,breakpoints:{}};return h.forEach(({matches:g,query:w})=>{p.matches=p.matches||g,p.breakpoints[w]=g}),p}))}_registerQuery(r){if(this._queries.has(r))return this._queries.get(r);const i=this._mediaMatcher.matchMedia(r),c={observable:new di.y(h=>{const p=g=>this._zone.run(()=>h.next(g));return i.addListener(p),()=>{i.removeListener(p)}}).pipe(La(i),(0,Vt.U)(({matches:h})=>({query:r,matches:h})),Is(this._destroySubject)),mql:i};return this._queries.set(r,c),c}}return(n=e).\u0275fac=function(r){return new(r||n)(u.LFG(H8),u.LFG(u.R0b))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),e})();function w6(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}const T6="cdk-high-contrast-black-on-white",C6="cdk-high-contrast-white-on-black",A2="cdk-high-contrast-active";let iK=(()=>{var n;class e{constructor(r,i){this._platform=r,this._document=i,this._breakpointSubscription=(0,u.f3M)(W8).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const r=this._document.createElement("div");r.style.backgroundColor="rgb(1,2,3)",r.style.position="absolute",this._document.body.appendChild(r);const i=this._document.defaultView||window,s=i&&i.getComputedStyle?i.getComputedStyle(r):null,c=(s&&s.backgroundColor||"").replace(/ /g,"");switch(r.remove(),c){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const r=this._document.body.classList;r.remove(A2,T6,C6),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?r.add(A2,T6):2===i&&r.add(A2,C6)}}}return(n=e).\u0275fac=function(r){return new(r||n)(u.LFG(ty),u.LFG(_e))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),e})();const sK=new u.OlP("cdk-dir-doc",{providedIn:"root",factory:function oK(){return(0,u.f3M)(_e)}}),aK=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let D6=(()=>{var n;class e{constructor(r){this.value="ltr",this.change=new u.vpe,r&&(this.value=function cK(n){const e=n?.toLowerCase()||"";return"auto"===e&&typeof navigator<"u"&&navigator?.language?aK.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((r.body?r.body.dir:null)||(r.documentElement?r.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}}return(n=e).\u0275fac=function(r){return new(r||n)(u.LFG(sK,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),e})(),yM=(()=>{var n;class e{}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),e})();const uK=new u.OlP("mat-sanity-checks",{providedIn:"root",factory:function lK(){return!0}});let Zl=(()=>{var n;class e{constructor(r,i,s){this._sanityChecks=i,this._document=s,this._hasDoneGlobalChecks=!1,r._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(r){return!function O8(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[r])}}return(n=e).\u0275fac=function(r){return new(r||n)(u.LFG(iK),u.LFG(uK,8),u.LFG(_e))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[yM,yM]}),e})();function dK(n,e){return class extends n{get color(){return this._color}set color(t){const r=t||this.defaultColor;r!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),r&&this._elementRef.nativeElement.classList.add(`mat-${r}`),this._color=r)}constructor(...t){super(...t),this.defaultColor=e,this.color=e}}}function hK(n){return class extends n{get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=_d(e)}constructor(...e){super(...e),this._disableRipple=!1}}}let R6=(()=>{var n;class e{}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[Zl,Zl]}),e})();class pK{constructor(e,t,r,i=!1){this._renderer=e,this.element=t,this.config=r,this._animationForciblyDisabledThroughCss=i,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const M6=gM({passive:!0,capture:!0});class mK{constructor(){this._events=new Map,this._delegateEventHandler=e=>{const t=function N8(n){return n.composedPath?n.composedPath()[0]:n.target}(e);t&&this._events.get(e.type)?.forEach((r,i)=>{(i===t||i.contains(t))&&r.forEach(s=>s.handleEvent(e))})}}addHandler(e,t,r,i){const s=this._events.get(t);if(s){const c=s.get(r);c?c.add(i):s.set(r,new Set([i]))}else this._events.set(t,new Map([[r,new Set([i])]])),e.runOutsideAngular(()=>{document.addEventListener(t,this._delegateEventHandler,M6)})}removeHandler(e,t,r){const i=this._events.get(e);if(!i)return;const s=i.get(t);s&&(s.delete(r),0===s.size&&i.delete(t),0===i.size&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,M6)))}}const P6={enterDuration:225,exitDuration:150},k6=gM({passive:!0,capture:!0}),N6=["mousedown","touchstart"],O6=["mouseup","mouseleave","touchend","touchcancel"];class FC{constructor(e,t,r,i){this._target=e,this._ngZone=t,this._platform=i,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,i.isBrowser&&(this._containerElement=y6(r))}fadeInRipple(e,t,r={}){const i=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),s={...P6,...r.animation};r.centered&&(e=i.left+i.width/2,t=i.top+i.height/2);const c=r.radius||function _K(n,e,t){const r=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),i=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(r*r+i*i)}(e,t,i),h=e-i.left,p=t-i.top,g=s.enterDuration,w=document.createElement("div");w.classList.add("mat-ripple-element"),w.style.left=h-c+"px",w.style.top=p-c+"px",w.style.height=2*c+"px",w.style.width=2*c+"px",null!=r.color&&(w.style.backgroundColor=r.color),w.style.transitionDuration=`${g}ms`,this._containerElement.appendChild(w);const D=window.getComputedStyle(w),N=D.transitionDuration,K="none"===D.transitionProperty||"0s"===N||"0s, 0s"===N||0===i.width&&0===i.height,te=new pK(this,w,r,K);w.style.transform="scale3d(1, 1, 1)",te.state=0,r.persistent||(this._mostRecentTransientRipple=te);let X=null;return!K&&(g||s.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const be=()=>this._finishRippleTransition(te),$e=()=>this._destroyRipple(te);w.addEventListener("transitionend",be),w.addEventListener("transitioncancel",$e),X={onTransitionEnd:be,onTransitionCancel:$e}}),this._activeRipples.set(te,X),(K||!g)&&this._finishRippleTransition(te),te}fadeOutRipple(e){if(2===e.state||3===e.state)return;const t=e.element,r={...P6,...e.config.animation};t.style.transitionDuration=`${r.exitDuration}ms`,t.style.opacity="0",e.state=2,(e._animationForciblyDisabledThroughCss||!r.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=y6(e);!this._platform.isBrowser||!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,N6.forEach(r=>{FC._eventManager.addHandler(this._ngZone,r,t,this)}))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{O6.forEach(t=>{this._triggerElement.addEventListener(t,this,k6)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){0===e.state?this._startFadeOutTransition(e):2===e.state&&this._destroyRipple(e)}_startFadeOutTransition(e){const t=e===this._mostRecentTransientRipple,{persistent:r}=e.config;e.state=1,!r&&(!t||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){const t=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=3,null!==t&&(e.element.removeEventListener("transitionend",t.onTransitionEnd),e.element.removeEventListener("transitioncancel",t.onTransitionCancel)),e.element.remove()}_onMousedown(e){const t=function tK(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}(e),r=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!r&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!function nK(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;if(t)for(let r=0;r<t.length;r++)this.fadeInRipple(t[r].clientX,t[r].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const e=this._triggerElement;e&&(N6.forEach(t=>FC._eventManager.removeHandler(t,e,this)),this._pointerUpEventsRegistered&&O6.forEach(t=>e.removeEventListener(t,this,k6)))}}FC._eventManager=new mK;const F6=new u.OlP("mat-ripple-global-options");let L6=(()=>{var n;class e{get disabled(){return this._disabled}set disabled(r){r&&this.fadeOutAllNonPersistent(),this._disabled=r,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(r){this._trigger=r,this._setupTriggerEventsIfEnabled()}constructor(r,i,s,c,h){this._elementRef=r,this._animationMode=h,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=c||{},this._rippleRenderer=new FC(this,i,r,s)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(r,i=0,s){return"number"==typeof r?this._rippleRenderer.fadeInRipple(r,i,{...this.rippleConfig,...s}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...r})}}return(n=e).\u0275fac=function(r){return new(r||n)(u.Y36(u.SBq),u.Y36(u.R0b),u.Y36(ty),u.Y36(F6,8),u.Y36(u.QbO,8))},n.\u0275dir=u.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(r,i){2&r&&u.ekj("mat-ripple-unbounded",i.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),e})(),yK=(()=>{var n;class e{}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[Zl,Zl]}),e})();const vK=["*"],IK=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],bK=["[mat-card-avatar], [matCardAvatar]","mat-card-title, mat-card-subtitle,\n      [mat-card-title], [mat-card-subtitle],\n      [matCardTitle], [matCardSubtitle]","*"],TK=new u.OlP("MAT_CARD_CONFIG");let V6=(()=>{var n;class e{constructor(r){this.appearance=r?.appearance||"raised"}}return(n=e).\u0275fac=function(r){return new(r||n)(u.Y36(TK,8))},n.\u0275cmp=u.Xpm({type:n,selectors:[["mat-card"]],hostAttrs:[1,"mat-mdc-card","mdc-card"],hostVars:4,hostBindings:function(r,i){2&r&&u.ekj("mat-mdc-card-outlined","outlined"===i.appearance)("mdc-card--outlined","outlined"===i.appearance)},inputs:{appearance:"appearance"},exportAs:["matCard"],ngContentSelectors:vK,decls:1,vars:0,template:function(r,i){1&r&&(u.F$t(),u.Hsn(0))},styles:['.mdc-card{display:flex;flex-direction:column;box-sizing:border-box}.mdc-card::after{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none;pointer-events:none}@media screen and (forced-colors: active){.mdc-card::after{border-color:CanvasText}}.mdc-card--outlined::after{border:none}.mdc-card__content{border-radius:inherit;height:100%}.mdc-card__media{position:relative;box-sizing:border-box;background-repeat:no-repeat;background-position:center;background-size:cover}.mdc-card__media::before{display:block;content:""}.mdc-card__media:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__media:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__media--square::before{margin-top:100%}.mdc-card__media--16-9::before{margin-top:56.25%}.mdc-card__media-content{position:absolute;top:0;right:0;bottom:0;left:0;box-sizing:border-box}.mdc-card__primary-action{display:flex;flex-direction:column;box-sizing:border-box;position:relative;outline:none;color:inherit;text-decoration:none;cursor:pointer;overflow:hidden}.mdc-card__primary-action:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__primary-action:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__actions{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;min-height:52px;padding:8px}.mdc-card__actions--full-bleed{padding:0}.mdc-card__action-buttons,.mdc-card__action-icons{display:flex;flex-direction:row;align-items:center;box-sizing:border-box}.mdc-card__action-icons{color:rgba(0, 0, 0, 0.6);flex-grow:1;justify-content:flex-end}.mdc-card__action-buttons+.mdc-card__action-icons{margin-left:16px;margin-right:0}[dir=rtl] .mdc-card__action-buttons+.mdc-card__action-icons,.mdc-card__action-buttons+.mdc-card__action-icons[dir=rtl]{margin-left:0;margin-right:16px}.mdc-card__action{display:inline-flex;flex-direction:row;align-items:center;box-sizing:border-box;justify-content:center;cursor:pointer;user-select:none}.mdc-card__action:focus{outline:none}.mdc-card__action--button{margin-left:0;margin-right:8px;padding:0 8px}[dir=rtl] .mdc-card__action--button,.mdc-card__action--button[dir=rtl]{margin-left:8px;margin-right:0}.mdc-card__action--button:last-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-card__action--button:last-child,.mdc-card__action--button:last-child[dir=rtl]{margin-left:0;margin-right:0}.mdc-card__actions--full-bleed .mdc-card__action--button{justify-content:space-between;width:100%;height:auto;max-height:none;margin:0;padding:8px 16px;text-align:left}[dir=rtl] .mdc-card__actions--full-bleed .mdc-card__action--button,.mdc-card__actions--full-bleed .mdc-card__action--button[dir=rtl]{text-align:right}.mdc-card__action--icon{margin:-6px 0;padding:12px}.mdc-card__action--icon:not(:disabled){color:rgba(0, 0, 0, 0.6)}.mat-mdc-card{border-radius:var(--mdc-elevated-card-container-shape);background-color:var(--mdc-elevated-card-container-color);border-width:0;border-style:solid;border-color:var(--mdc-elevated-card-container-color);box-shadow:var(--mdc-elevated-card-container-elevation);--mdc-elevated-card-container-shape:4px;--mdc-outlined-card-container-shape:4px;--mdc-outlined-card-outline-width:1px}.mat-mdc-card .mdc-card::after{border-radius:var(--mdc-elevated-card-container-shape)}.mat-mdc-card-outlined{border-width:var(--mdc-outlined-card-outline-width);border-style:solid;border-color:var(--mdc-outlined-card-outline-color);border-radius:var(--mdc-outlined-card-container-shape);background-color:var(--mdc-outlined-card-container-color);box-shadow:var(--mdc-outlined-card-container-elevation)}.mat-mdc-card-outlined .mdc-card::after{border-radius:var(--mdc-outlined-card-container-shape)}.mat-mdc-card-title{font-family:var(--mat-card-title-text-font);line-height:var(--mat-card-title-text-line-height);font-size:var(--mat-card-title-text-size);letter-spacing:var(--mat-card-title-text-tracking);font-weight:var(--mat-card-title-text-weight)}.mat-mdc-card-subtitle{color:var(--mat-card-subtitle-text-color);font-family:var(--mat-card-subtitle-text-font);line-height:var(--mat-card-subtitle-text-line-height);font-size:var(--mat-card-subtitle-text-size);letter-spacing:var(--mat-card-subtitle-text-tracking);font-weight:var(--mat-card-subtitle-text-weight)}.mat-mdc-card{position:relative}.mat-mdc-card-title,.mat-mdc-card-subtitle{display:block;margin:0}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle{padding:16px 16px 0}.mat-mdc-card-header{display:flex;padding:16px 16px 0}.mat-mdc-card-content{display:block;padding:0 16px}.mat-mdc-card-content:first-child{padding-top:16px}.mat-mdc-card-content:last-child{padding-bottom:16px}.mat-mdc-card-title-group{display:flex;justify-content:space-between;width:100%}.mat-mdc-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;margin-bottom:16px;object-fit:cover}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title{line-height:normal}.mat-mdc-card-sm-image{width:80px;height:80px}.mat-mdc-card-md-image{width:112px;height:112px}.mat-mdc-card-lg-image{width:152px;height:152px}.mat-mdc-card-xl-image{width:240px;height:240px}.mat-mdc-card-subtitle~.mat-mdc-card-title,.mat-mdc-card-title~.mat-mdc-card-subtitle,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-title-group .mat-mdc-card-title,.mat-mdc-card-title-group .mat-mdc-card-subtitle{padding-top:0}.mat-mdc-card-content>:last-child:not(.mat-mdc-card-footer){margin-bottom:0}.mat-mdc-card-actions-align-end{justify-content:flex-end}'],encapsulation:2,changeDetection:0}),e})(),U6=(()=>{var n;class e{}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275dir=u.lG2({type:n,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-mdc-card-title"]}),e})(),B6=(()=>{var n;class e{}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275dir=u.lG2({type:n,selectors:[["mat-card-content"]],hostAttrs:[1,"mat-mdc-card-content"]}),e})(),j6=(()=>{var n;class e{constructor(){this.align="start"}}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275dir=u.lG2({type:n,selectors:[["mat-card-actions"]],hostAttrs:[1,"mat-mdc-card-actions","mdc-card__actions"],hostVars:2,hostBindings:function(r,i){2&r&&u.ekj("mat-mdc-card-actions-align-end","end"===i.align)},inputs:{align:"align"},exportAs:["matCardActions"]}),e})(),$6=(()=>{var n;class e{}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-mdc-card-header"],ngContentSelectors:bK,decls:4,vars:0,consts:[[1,"mat-mdc-card-header-text"]],template:function(r,i){1&r&&(u.F$t(IK),u.Hsn(0),u.TgZ(1,"div",0),u.Hsn(2,1),u.qZA(),u.Hsn(3,2))},encapsulation:2,changeDetection:0}),e})(),z6=(()=>{var n;class e{}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275dir=u.lG2({type:n,selectors:[["","mat-card-lg-image",""],["","matCardImageLarge",""]],hostAttrs:[1,"mat-mdc-card-lg-image","mdc-card__media"]}),e})(),MK=(()=>{var n;class e{}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[Zl,er,Zl]}),e})(),H6=(()=>{var n;class e{constructor(r,i){this._renderer=r,this._elementRef=i,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(r,i){this._renderer.setProperty(this._elementRef.nativeElement,r,i)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}}return(n=e).\u0275fac=function(r){return new(r||n)(u.Y36(u.Qsj),u.Y36(u.SBq))},n.\u0275dir=u.lG2({type:n}),e})(),iy=(()=>{var n;class e extends H6{}return(n=e).\u0275fac=function(){let t;return function(i){return(t||(t=u.n5z(n)))(i||n)}}(),n.\u0275dir=u.lG2({type:n,features:[u.qOj]}),e})();const zc=new u.OlP("NgValueAccessor"),NK={provide:zc,useExisting:(0,u.Gpc)(()=>B0),multi:!0},FK=new u.OlP("CompositionEventMode");let B0=(()=>{var n;class e extends H6{constructor(r,i,s){super(r,i),this._compositionMode=s,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function OK(){const n=O()?O().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(r){this.setProperty("value",r??"")}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}}return(n=e).\u0275fac=function(r){return new(r||n)(u.Y36(u.Qsj),u.Y36(u.SBq),u.Y36(FK,8))},n.\u0275dir=u.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){1&r&&u.NdJ("input",function(c){return i._handleInput(c.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(c){return i._compositionEnd(c.target.value)})},features:[u._Bn([NK]),u.qOj]}),e})();function Tm(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function q6(n){return null!=n&&"number"==typeof n.length}const Do=new u.OlP("NgValidators"),Cm=new u.OlP("NgAsyncValidators"),LK=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class yd{static min(e){return function W6(n){return e=>{if(Tm(e.value)||Tm(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function K6(n){return e=>{if(Tm(e.value)||Tm(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return Z6(e)}static requiredTrue(e){return function Y6(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return Q6(e)}static minLength(e){return X6(e)}static maxLength(e){return function J6(n){return e=>q6(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function ez(n){if(!n)return vM;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(Tm(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}(e)}static nullValidator(e){return null}static compose(e){return oz(e)}static composeAsync(e){return az(e)}}function Z6(n){return Tm(n.value)?{required:!0}:null}function Q6(n){return Tm(n.value)||LK.test(n.value)?null:{email:!0}}function X6(n){return e=>Tm(e.value)||!q6(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}function vM(n){return null}function tz(n){return null!=n}function nz(n){return(0,u.QGY)(n)?(0,Bn.D)(n):n}function rz(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function iz(n,e){return e.map(t=>t(n))}function sz(n){return n.map(e=>function VK(n){return!n.validate}(e)?e:t=>e.validate(t))}function oz(n){if(!n)return null;const e=n.filter(tz);return 0==e.length?null:function(t){return rz(iz(t,e))}}function S2(n){return null!=n?oz(sz(n)):null}function az(n){if(!n)return null;const e=n.filter(tz);return 0==e.length?null:function(t){return function PK(...n){const e=(0,oo.jO)(n),{args:t,keys:r}=Yn(n),i=new di.y(s=>{const{length:c}=t;if(!c)return void s.complete();const h=new Array(c);let p=c,g=c;for(let w=0;w<c;w++){let D=!1;(0,Du.Xf)(t[w]).subscribe((0,Wn.x)(s,M=>{D||(D=!0,g--),h[w]=M},()=>p--,void 0,()=>{(!p||!D)&&(g||s.next(r?ao(r,h):h),s.complete())}))}});return e?i.pipe(oa(e)):i}(iz(t,e).map(nz)).pipe((0,Vt.U)(rz))}}function x2(n){return null!=n?az(sz(n)):null}function cz(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function lz(n){return n._rawValidators}function uz(n){return n._rawAsyncValidators}function R2(n){return n?Array.isArray(n)?n:[n]:[]}function wM(n,e){return Array.isArray(n)?n.includes(e):n===e}function dz(n,e){const t=R2(e);return R2(n).forEach(i=>{wM(t,i)||t.push(i)}),t}function hz(n,e){return R2(e).filter(t=>!wM(n,t))}class fz{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=S2(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=x2(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Yo extends fz{get formDirective(){return null}get path(){return null}}class Dm extends fz{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class pz{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let EM=(()=>{var n;class e extends pz{constructor(r){super(r)}}return(n=e).\u0275fac=function(r){return new(r||n)(u.Y36(Dm,2))},n.\u0275dir=u.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){2&r&&u.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[u.qOj]}),e})(),IM=(()=>{var n;class e extends pz{constructor(r){super(r)}}return(n=e).\u0275fac=function(r){return new(r||n)(u.Y36(Yo,10))},n.\u0275dir=u.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){2&r&&u.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[u.qOj]}),e})();const LC="VALID",TM="INVALID",j0="PENDING",VC="DISABLED";function k2(n){return(CM(n)?n.validators:n)||null}function N2(n,e){return(CM(e)?e.asyncValidators:n)||null}function CM(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function gz(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new u.vHH(1e3,"");if(!r[t])throw new u.vHH(1001,"")}function _z(n,e,t){n._forEachChild((r,i)=>{if(void 0===t[i])throw new u.vHH(1002,"")})}class DM{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===LC}get invalid(){return this.status===TM}get pending(){return this.status==j0}get disabled(){return this.status===VC}get enabled(){return this.status!==VC}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(dz(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(dz(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(hz(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(hz(e,this._rawAsyncValidators))}hasValidator(e){return wM(this._rawValidators,e)}hasAsyncValidator(e){return wM(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=j0,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=VC,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=LC,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===LC||this.status===j0)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?VC:LC}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=j0,this._hasOwnPendingAsyncValidator=!0;const t=nz(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new u.vpe,this.statusChanges=new u.vpe}_calculateStatus(){return this._allControlsDisabled()?VC:this.errors?TM:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(j0)?j0:this._anyControlsHaveStatus(TM)?TM:LC}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){CM(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function $K(n){return Array.isArray(n)?S2(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function zK(n){return Array.isArray(n)?x2(n):n||null}(this._rawAsyncValidators)}}class sy extends DM{constructor(e,t,r){super(k2(t),N2(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){_z(this,0,e),Object.keys(e).forEach(r=>{gz(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,s)=>{r=t(r,i,s)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}class yz extends sy{}const oy=new u.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>UC}),UC="always";function AM(n,e){return[...e.path,n]}function BC(n,e,t=UC){O2(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function GK(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&vz(n,e)})}(n,e),function WK(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function qK(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&vz(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function HK(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function SM(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),RM(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function xM(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function O2(n,e){const t=lz(n);null!==e.validator?n.setValidators(cz(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=uz(n);null!==e.asyncValidator?n.setAsyncValidators(cz(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();xM(e._rawValidators,i),xM(e._rawAsyncValidators,i)}function RM(n,e){let t=!1;if(null!==n){if(null!==e.validator){const i=lz(n);if(Array.isArray(i)&&i.length>0){const s=i.filter(c=>c!==e.validator);s.length!==i.length&&(t=!0,n.setValidators(s))}}if(null!==e.asyncValidator){const i=uz(n);if(Array.isArray(i)&&i.length>0){const s=i.filter(c=>c!==e.asyncValidator);s.length!==i.length&&(t=!0,n.setAsyncValidators(s))}}}const r=()=>{};return xM(e._rawValidators,r),xM(e._rawAsyncValidators,r),t}function vz(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function wz(n,e){O2(n,e)}function L2(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}function Ez(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function V2(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(s=>{s.constructor===B0?t=s:function YK(n){return Object.getPrototypeOf(n.constructor)===iy}(s)?r=s:i=s}),i||r||t||null}const XK={provide:Yo,useExisting:(0,u.Gpc)(()=>MM)},jC=(()=>Promise.resolve())();let MM=(()=>{var n;class e extends Yo{constructor(r,i,s){super(),this.callSetDisabledState=s,this.submitted=!1,this._directives=new Set,this.ngSubmit=new u.vpe,this.form=new sy({},S2(r),x2(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(r){jC.then(()=>{const i=this._findContainer(r.path);r.control=i.registerControl(r.name,r.control),BC(r.control,r,this.callSetDisabledState),r.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(r)})}getControl(r){return this.form.get(r.path)}removeControl(r){jC.then(()=>{const i=this._findContainer(r.path);i&&i.removeControl(r.name),this._directives.delete(r)})}addFormGroup(r){jC.then(()=>{const i=this._findContainer(r.path),s=new sy({});wz(s,r),i.registerControl(r.name,s),s.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(r){jC.then(()=>{const i=this._findContainer(r.path);i&&i.removeControl(r.name)})}getFormGroup(r){return this.form.get(r.path)}updateModel(r,i){jC.then(()=>{this.form.get(r.path).setValue(i)})}setValue(r){this.control.setValue(r)}onSubmit(r){return this.submitted=!0,Ez(this.form,this._directives),this.ngSubmit.emit(r),"dialog"===r?.target?.method}onReset(){this.resetForm()}resetForm(r=void 0){this.form.reset(r),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(r){return r.pop(),r.length?this.form.get(r):this.form}}return(n=e).\u0275fac=function(r){return new(r||n)(u.Y36(Do,10),u.Y36(Cm,10),u.Y36(oy,8))},n.\u0275dir=u.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){1&r&&u.NdJ("submit",function(c){return i.onSubmit(c)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[u._Bn([XK]),u.qOj]}),e})();function Iz(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function bz(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const Yl=class extends DM{constructor(e=null,t,r){super(k2(t),N2(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),CM(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=bz(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Iz(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Iz(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){bz(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},tZ={provide:Dm,useExisting:(0,u.Gpc)(()=>U2)},Dz=(()=>Promise.resolve())();let U2=(()=>{var n;class e extends Dm{constructor(r,i,s,c,h,p){super(),this._changeDetectorRef=h,this.callSetDisabledState=p,this.control=new Yl,this._registered=!1,this.name="",this.update=new u.vpe,this._parent=r,this._setValidators(i),this._setAsyncValidators(s),this.valueAccessor=V2(0,c)}ngOnChanges(r){if(this._checkForErrors(),!this._registered||"name"in r){if(this._registered&&(this._checkName(),this.formDirective)){const i=r.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in r&&this._updateDisabled(r),L2(r,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){BC(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(r){Dz.then(()=>{this.control.setValue(r,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(r){const i=r.isDisabled.currentValue,s=0!==i&&(0,u.VuI)(i);Dz.then(()=>{s&&!this.control.disabled?this.control.disable():!s&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(r){return this._parent?AM(r,this._parent):[r]}}return(n=e).\u0275fac=function(r){return new(r||n)(u.Y36(Yo,9),u.Y36(Do,10),u.Y36(Cm,10),u.Y36(zc,10),u.Y36(u.sBO,8),u.Y36(oy,8))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[u._Bn([tZ]),u.qOj,u.TTD]}),e})(),PM=(()=>{var n;class e{}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275dir=u.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),e})(),Sz=(()=>{var n;class e{}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),e})();const B2=new u.OlP("NgModelWithFormControlWarning"),aZ={provide:Yo,useExisting:(0,u.Gpc)(()=>$C)};let $C=(()=>{var n;class e extends Yo{constructor(r,i,s){super(),this.callSetDisabledState=s,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new u.vpe,this._setValidators(r),this._setAsyncValidators(i)}ngOnChanges(r){this._checkFormPresent(),r.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(RM(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(r){const i=this.form.get(r.path);return BC(i,r,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(r),i}getControl(r){return this.form.get(r.path)}removeControl(r){SM(r.control||null,r,!1),function QK(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,r)}addFormGroup(r){this._setUpFormContainer(r)}removeFormGroup(r){this._cleanUpFormContainer(r)}getFormGroup(r){return this.form.get(r.path)}addFormArray(r){this._setUpFormContainer(r)}removeFormArray(r){this._cleanUpFormContainer(r)}getFormArray(r){return this.form.get(r.path)}updateModel(r,i){this.form.get(r.path).setValue(i)}onSubmit(r){return this.submitted=!0,Ez(this.form,this.directives),this.ngSubmit.emit(r),"dialog"===r?.target?.method}onReset(){this.resetForm()}resetForm(r=void 0){this.form.reset(r),this.submitted=!1}_updateDomValue(){this.directives.forEach(r=>{const i=r.control,s=this.form.get(r.path);i!==s&&(SM(i||null,r),(n=>n instanceof Yl)(s)&&(BC(s,r,this.callSetDisabledState),r.control=s))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(r){const i=this.form.get(r.path);wz(i,r),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(r){if(this.form){const i=this.form.get(r.path);i&&function KK(n,e){return RM(n,e)}(i,r)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){O2(this.form,this),this._oldForm&&RM(this._oldForm,this)}_checkFormPresent(){}}return(n=e).\u0275fac=function(r){return new(r||n)(u.Y36(Do,10),u.Y36(Cm,10),u.Y36(oy,8))},n.\u0275dir=u.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(r,i){1&r&&u.NdJ("submit",function(c){return i.onSubmit(c)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[u._Bn([aZ]),u.qOj,u.TTD]}),e})();const uZ={provide:Dm,useExisting:(0,u.Gpc)(()=>kM)};let kM=(()=>{var n;class e extends Dm{set isDisabled(r){}constructor(r,i,s,c,h){super(),this._ngModelWarningConfig=h,this._added=!1,this.name=null,this.update=new u.vpe,this._ngModelWarningSent=!1,this._parent=r,this._setValidators(i),this._setAsyncValidators(s),this.valueAccessor=V2(0,c)}ngOnChanges(r){this._added||this._setUpControl(),L2(r,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}get path(){return AM(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return(n=e)._ngModelWarningSentOnce=!1,n.\u0275fac=function(r){return new(r||n)(u.Y36(Yo,13),u.Y36(Do,10),u.Y36(Cm,10),u.Y36(zc,10),u.Y36(B2,8))},n.\u0275dir=u.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[u._Bn([uZ]),u.qOj,u.TTD]}),e})();let ay=(()=>{var n;class e{constructor(){this._validator=vM}ngOnChanges(r){if(this.inputName in r){const i=this.normalizeInput(r[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):vM,this._onChange&&this._onChange()}}validate(r){return this._validator(r)}registerOnValidatorChange(r){this._onChange=r}enabled(r){return null!=r}}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275dir=u.lG2({type:n,features:[u.TTD]}),e})();const vZ={provide:Do,useExisting:(0,u.Gpc)(()=>zC),multi:!0};let zC=(()=>{var n;class e extends ay{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=u.VuI,this.createValidator=r=>Z6}enabled(r){return r}}return(n=e).\u0275fac=function(){let t;return function(i){return(t||(t=u.n5z(n)))(i||n)}}(),n.\u0275dir=u.lG2({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){2&r&&u.uIk("required",i._enabled?"":null)},inputs:{required:"required"},features:[u._Bn([vZ]),u.qOj]}),e})();const EZ={provide:Do,useExisting:(0,u.Gpc)(()=>NM),multi:!0};let NM=(()=>{var n;class e extends ay{constructor(){super(...arguments),this.inputName="email",this.normalizeInput=u.VuI,this.createValidator=r=>Q6}enabled(r){return r}}return(n=e).\u0275fac=function(){let t;return function(i){return(t||(t=u.n5z(n)))(i||n)}}(),n.\u0275dir=u.lG2({type:n,selectors:[["","email","","formControlName",""],["","email","","formControl",""],["","email","","ngModel",""]],inputs:{email:"email"},features:[u._Bn([EZ]),u.qOj]}),e})();const IZ={provide:Do,useExisting:(0,u.Gpc)(()=>OM),multi:!0};let OM=(()=>{var n;class e extends ay{constructor(){super(...arguments),this.inputName="minlength",this.normalizeInput=r=>function Oz(n){return"number"==typeof n?n:parseInt(n,10)}(r),this.createValidator=r=>X6(r)}}return(n=e).\u0275fac=function(){let t;return function(i){return(t||(t=u.n5z(n)))(i||n)}}(),n.\u0275dir=u.lG2({type:n,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(r,i){2&r&&u.uIk("minlength",i._enabled?i.minlength:null)},inputs:{minlength:"minlength"},features:[u._Bn([IZ]),u.qOj]}),e})(),$z=(()=>{var n;class e{}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[Sz]}),e})();class zz extends DM{constructor(e,t,r){super(k2(t),N2(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),t&&(this.controls.splice(i,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){_z(this,0,e),e.forEach((r,i)=>{gz(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}}function Hz(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let CZ=(()=>{var n;class e{constructor(){this.useNonNullable=!1}get nonNullable(){const r=new e;return r.useNonNullable=!0,r}group(r,i=null){const s=this._reduceControls(r);let c={};return Hz(i)?c=i:null!==i&&(c.validators=i.validator,c.asyncValidators=i.asyncValidator),new sy(s,c)}record(r,i=null){const s=this._reduceControls(r);return new yz(s,i)}control(r,i,s){let c={};return this.useNonNullable?(Hz(i)?c=i:(c.validators=i,c.asyncValidators=s),new Yl(r,{...c,nonNullable:!0})):new Yl(r,i,s)}array(r,i,s){const c=r.map(h=>this._createControl(h));return new zz(c,i,s)}_reduceControls(r){const i={};return Object.keys(r).forEach(s=>{i[s]=this._createControl(r[s])}),i}_createControl(r){return r instanceof Yl||r instanceof DM?r:Array.isArray(r)?this.control(r[0],r.length>1?r[1]:null,r.length>2?r[2]:null):this.control(r)}}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),e})(),DZ=(()=>{var n;class e{static withConfig(r){return{ngModule:e,providers:[{provide:oy,useValue:r.callSetDisabledState??UC}]}}}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[$z]}),e})(),AZ=(()=>{var n;class e{static withConfig(r){return{ngModule:e,providers:[{provide:B2,useValue:r.warnOnNgModelWithFormControl??"always"},{provide:oy,useValue:r.callSetDisabledState??UC}]}}}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[$z]}),e})();const SZ=["knob"],xZ=["valueIndicatorContainer"];function RZ(n,e){if(1&n&&(u.TgZ(0,"div",4,5)(2,"div",6)(3,"span",7),u._uU(4),u.qZA()()()),2&n){const t=u.oxw();u.xp6(4),u.Oqu(t.valueIndicatorText)}}const MZ=["trackActive"];function PZ(n,e){if(1&n&&u._UZ(0,"div"),2&n){const t=e.$implicit,r=e.index,i=u.oxw(3);u.Tol(0===t?"mdc-slider__tick-mark--active":"mdc-slider__tick-mark--inactive"),u.Udp("transform",i._calcTickMarkTransform(r))}}function kZ(n,e){if(1&n&&(u.ynx(0),u.YNc(1,PZ,1,4,"div",11),u.BQk()),2&n){const t=u.oxw(2);u.xp6(1),u.Q6J("ngForOf",t._tickMarks)}}function NZ(n,e){if(1&n&&(u.TgZ(0,"div",8,9),u.YNc(2,kZ,2,1,"ng-container",10),u.qZA()),2&n){const t=u.oxw();u.xp6(2),u.Q6J("ngIf",t._cachedWidth)}}function OZ(n,e){if(1&n&&u._UZ(0,"mat-slider-visual-thumb",7),2&n){const t=u.oxw();u.Q6J("discrete",t.discrete)("thumbPosition",1)("valueIndicatorText",t.startValueIndicatorText)}}const FZ=["*"],FM=new u.OlP("_MatSlider"),Gz=new u.OlP("_MatSliderThumb"),qz=new u.OlP("_MatSliderRangeThumb"),Wz=new u.OlP("_MatSliderVisualThumb");let LZ=(()=>{var n;class e{constructor(r,i,s,c){this._cdr=r,this._ngZone=i,this._slider=c,this._isHovered=!1,this._isActive=!1,this._isValueIndicatorVisible=!1,this._onPointerMove=h=>{if(this._sliderInput._isFocused)return;const p=this._hostElement.getBoundingClientRect(),g=this._slider._isCursorOnSliderThumb(h,p);this._isHovered=g,g?this._showHoverRipple():this._hideRipple(this._hoverRippleRef)},this._onMouseLeave=()=>{this._isHovered=!1,this._hideRipple(this._hoverRippleRef)},this._onFocus=()=>{this._hideRipple(this._hoverRippleRef),this._showFocusRipple(),this._hostElement.classList.add("mdc-slider__thumb--focused")},this._onBlur=()=>{this._isActive||this._hideRipple(this._focusRippleRef),this._isHovered&&this._showHoverRipple(),this._hostElement.classList.remove("mdc-slider__thumb--focused")},this._onDragStart=h=>{0===h.button&&(this._isActive=!0,this._showActiveRipple())},this._onDragEnd=()=>{this._isActive=!1,this._hideRipple(this._activeRippleRef),this._sliderInput._isFocused||this._hideRipple(this._focusRippleRef)},this._hostElement=s.nativeElement}ngAfterViewInit(){this._ripple.radius=24,this._sliderInput=this._slider._getInput(this.thumbPosition),this._sliderInputEl=this._sliderInput._hostElement;const r=this._sliderInputEl;this._ngZone.runOutsideAngular(()=>{r.addEventListener("pointermove",this._onPointerMove),r.addEventListener("pointerdown",this._onDragStart),r.addEventListener("pointerup",this._onDragEnd),r.addEventListener("pointerleave",this._onMouseLeave),r.addEventListener("focus",this._onFocus),r.addEventListener("blur",this._onBlur)})}ngOnDestroy(){const r=this._sliderInputEl;r.removeEventListener("pointermove",this._onPointerMove),r.removeEventListener("pointerdown",this._onDragStart),r.removeEventListener("pointerup",this._onDragEnd),r.removeEventListener("pointerleave",this._onMouseLeave),r.removeEventListener("focus",this._onFocus),r.removeEventListener("blur",this._onBlur)}_showHoverRipple(){this._isShowingRipple(this._hoverRippleRef)||(this._hoverRippleRef=this._showRipple({enterDuration:0,exitDuration:0}),this._hoverRippleRef?.element.classList.add("mat-mdc-slider-hover-ripple"))}_showFocusRipple(){this._isShowingRipple(this._focusRippleRef)||(this._focusRippleRef=this._showRipple({enterDuration:0,exitDuration:0},!0),this._focusRippleRef?.element.classList.add("mat-mdc-slider-focus-ripple"))}_showActiveRipple(){this._isShowingRipple(this._activeRippleRef)||(this._activeRippleRef=this._showRipple({enterDuration:225,exitDuration:400}),this._activeRippleRef?.element.classList.add("mat-mdc-slider-active-ripple"))}_isShowingRipple(r){return 0===r?.state||1===r?.state}_showRipple(r,i){if(!this._slider.disabled&&(this._showValueIndicator(),this._slider._isRange&&this._slider._getThumb(1===this.thumbPosition?2:1)._showValueIndicator(),!this._slider._globalRippleOptions?.disabled||i))return this._ripple.launch({animation:this._slider._noopAnimations?{enterDuration:0,exitDuration:0}:r,centered:!0,persistent:!0})}_hideRipple(r){if(r?.fadeOut(),this._isShowingAnyRipple())return;this._slider._isRange||this._hideValueIndicator();const i=this._getSibling();i._isShowingAnyRipple()||(this._hideValueIndicator(),i._hideValueIndicator())}_showValueIndicator(){this._hostElement.classList.add("mdc-slider__thumb--with-indicator")}_hideValueIndicator(){this._hostElement.classList.remove("mdc-slider__thumb--with-indicator")}_getSibling(){return this._slider._getThumb(1===this.thumbPosition?2:1)}_getValueIndicatorContainer(){return this._valueIndicatorContainer?.nativeElement}_getKnob(){return this._knob.nativeElement}_isShowingAnyRipple(){return this._isShowingRipple(this._hoverRippleRef)||this._isShowingRipple(this._focusRippleRef)||this._isShowingRipple(this._activeRippleRef)}}return(n=e).\u0275fac=function(r){return new(r||n)(u.Y36(u.sBO),u.Y36(u.R0b),u.Y36(u.SBq),u.Y36(FM))},n.\u0275cmp=u.Xpm({type:n,selectors:[["mat-slider-visual-thumb"]],viewQuery:function(r,i){if(1&r&&(u.Gf(L6,5),u.Gf(SZ,5),u.Gf(xZ,5)),2&r){let s;u.iGM(s=u.CRH())&&(i._ripple=s.first),u.iGM(s=u.CRH())&&(i._knob=s.first),u.iGM(s=u.CRH())&&(i._valueIndicatorContainer=s.first)}},hostAttrs:[1,"mdc-slider__thumb","mat-mdc-slider-visual-thumb"],inputs:{discrete:"discrete",thumbPosition:"thumbPosition",valueIndicatorText:"valueIndicatorText"},features:[u._Bn([{provide:Wz,useExisting:n}])],decls:4,vars:2,consts:[["class","mdc-slider__value-indicator-container",4,"ngIf"],[1,"mdc-slider__thumb-knob"],["knob",""],["matRipple","",1,"mat-mdc-focus-indicator",3,"matRippleDisabled"],[1,"mdc-slider__value-indicator-container"],["valueIndicatorContainer",""],[1,"mdc-slider__value-indicator"],[1,"mdc-slider__value-indicator-text"]],template:function(r,i){1&r&&(u.YNc(0,RZ,5,1,"div",0),u._UZ(1,"div",1,2)(3,"div",3)),2&r&&(u.Q6J("ngIf",i.discrete),u.xp6(3),u.Q6J("matRippleDisabled",!0))},dependencies:[ys,L6],styles:[".mat-mdc-slider-visual-thumb .mat-ripple{height:100%;width:100%}.mat-mdc-slider .mdc-slider__tick-marks{justify-content:start}.mat-mdc-slider .mdc-slider__tick-marks .mdc-slider__tick-mark--active,.mat-mdc-slider .mdc-slider__tick-marks .mdc-slider__tick-mark--inactive{position:absolute;left:2px}"],encapsulation:2,changeDetection:0}),e})();const VZ=dK(hK(class{constructor(n){this._elementRef=n}}),"primary");let UZ=(()=>{var n;class e extends VZ{get disabled(){return this._disabled}set disabled(r){this._disabled=_d(r);const i=this._getInput(2),s=this._getInput(1);i&&(i.disabled=this._disabled),s&&(s.disabled=this._disabled)}get discrete(){return this._discrete}set discrete(r){this._discrete=_d(r),this._updateValueIndicatorUIs()}get showTickMarks(){return this._showTickMarks}set showTickMarks(r){this._showTickMarks=_d(r)}get min(){return this._min}set min(r){const i=Kl(r,this._min);this._min!==i&&this._updateMin(i)}_updateMin(r){const i=this._min;this._min=r,this._isRange?this._updateMinRange({old:i,new:r}):this._updateMinNonRange(r),this._onMinMaxOrStepChange()}_updateMinRange(r){const i=this._getInput(2),s=this._getInput(1),c=i.value,h=s.value;s.min=r.new,i.min=Math.max(r.new,s.value),s.max=Math.min(i.max,i.value),s._updateWidthInactive(),i._updateWidthInactive(),r.new<r.old?this._onTranslateXChangeBySideEffect(i,s):this._onTranslateXChangeBySideEffect(s,i),c!==i.value&&this._onValueChange(i),h!==s.value&&this._onValueChange(s)}_updateMinNonRange(r){const i=this._getInput(2);if(i){const s=i.value;i.min=r,i._updateThumbUIByValue(),this._updateTrackUI(i),s!==i.value&&this._onValueChange(i)}}get max(){return this._max}set max(r){const i=Kl(r,this._max);this._max!==i&&this._updateMax(i)}_updateMax(r){const i=this._max;this._max=r,this._isRange?this._updateMaxRange({old:i,new:r}):this._updateMaxNonRange(r),this._onMinMaxOrStepChange()}_updateMaxRange(r){const i=this._getInput(2),s=this._getInput(1),c=i.value,h=s.value;i.max=r.new,s.max=Math.min(r.new,i.value),i.min=s.value,i._updateWidthInactive(),s._updateWidthInactive(),r.new>r.old?this._onTranslateXChangeBySideEffect(s,i):this._onTranslateXChangeBySideEffect(i,s),c!==i.value&&this._onValueChange(i),h!==s.value&&this._onValueChange(s)}_updateMaxNonRange(r){const i=this._getInput(2);if(i){const s=i.value;i.max=r,i._updateThumbUIByValue(),this._updateTrackUI(i),s!==i.value&&this._onValueChange(i)}}get step(){return this._step}set step(r){const i=Kl(r,this._step);this._step!==i&&this._updateStep(i)}_updateStep(r){this._step=r,this._isRange?this._updateStepRange():this._updateStepNonRange(),this._onMinMaxOrStepChange()}_updateStepRange(){const r=this._getInput(2),i=this._getInput(1),s=r.value,c=i.value,h=i.value;r.min=this._min,i.max=this._max,r.step=this._step,i.step=this._step,this._platform.SAFARI&&(r.value=r.value,i.value=i.value),r.min=Math.max(this._min,i.value),i.max=Math.min(this._max,r.value),i._updateWidthInactive(),r._updateWidthInactive(),r.value<h?this._onTranslateXChangeBySideEffect(i,r):this._onTranslateXChangeBySideEffect(r,i),s!==r.value&&this._onValueChange(r),c!==i.value&&this._onValueChange(i)}_updateStepNonRange(){const r=this._getInput(2);if(r){const i=r.value;r.step=this._step,this._platform.SAFARI&&(r.value=r.value),r._updateThumbUIByValue(),i!==r.value&&this._onValueChange(r)}}constructor(r,i,s,c,h,p){super(s),this._ngZone=r,this._cdr=i,this._dir=c,this._globalRippleOptions=h,this._disabled=!1,this._discrete=!1,this._showTickMarks=!1,this._min=0,this._max=100,this._step=1,this.displayWith=g=>`${g}`,this._rippleRadius=24,this.startValueIndicatorText="",this.endValueIndicatorText="",this._isRange=!1,this._isRtl=!1,this._hasViewInitialized=!1,this._tickMarkTrackWidth=0,this._hasAnimation=!1,this._resizeTimer=null,this._platform=(0,u.f3M)(ty),this._knobRadius=8,this._thumbsOverlap=!1,this._noopAnimations="NoopAnimations"===p,this._dirChangeSubscription=this._dir.change.subscribe(()=>this._onDirChange()),this._isRtl="rtl"===this._dir.value}ngAfterViewInit(){this._platform.isBrowser&&this._updateDimensions();const r=this._getInput(2),i=this._getInput(1);this._isRange=!!r&&!!i,this._cdr.detectChanges();const s=this._getThumb(2);this._rippleRadius=s._ripple.radius,this._inputPadding=this._rippleRadius-this._knobRadius,this._inputOffset=this._knobRadius,this._isRange?this._initUIRange(r,i):this._initUINonRange(r),this._updateTrackUI(r),this._updateTickMarkUI(),this._updateTickMarkTrackUI(),this._observeHostResize(),this._cdr.detectChanges()}_initUINonRange(r){r.initProps(),r.initUI(),this._updateValueIndicatorUI(r),this._hasViewInitialized=!0,r._updateThumbUIByValue()}_initUIRange(r,i){r.initProps(),r.initUI(),i.initProps(),i.initUI(),r._updateMinMax(),i._updateMinMax(),r._updateStaticStyles(),i._updateStaticStyles(),this._updateValueIndicatorUIs(),this._hasViewInitialized=!0,r._updateThumbUIByValue(),i._updateThumbUIByValue()}ngOnDestroy(){this._dirChangeSubscription.unsubscribe(),this._resizeObserver?.disconnect(),this._resizeObserver=null}_onDirChange(){this._isRtl="rtl"===this._dir.value,this._isRange?this._onDirChangeRange():this._onDirChangeNonRange(),this._updateTickMarkUI()}_onDirChangeRange(){const r=this._getInput(2),i=this._getInput(1);r._setIsLeftThumb(),i._setIsLeftThumb(),r.translateX=r._calcTranslateXByValue(),i.translateX=i._calcTranslateXByValue(),r._updateStaticStyles(),i._updateStaticStyles(),r._updateWidthInactive(),i._updateWidthInactive(),r._updateThumbUIByValue(),i._updateThumbUIByValue()}_onDirChangeNonRange(){this._getInput(2)._updateThumbUIByValue()}_observeHostResize(){typeof ResizeObserver>"u"||!ResizeObserver||this._ngZone.runOutsideAngular(()=>{this._resizeObserver=new ResizeObserver(()=>{this._isActive()||(this._resizeTimer&&clearTimeout(this._resizeTimer),this._onResize())}),this._resizeObserver.observe(this._elementRef.nativeElement)})}_isActive(){return this._getThumb(1)._isActive||this._getThumb(2)._isActive}_getValue(r=2){const i=this._getInput(r);return i?i.value:this.min}_skipUpdate(){return!(!this._getInput(1)?._skipUIUpdate&&!this._getInput(2)?._skipUIUpdate)}_updateDimensions(){this._cachedWidth=this._elementRef.nativeElement.offsetWidth,this._cachedLeft=this._elementRef.nativeElement.getBoundingClientRect().left}_setTrackActiveStyles(r){const i=this._trackActive.nativeElement.style;i.left=r.left,i.right=r.right,i.transformOrigin=r.transformOrigin,i.transform=r.transform}_calcTickMarkTransform(r){return`translateX(${r*(this._tickMarkTrackWidth/(this._tickMarks.length-1))}px`}_onTranslateXChange(r){this._hasViewInitialized&&(this._updateThumbUI(r),this._updateTrackUI(r),this._updateOverlappingThumbUI(r))}_onTranslateXChangeBySideEffect(r,i){this._hasViewInitialized&&(r._updateThumbUIByValue(),i._updateThumbUIByValue())}_onValueChange(r){this._hasViewInitialized&&(this._updateValueIndicatorUI(r),this._updateTickMarkUI(),this._cdr.detectChanges())}_onMinMaxOrStepChange(){this._hasViewInitialized&&(this._updateTickMarkUI(),this._updateTickMarkTrackUI(),this._cdr.markForCheck())}_onResize(){if(this._hasViewInitialized){if(this._updateDimensions(),this._isRange){const r=this._getInput(2),i=this._getInput(1);r._updateThumbUIByValue(),i._updateThumbUIByValue(),r._updateStaticStyles(),i._updateStaticStyles(),r._updateMinMax(),i._updateMinMax(),r._updateWidthInactive(),i._updateWidthInactive()}else{const r=this._getInput(2);r&&r._updateThumbUIByValue()}this._updateTickMarkUI(),this._updateTickMarkTrackUI(),this._cdr.detectChanges()}}_areThumbsOverlapping(){const r=this._getInput(1),i=this._getInput(2);return!(!r||!i)&&i.translateX-r.translateX<20}_updateOverlappingThumbClassNames(r){const i=r.getSibling(),s=this._getThumb(r.thumbPosition);this._getThumb(i.thumbPosition)._hostElement.classList.remove("mdc-slider__thumb--top"),s._hostElement.classList.toggle("mdc-slider__thumb--top",this._thumbsOverlap)}_updateOverlappingThumbUI(r){!this._isRange||this._skipUpdate()||this._thumbsOverlap!==this._areThumbsOverlapping()&&(this._thumbsOverlap=!this._thumbsOverlap,this._updateOverlappingThumbClassNames(r))}_updateThumbUI(r){this._skipUpdate()||(this._getThumb(2===r.thumbPosition?2:1)._hostElement.style.transform=`translateX(${r.translateX}px)`)}_updateValueIndicatorUI(r){if(this._skipUpdate())return;const i=this.displayWith(r.value);if(this._hasViewInitialized?r._valuetext=i:r._hostElement.setAttribute("aria-valuetext",i),this.discrete){1===r.thumbPosition?this.startValueIndicatorText=i:this.endValueIndicatorText=i;const s=this._getThumb(r.thumbPosition);i.length<3?s._hostElement.classList.add("mdc-slider__thumb--short-value"):s._hostElement.classList.remove("mdc-slider__thumb--short-value")}}_updateValueIndicatorUIs(){const r=this._getInput(2),i=this._getInput(1);r&&this._updateValueIndicatorUI(r),i&&this._updateValueIndicatorUI(i)}_updateTickMarkTrackUI(){if(!this.showTickMarks||this._skipUpdate())return;const r=this._step&&this._step>0?this._step:1,s=(Math.floor(this.max/r)*r-this.min)/(this.max-this.min);this._tickMarkTrackWidth=this._cachedWidth*s-6}_updateTrackUI(r){this._skipUpdate()||(this._isRange?this._updateTrackUIRange(r):this._updateTrackUINonRange(r))}_updateTrackUIRange(r){const i=r.getSibling();if(!i||!this._cachedWidth)return;const s=Math.abs(i.translateX-r.translateX)/this._cachedWidth;this._setTrackActiveStyles(r._isLeftThumb&&this._cachedWidth?{left:"auto",right:this._cachedWidth-i.translateX+"px",transformOrigin:"right",transform:`scaleX(${s})`}:{left:`${i.translateX}px`,right:"auto",transformOrigin:"left",transform:`scaleX(${s})`})}_updateTrackUINonRange(r){this._setTrackActiveStyles(this._isRtl?{left:"auto",right:"0px",transformOrigin:"right",transform:`scaleX(${1-r.fillPercentage})`}:{left:"0px",right:"auto",transformOrigin:"left",transform:`scaleX(${r.fillPercentage})`})}_updateTickMarkUI(){if(!this.showTickMarks||void 0===this.step||void 0===this.min||void 0===this.max)return;const r=this.step>0?this.step:1;this._isRange?this._updateTickMarkUIRange(r):this._updateTickMarkUINonRange(r),this._isRtl&&this._tickMarks.reverse()}_updateTickMarkUINonRange(r){const i=this._getValue();let s=Math.max(Math.round((i-this.min)/r),0),c=Math.max(Math.round((this.max-i)/r),0);this._isRtl?s++:c++,this._tickMarks=Array(s).fill(0).concat(Array(c).fill(1))}_updateTickMarkUIRange(r){const i=this._getValue(),s=this._getValue(1),c=Math.max(Math.floor((s-this.min)/r),0),h=Math.max(Math.floor((i-s)/r)+1,0),p=Math.max(Math.floor((this.max-i)/r),0);this._tickMarks=Array(c).fill(1).concat(Array(h).fill(0),Array(p).fill(1))}_getInput(r){return 2===r&&this._input?this._input:this._inputs?.length?1===r?this._inputs.first:this._inputs.last:void 0}_getThumb(r){return 2===r?this._thumbs?.last:this._thumbs?.first}_setTransition(r){this._hasAnimation=!this._platform.IOS&&r&&!this._noopAnimations,this._elementRef.nativeElement.classList.toggle("mat-mdc-slider-with-animation",this._hasAnimation)}_isCursorOnSliderThumb(r,i){const s=i.width/2,g=r.clientY-(i.y+s);return Math.pow(r.clientX-(i.x+s),2)+Math.pow(g,2)<Math.pow(s,2)}}return(n=e).\u0275fac=function(r){return new(r||n)(u.Y36(u.R0b),u.Y36(u.sBO),u.Y36(u.SBq),u.Y36(D6,8),u.Y36(F6,8),u.Y36(u.QbO,8))},n.\u0275cmp=u.Xpm({type:n,selectors:[["mat-slider"]],contentQueries:function(r,i,s){if(1&r&&(u.Suo(s,Gz,5),u.Suo(s,qz,4)),2&r){let c;u.iGM(c=u.CRH())&&(i._input=c.first),u.iGM(c=u.CRH())&&(i._inputs=c)}},viewQuery:function(r,i){if(1&r&&(u.Gf(MZ,5),u.Gf(Wz,5)),2&r){let s;u.iGM(s=u.CRH())&&(i._trackActive=s.first),u.iGM(s=u.CRH())&&(i._thumbs=s)}},hostAttrs:[1,"mat-mdc-slider","mdc-slider"],hostVars:10,hostBindings:function(r,i){2&r&&u.ekj("mdc-slider--range",i._isRange)("mdc-slider--disabled",i.disabled)("mdc-slider--discrete",i.discrete)("mdc-slider--tick-marks",i.showTickMarks)("_mat-animation-noopable",i._noopAnimations)},inputs:{color:"color",disableRipple:"disableRipple",disabled:"disabled",discrete:"discrete",showTickMarks:"showTickMarks",min:"min",max:"max",step:"step",displayWith:"displayWith"},exportAs:["matSlider"],features:[u._Bn([{provide:FM,useExisting:n}]),u.qOj],ngContentSelectors:FZ,decls:9,vars:5,consts:[[1,"mdc-slider__track"],[1,"mdc-slider__track--inactive"],[1,"mdc-slider__track--active"],[1,"mdc-slider__track--active_fill"],["trackActive",""],["class","mdc-slider__tick-marks",4,"ngIf"],[3,"discrete","thumbPosition","valueIndicatorText",4,"ngIf"],[3,"discrete","thumbPosition","valueIndicatorText"],[1,"mdc-slider__tick-marks"],["tickMarkContainer",""],[4,"ngIf"],[3,"class","transform",4,"ngFor","ngForOf"]],template:function(r,i){1&r&&(u.F$t(),u.Hsn(0),u.TgZ(1,"div",0),u._UZ(2,"div",1),u.TgZ(3,"div",2),u._UZ(4,"div",3,4),u.qZA(),u.YNc(6,NZ,3,1,"div",5),u.qZA(),u.YNc(7,OZ,1,3,"mat-slider-visual-thumb",6),u._UZ(8,"mat-slider-visual-thumb",7)),2&r&&(u.xp6(6),u.Q6J("ngIf",i.showTickMarks),u.xp6(1),u.Q6J("ngIf",i._isRange),u.xp6(1),u.Q6J("discrete",i.discrete)("thumbPosition",2)("valueIndicatorText",i.endValueIndicatorText))},dependencies:[sc,ys,LZ],styles:['.mdc-slider{cursor:pointer;height:48px;margin:0 24px;position:relative;touch-action:pan-y}.mdc-slider .mdc-slider__track{position:absolute;top:50%;transform:translateY(-50%);width:100%}.mdc-slider .mdc-slider__track--active,.mdc-slider .mdc-slider__track--inactive{display:flex;height:100%;position:absolute;width:100%}.mdc-slider .mdc-slider__track--active{overflow:hidden}.mdc-slider .mdc-slider__track--active_fill{border-top-style:solid;box-sizing:border-box;height:100%;width:100%;position:relative;-webkit-transform-origin:left;transform-origin:left}[dir=rtl] .mdc-slider .mdc-slider__track--active_fill,.mdc-slider .mdc-slider__track--active_fill[dir=rtl]{-webkit-transform-origin:right;transform-origin:right}.mdc-slider .mdc-slider__track--inactive{left:0;top:0}.mdc-slider .mdc-slider__track--inactive::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-slider .mdc-slider__track--inactive::before{border-color:CanvasText}}.mdc-slider .mdc-slider__value-indicator-container{bottom:44px;left:var(--slider-value-indicator-container-left, 50%);pointer-events:none;position:absolute;right:var(--slider-value-indicator-container-right);transform:var(--slider-value-indicator-container-transform, translateX(-50%))}.mdc-slider .mdc-slider__value-indicator{transition:transform 100ms 0ms cubic-bezier(0.4, 0, 1, 1);align-items:center;border-radius:4px;display:flex;height:32px;padding:0 12px;transform:scale(0);transform-origin:bottom}.mdc-slider .mdc-slider__value-indicator::before{border-left:6px solid rgba(0,0,0,0);border-right:6px solid rgba(0,0,0,0);border-top:6px solid;bottom:-5px;content:"";height:0;left:var(--slider-value-indicator-caret-left, 50%);position:absolute;right:var(--slider-value-indicator-caret-right);transform:var(--slider-value-indicator-caret-transform, translateX(-50%));width:0}.mdc-slider .mdc-slider__value-indicator::after{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-slider .mdc-slider__value-indicator::after{border-color:CanvasText}}.mdc-slider .mdc-slider__thumb--with-indicator .mdc-slider__value-indicator-container{pointer-events:auto}.mdc-slider .mdc-slider__thumb--with-indicator .mdc-slider__value-indicator{transition:transform 100ms 0ms cubic-bezier(0, 0, 0.2, 1);transform:scale(1)}@media(prefers-reduced-motion){.mdc-slider .mdc-slider__value-indicator,.mdc-slider .mdc-slider__thumb--with-indicator .mdc-slider__value-indicator{transition:none}}.mdc-slider .mdc-slider__thumb{display:flex;left:-24px;outline:none;position:absolute;user-select:none;height:48px;width:48px}.mdc-slider .mdc-slider__thumb--top{z-index:1}.mdc-slider .mdc-slider__thumb--top .mdc-slider__thumb-knob,.mdc-slider .mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mdc-slider .mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border-style:solid;border-width:1px;box-sizing:content-box}.mdc-slider .mdc-slider__thumb-knob{box-sizing:border-box;left:50%;position:absolute;top:50%;transform:translate(-50%, -50%)}.mdc-slider .mdc-slider__tick-marks{align-items:center;box-sizing:border-box;display:flex;height:100%;justify-content:space-between;padding:0 1px;position:absolute;width:100%}.mdc-slider--discrete .mdc-slider__thumb,.mdc-slider--discrete .mdc-slider__track--active_fill{transition:transform 80ms ease}@media(prefers-reduced-motion){.mdc-slider--discrete .mdc-slider__thumb,.mdc-slider--discrete .mdc-slider__track--active_fill{transition:none}}.mdc-slider--disabled{cursor:auto}.mdc-slider--disabled .mdc-slider__thumb{pointer-events:none}.mdc-slider__input{cursor:pointer;left:2px;margin:0;height:44px;opacity:0;pointer-events:none;position:absolute;top:2px;width:44px}.mat-mdc-slider{display:inline-block;box-sizing:border-box;outline:none;vertical-align:middle;margin-left:8px;margin-right:8px;width:auto;min-width:112px;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-slider .mdc-slider__thumb-knob{background-color:var(--mdc-slider-handle-color, var(--mdc-theme-primary, #6200ee));border-color:var(--mdc-slider-handle-color, var(--mdc-theme-primary, #6200ee))}.mat-mdc-slider .mdc-slider__thumb--top .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border-color:#fff}.mat-mdc-slider.mdc-slider--disabled .mdc-slider__thumb-knob{background-color:var(--mdc-slider-disabled-handle-color, var(--mdc-theme-on-surface, #000));border-color:var(--mdc-slider-disabled-handle-color, var(--mdc-theme-on-surface, #000))}.mat-mdc-slider.mdc-slider--disabled .mdc-slider__thumb--top .mdc-slider__thumb-knob,.mat-mdc-slider.mdc-slider--disabled .mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mat-mdc-slider.mdc-slider--disabled .mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border-color:#fff}.mat-mdc-slider .mdc-slider__thumb::before,.mat-mdc-slider .mdc-slider__thumb::after{background-color:var(--mdc-slider-handle-color, var(--mdc-theme-primary, #6200ee))}.mat-mdc-slider .mdc-slider__thumb:hover::before,.mat-mdc-slider .mdc-slider__thumb.mdc-ripple-surface--hover::before{opacity:var(--mdc-ripple-hover-opacity, 0.04)}.mat-mdc-slider .mdc-slider__thumb.mdc-ripple-upgraded--background-focused::before,.mat-mdc-slider .mdc-slider__thumb:not(.mdc-ripple-upgraded):focus::before{transition-duration:75ms;opacity:var(--mdc-ripple-focus-opacity, 0.12)}.mat-mdc-slider .mdc-slider__thumb:not(.mdc-ripple-upgraded)::after{transition:opacity 150ms linear}.mat-mdc-slider .mdc-slider__thumb:not(.mdc-ripple-upgraded):active::after{transition-duration:75ms;opacity:var(--mdc-ripple-press-opacity, 0.12)}.mat-mdc-slider .mdc-slider__thumb.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-ripple-press-opacity, 0.12)}.mat-mdc-slider .mdc-slider__track--active_fill{border-color:var(--mdc-slider-active-track-color, var(--mdc-theme-primary, #6200ee))}.mat-mdc-slider.mdc-slider--disabled .mdc-slider__track--active_fill{border-color:var(--mdc-slider-disabled-active-track-color, var(--mdc-theme-on-surface, #000))}.mat-mdc-slider .mdc-slider__track--inactive{background-color:var(--mdc-slider-inactive-track-color, var(--mdc-theme-primary, #6200ee));opacity:.24}.mat-mdc-slider.mdc-slider--disabled .mdc-slider__track--inactive{background-color:var(--mdc-slider-disabled-inactive-track-color, var(--mdc-theme-on-surface, #000));opacity:.24}.mat-mdc-slider .mdc-slider__tick-mark--active{background-color:var(--mdc-slider-with-tick-marks-active-container-color, var(--mdc-theme-on-primary, #fff));opacity:var(--mdc-slider-with-tick-marks-active-container-opacity, 0.6)}.mat-mdc-slider.mdc-slider--disabled .mdc-slider__tick-mark--active{background-color:var(--mdc-slider-with-tick-marks-active-container-color, var(--mdc-theme-on-primary, #fff));opacity:var(--mdc-slider-with-tick-marks-active-container-opacity, 0.6)}.mat-mdc-slider .mdc-slider__tick-mark--inactive{background-color:var(--mdc-slider-with-tick-marks-inactive-container-color, var(--mdc-theme-primary, #6200ee));opacity:var(--mdc-slider-with-tick-marks-inactive-container-opacity, 0.6)}.mat-mdc-slider.mdc-slider--disabled .mdc-slider__tick-mark--inactive{background-color:var(--mdc-slider-with-tick-marks-disabled-container-color, var(--mdc-theme-on-surface, #000));opacity:var(--mdc-slider-with-tick-marks-inactive-container-opacity, 0.6)}.mat-mdc-slider .mdc-slider__value-indicator{background-color:var(--mdc-slider-label-container-color, #666666);opacity:1}.mat-mdc-slider .mdc-slider__value-indicator::before{border-top-color:var(--mdc-slider-label-container-color, #666666)}.mat-mdc-slider .mdc-slider__value-indicator{color:var(--mdc-slider-label-label-text-color, var(--mdc-theme-on-primary, #fff))}.mat-mdc-slider .mdc-slider__track{height:var(--mdc-slider-inactive-track-height, 4px)}.mat-mdc-slider .mdc-slider__track--active{height:var(--mdc-slider-active-track-height, 6px);top:calc((var(--mdc-slider-inactive-track-height, 4px) - var(--mdc-slider-active-track-height, 6px)) / 2)}.mat-mdc-slider .mdc-slider__track--active_fill{border-top-width:var(--mdc-slider-active-track-height, 6px)}.mat-mdc-slider .mdc-slider__track--inactive{height:var(--mdc-slider-inactive-track-height, 4px)}.mat-mdc-slider .mdc-slider__tick-mark--active,.mat-mdc-slider .mdc-slider__tick-mark--inactive{height:var(--mdc-slider-with-tick-marks-container-size, 2px);width:var(--mdc-slider-with-tick-marks-container-size, 2px)}.mat-mdc-slider.mdc-slider--disabled{opacity:0.38}.mat-mdc-slider .mdc-slider__value-indicator-text{letter-spacing:var(--mdc-slider-label-label-text-tracking, 0.0071428571em);font-size:var(--mdc-slider-label-label-text-size, 0.875rem);font-family:var(--mdc-slider-label-label-text-font, Roboto, sans-serif);font-weight:var(--mdc-slider-label-label-text-weight, 500);line-height:var(--mdc-slider-label-label-text-line-height, 1.375rem)}.mat-mdc-slider .mdc-slider__track--active{border-radius:var(--mdc-slider-active-track-shape, 9999px)}.mat-mdc-slider .mdc-slider__track--inactive{border-radius:var(--mdc-slider-inactive-track-shape, 9999px)}.mat-mdc-slider .mdc-slider__thumb-knob{border-radius:var(--mdc-slider-handle-shape, 50%);width:var(--mdc-slider-handle-width, 20px);height:var(--mdc-slider-handle-height, 20px);border-style:solid;border-width:calc(var(--mdc-slider-handle-height, 20px) / 2) calc(var(--mdc-slider-handle-width, 20px) / 2)}.mat-mdc-slider .mdc-slider__tick-mark--active,.mat-mdc-slider .mdc-slider__tick-mark--inactive{border-radius:var(--mdc-slider-with-tick-marks-container-shape, 50%)}.mat-mdc-slider .mdc-slider__thumb-knob{box-shadow:var(--mdc-slider-handle-elevation, 0px 2px 1px -1px rgba(0, 0, 0, 0.2), 0px 1px 1px 0px rgba(0, 0, 0, 0.14), 0px 1px 3px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-slider .mdc-slider__thumb:hover .mdc-slider__thumb-knob{background-color:var(--mdc-slider-hover-handle-color, var(--mdc-theme-primary, #6200ee));border-color:var(--mdc-slider-hover-handle-color, var(--mdc-theme-primary, #6200ee))}.mat-mdc-slider .mdc-slider__thumb:hover .mdc-slider__thumb--top .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb:hover .mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb:hover .mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border-color:#fff}.mat-mdc-slider .mdc-slider__thumb--focused .mdc-slider__thumb-knob{background-color:var(--mdc-slider-focus-handle-color, var(--mdc-theme-primary, #6200ee));border-color:var(--mdc-slider-focus-handle-color, var(--mdc-theme-primary, #6200ee))}.mat-mdc-slider .mdc-slider__thumb--focused .mdc-slider__thumb--top .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb--focused .mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb--focused .mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border-color:#fff}.mat-mdc-slider .mdc-slider__thumb:not(:disabled):active .mdc-slider__thumb--top .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb:not(:disabled):active .mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb:not(:disabled):active .mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border-color:#fff}.mat-mdc-slider .mdc-slider__thumb--top .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border-color:var(--mdc-slider-with-overlap-handle-outline-color, #fff);border-width:var(--mdc-slider-with-overlap-handle-outline-width, 1px)}.mat-mdc-slider .mdc-slider__input{box-sizing:content-box;pointer-events:auto}.mat-mdc-slider .mdc-slider__input.mat-mdc-slider-input-no-pointer-events{pointer-events:none}.mat-mdc-slider .mdc-slider__input.mat-slider__right-input{left:auto;right:0}.mat-mdc-slider .mdc-slider__thumb,.mat-mdc-slider .mdc-slider__track--active_fill{transition-duration:0ms}.mat-mdc-slider.mat-mdc-slider-with-animation .mdc-slider__thumb,.mat-mdc-slider.mat-mdc-slider-with-animation .mdc-slider__track--active_fill{transition-duration:80ms}.mat-mdc-slider.mdc-slider--discrete .mdc-slider__thumb,.mat-mdc-slider.mdc-slider--discrete .mdc-slider__track--active_fill{transition-duration:0ms}.mat-mdc-slider.mat-mdc-slider-with-animation .mdc-slider__thumb,.mat-mdc-slider.mat-mdc-slider-with-animation .mdc-slider__track--active_fill{transition-duration:80ms}.mat-mdc-slider.mat-mdc-slider-with-animation .mdc-slider__value-indicator{word-break:normal}.mat-mdc-slider .mdc-slider__track,.mat-mdc-slider .mdc-slider__thumb{pointer-events:none}.mat-mdc-slider .mdc-slider__value-indicator{opacity:var(--mat-mdc-slider-value-indicator-opacity, 1)}.mat-mdc-slider .mat-ripple .mat-ripple-element{background-color:var(--mat-mdc-slider-ripple-color, transparent)}.mat-mdc-slider .mat-ripple .mat-mdc-slider-hover-ripple{background-color:var(--mat-mdc-slider-hover-ripple-color, transparent)}.mat-mdc-slider .mat-ripple .mat-mdc-slider-focus-ripple,.mat-mdc-slider .mat-ripple .mat-mdc-slider-active-ripple{background-color:var(--mat-mdc-slider-focus-ripple-color, transparent)}.mat-mdc-slider._mat-animation-noopable.mdc-slider--discrete .mdc-slider__thumb,.mat-mdc-slider._mat-animation-noopable.mdc-slider--discrete .mdc-slider__track--active_fill,.mat-mdc-slider._mat-animation-noopable .mdc-slider__value-indicator{transition:none}.mat-mdc-slider .mat-mdc-focus-indicator::before{border-radius:50%}.mdc-slider__thumb--focused .mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0}),e})();const jZ={provide:zc,useExisting:(0,u.Gpc)(()=>Kz),multi:!0},$Z={provide:zc,useExisting:(0,u.Gpc)(()=>Zz),multi:!0};let Kz=(()=>{var n;class e{get value(){return Kl(this._hostElement.value)}set value(r){const i=Kl(r).toString();this._hasSetInitialValue?this._isActive||(this._hostElement.value=i,this._updateThumbUIByValue(),this._slider._onValueChange(this),this._cdr.detectChanges(),this._slider._cdr.markForCheck()):this._initialValue=i}get translateX(){return this._slider.min>=this._slider.max?(this._translateX=0,this._translateX):(void 0===this._translateX&&(this._translateX=this._calcTranslateXByValue()),this._translateX)}set translateX(r){this._translateX=r}get min(){return Kl(this._hostElement.min)}set min(r){this._hostElement.min=Kl(r).toString(),this._cdr.detectChanges()}get max(){return Kl(this._hostElement.max)}set max(r){this._hostElement.max=Kl(r).toString(),this._cdr.detectChanges()}get step(){return Kl(this._hostElement.step)}set step(r){this._hostElement.step=Kl(r).toString(),this._cdr.detectChanges()}get disabled(){return _d(this._hostElement.disabled)}set disabled(r){this._hostElement.disabled=_d(r),this._cdr.detectChanges(),this._slider.disabled!==this.disabled&&(this._slider.disabled=this.disabled)}get percentage(){return this._slider.min>=this._slider.max?this._slider._isRtl?1:0:(this.value-this._slider.min)/(this._slider.max-this._slider.min)}get fillPercentage(){return this._slider._cachedWidth?0===this._translateX?0:this.translateX/this._slider._cachedWidth:this._slider._isRtl?1:0}_setIsFocused(r){this._isFocused=r}constructor(r,i,s,c){this._ngZone=r,this._elementRef=i,this._cdr=s,this._slider=c,this.valueChange=new u.vpe,this.dragStart=new u.vpe,this.dragEnd=new u.vpe,this.thumbPosition=2,this._knobRadius=8,this._isActive=!1,this._isFocused=!1,this._hasSetInitialValue=!1,this._destroyed=new Fr.x,this._skipUIUpdate=!1,this._onTouchedFn=()=>{},this._isControlInitialized=!1,this._platform=(0,u.f3M)(ty),this._hostElement=i.nativeElement,this._ngZone.runOutsideAngular(()=>{this._hostElement.addEventListener("pointerdown",this._onPointerDown.bind(this)),this._hostElement.addEventListener("pointermove",this._onPointerMove.bind(this)),this._hostElement.addEventListener("pointerup",this._onPointerUp.bind(this))})}ngOnDestroy(){this._hostElement.removeEventListener("pointerdown",this._onPointerDown),this._hostElement.removeEventListener("pointermove",this._onPointerMove),this._hostElement.removeEventListener("pointerup",this._onPointerUp),this._destroyed.next(),this._destroyed.complete(),this.dragStart.complete(),this.dragEnd.complete()}initProps(){this._updateWidthInactive(),this.disabled!==this._slider.disabled&&(this._slider.disabled=!0),this.step=this._slider.step,this.min=this._slider.min,this.max=this._slider.max,this._initValue()}initUI(){this._updateThumbUIByValue()}_initValue(){this._hasSetInitialValue=!0,void 0===this._initialValue?this.value=this._getDefaultValue():(this._hostElement.value=this._initialValue,this._updateThumbUIByValue(),this._slider._onValueChange(this),this._cdr.detectChanges())}_getDefaultValue(){return this.min}_onBlur(){this._setIsFocused(!1),this._onTouchedFn()}_onFocus(){this._setIsFocused(!0)}_onChange(){this.valueChange.emit(this.value),this._isActive&&this._updateThumbUIByValue({withAnimation:!0})}_onInput(){this._onChangeFn?.(this.value),(this._slider.step||!this._isActive)&&this._updateThumbUIByValue({withAnimation:!0}),this._slider._onValueChange(this)}_onNgControlValueChange(){(!this._isActive||!this._isFocused)&&(this._slider._onValueChange(this),this._updateThumbUIByValue()),this._slider.disabled=this._formControl.disabled}_onPointerDown(r){if(!this.disabled&&0===r.button){if(this._platform.IOS){const i=this._slider._isCursorOnSliderThumb(r,this._slider._getThumb(this.thumbPosition)._hostElement.getBoundingClientRect());return this._isActive=i,this._updateWidthActive(),void this._slider._updateDimensions()}this._isActive=!0,this._setIsFocused(!0),this._updateWidthActive(),this._slider._updateDimensions(),this._slider.step||this._updateThumbUIByPointerEvent(r,{withAnimation:!0}),this.disabled||(this._handleValueCorrection(r),this.dragStart.emit({source:this,parent:this._slider,value:this.value}))}}_handleValueCorrection(r){this._skipUIUpdate=!0,setTimeout(()=>{this._skipUIUpdate=!1,this._fixValue(r)},0)}_fixValue(r){const i=r.clientX-this._slider._cachedLeft,s=this._slider._cachedWidth,c=0===this._slider.step?1:this._slider.step,h=Math.floor((this._slider.max-this._slider.min)/c),w=Math.round((this._slider._isRtl?1-i/s:i/s)*h)/h*(this._slider.max-this._slider.min)+this._slider.min,D=Math.round(w/c)*c;if(D===this.value)return this._slider._onValueChange(this),void(this._slider.step>0?this._updateThumbUIByValue():this._updateThumbUIByPointerEvent(r,{withAnimation:this._slider._hasAnimation}));this.value=D,this.valueChange.emit(this.value),this._onChangeFn?.(this.value),this._slider._onValueChange(this),this._slider.step>0?this._updateThumbUIByValue():this._updateThumbUIByPointerEvent(r,{withAnimation:this._slider._hasAnimation})}_onPointerMove(r){!this._slider.step&&this._isActive&&this._updateThumbUIByPointerEvent(r)}_onPointerUp(){this._isActive&&(this._isActive=!1,this.dragEnd.emit({source:this,parent:this._slider,value:this.value}),setTimeout(()=>this._updateWidthInactive(),this._platform.IOS?10:0))}_clamp(r){return Math.max(Math.min(r,this._slider._cachedWidth),0)}_calcTranslateXByValue(){return this._slider._isRtl?(1-this.percentage)*this._slider._cachedWidth:this.percentage*this._slider._cachedWidth}_calcTranslateXByPointerEvent(r){return r.clientX-this._slider._cachedLeft}_updateWidthActive(){this._hostElement.style.padding=`0 ${this._slider._inputPadding}px`,this._hostElement.style.width=`calc(100% + ${this._slider._inputPadding}px)`}_updateWidthInactive(){this._hostElement.style.padding="0px",this._hostElement.style.width="calc(100% + 48px)",this._hostElement.style.left="-24px"}_updateThumbUIByValue(r){this.translateX=this._clamp(this._calcTranslateXByValue()),this._updateThumbUI(r)}_updateThumbUIByPointerEvent(r,i){this.translateX=this._clamp(this._calcTranslateXByPointerEvent(r)),this._updateThumbUI(i)}_updateThumbUI(r){this._slider._setTransition(!!r?.withAnimation),this._slider._onTranslateXChange(this)}writeValue(r){(this._isControlInitialized||null!==r)&&(this.value=r)}registerOnChange(r){this._onChangeFn=r,this._isControlInitialized=!0}registerOnTouched(r){this._onTouchedFn=r}setDisabledState(r){this.disabled=r}focus(){this._hostElement.focus()}blur(){this._hostElement.blur()}}return(n=e).\u0275fac=function(r){return new(r||n)(u.Y36(u.R0b),u.Y36(u.SBq),u.Y36(u.sBO),u.Y36(FM))},n.\u0275dir=u.lG2({type:n,selectors:[["input","matSliderThumb",""]],hostAttrs:["type","range",1,"mdc-slider__input"],hostVars:1,hostBindings:function(r,i){1&r&&u.NdJ("change",function(){return i._onChange()})("input",function(){return i._onInput()})("blur",function(){return i._onBlur()})("focus",function(){return i._onFocus()}),2&r&&u.uIk("aria-valuetext",i._valuetext)},inputs:{value:"value"},outputs:{valueChange:"valueChange",dragStart:"dragStart",dragEnd:"dragEnd"},exportAs:["matSliderThumb"],features:[u._Bn([jZ,{provide:Gz,useExisting:n}])]}),e})(),Zz=(()=>{var n;class e extends Kz{getSibling(){return this._sibling||(this._sibling=this._slider._getInput(this._isEndThumb?1:2)),this._sibling}getMinPos(){const r=this.getSibling();return!this._isLeftThumb&&r?r.translateX:0}getMaxPos(){const r=this.getSibling();return this._isLeftThumb&&r?r.translateX:this._slider._cachedWidth}_setIsLeftThumb(){this._isLeftThumb=this._isEndThumb&&this._slider._isRtl||!this._isEndThumb&&!this._slider._isRtl}constructor(r,i,s,c){super(r,s,c,i),this._cdr=c,this._isEndThumb=this._hostElement.hasAttribute("matSliderEndThumb"),this._setIsLeftThumb(),this.thumbPosition=this._isEndThumb?2:1}_getDefaultValue(){return this._isEndThumb&&this._slider._isRange?this.max:this.min}_onInput(){super._onInput(),this._updateSibling(),this._isActive||this._updateWidthInactive()}_onNgControlValueChange(){super._onNgControlValueChange(),this.getSibling()?._updateMinMax()}_onPointerDown(r){this.disabled||0!==r.button||(this._sibling&&(this._sibling._updateWidthActive(),this._sibling._hostElement.classList.add("mat-mdc-slider-input-no-pointer-events")),super._onPointerDown(r))}_onPointerUp(){super._onPointerUp(),this._sibling&&setTimeout(()=>{this._sibling._updateWidthInactive(),this._sibling._hostElement.classList.remove("mat-mdc-slider-input-no-pointer-events")})}_onPointerMove(r){super._onPointerMove(r),!this._slider.step&&this._isActive&&this._updateSibling()}_fixValue(r){super._fixValue(r),this._sibling?._updateMinMax()}_clamp(r){return Math.max(Math.min(r,this.getMaxPos()),this.getMinPos())}_updateMinMax(){const r=this.getSibling();r&&(this._isEndThumb?(this.min=Math.max(this._slider.min,r.value),this.max=this._slider.max):(this.min=this._slider.min,this.max=Math.min(this._slider.max,r.value)))}_updateWidthActive(){const r=2*this._slider._rippleRadius-2*this._slider._inputPadding;this._hostElement.style.width=`${(this._slider._cachedWidth+this._slider._inputPadding-r)*(this._slider.min<this._slider.max?(this.max-this.min)/(this._slider.max-this._slider.min):1)+r}px`,this._hostElement.style.padding=`0 ${this._slider._inputPadding}px`}_updateWidthInactive(){const r=this.getSibling();if(!r)return;const s=this._isEndThumb?this.value-(this.value-r.value)/2:this.value+(r.value-this.value)/2,h=this._slider.min<this._slider.max?this._isEndThumb?(this.max-s)/(this._slider.max-this._slider.min):(s-this.min)/(this._slider.max-this._slider.min):1;let p=this._slider._rippleRadius;1===h?p=48:0===h&&(p=0),this._hostElement.style.width=`${this._slider._cachedWidth*h+p}px`,this._hostElement.style.padding="0px",this._isLeftThumb?(this._hostElement.style.left="-24px",this._hostElement.style.right="auto"):(this._hostElement.style.left="auto",this._hostElement.style.right="-24px")}_updateStaticStyles(){this._hostElement.classList.toggle("mat-slider__right-input",!this._isLeftThumb)}_updateSibling(){const r=this.getSibling();r&&(r._updateMinMax(),this._isActive?r._updateWidthActive():r._updateWidthInactive())}writeValue(r){(this._isControlInitialized||null!==r)&&(this.value=r,this._updateWidthInactive(),this._updateSibling())}}return(n=e).\u0275fac=function(r){return new(r||n)(u.Y36(u.R0b),u.Y36(FM),u.Y36(u.SBq),u.Y36(u.sBO))},n.\u0275dir=u.lG2({type:n,selectors:[["input","matSliderStartThumb",""],["input","matSliderEndThumb",""]],exportAs:["matSliderRangeThumb"],features:[u._Bn([$Z,{provide:qz,useExisting:n}]),u.qOj]}),e})(),zZ=(()=>{var n;class e{}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[Zl,er,yK]}),e})(),HZ=(()=>{var n;class e{}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-loader"]],decls:13,vars:0,consts:[[1,"loader"],[1,"bar1"],[1,"bar2"],[1,"bar3"],[1,"bar4"],[1,"bar5"],[1,"bar6"],[1,"bar7"],[1,"bar8"],[1,"bar9"],[1,"bar10"],[1,"bar11"],[1,"bar12"]],template:function(r,i){1&r&&(u.TgZ(0,"div",0),u._UZ(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"div",8)(9,"div",9)(10,"div",10)(11,"div",11)(12,"div",12),u.qZA())},styles:[".loader[_ngcontent-%COMP%]{position:relative;width:54px;height:54px;top:5em;border-radius:10px}.loader[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:8%;height:24%;background:rgb(255,255,255);position:absolute;left:50%;top:30%;opacity:0;border-radius:50px;box-shadow:0 0 3px #0003;animation:_ngcontent-%COMP%_fade458 1s linear infinite}@keyframes _ngcontent-%COMP%_fade458{0%{opacity:1}to{opacity:.25}}.loader[_ngcontent-%COMP%]   .bar1[_ngcontent-%COMP%]{transform:rotate(0) translateY(-130%);animation-delay:0s}.loader[_ngcontent-%COMP%]   .bar2[_ngcontent-%COMP%]{transform:rotate(30deg) translateY(-130%);animation-delay:-1.1s}.loader[_ngcontent-%COMP%]   .bar3[_ngcontent-%COMP%]{transform:rotate(60deg) translateY(-130%);animation-delay:-1s}.loader[_ngcontent-%COMP%]   .bar4[_ngcontent-%COMP%]{transform:rotate(90deg) translateY(-130%);animation-delay:-.9s}.loader[_ngcontent-%COMP%]   .bar5[_ngcontent-%COMP%]{transform:rotate(120deg) translateY(-130%);animation-delay:-.8s}.loader[_ngcontent-%COMP%]   .bar6[_ngcontent-%COMP%]{transform:rotate(150deg) translateY(-130%);animation-delay:-.7s}.loader[_ngcontent-%COMP%]   .bar7[_ngcontent-%COMP%]{transform:rotate(180deg) translateY(-130%);animation-delay:-.6s}.loader[_ngcontent-%COMP%]   .bar8[_ngcontent-%COMP%]{transform:rotate(210deg) translateY(-130%);animation-delay:-.5s}.loader[_ngcontent-%COMP%]   .bar9[_ngcontent-%COMP%]{transform:rotate(240deg) translateY(-130%);animation-delay:-.4s}.loader[_ngcontent-%COMP%]   .bar10[_ngcontent-%COMP%]{transform:rotate(270deg) translateY(-130%);animation-delay:-.3s}.loader[_ngcontent-%COMP%]   .bar11[_ngcontent-%COMP%]{transform:rotate(300deg) translateY(-130%);animation-delay:-.2s}.loader[_ngcontent-%COMP%]   .bar12[_ngcontent-%COMP%]{transform:rotate(330deg) translateY(-130%);animation-delay:-.1s}"]}),e})();function GZ(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"div",26),u.NdJ("change",function(){const s=u.CHM(t).$implicit,c=u.oxw(3);return u.KtG(c.categoryFilter(s))}),u._UZ(1,"input",27),u.TgZ(2,"label",28),u._uU(3),u.ALo(4,"uppercase"),u.qZA()()}if(2&n){const t=e.$implicit,r=u.oxw(3);u.xp6(1),u.s9C("id",t),u.Q6J("checked",r.defCategoryRoute==t),u.xp6(1),u.s9C("for",t),u.xp6(1),u.Oqu(u.lcZ(4,4,t))}}function qZ(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"div",9)(1,"h1",10),u._uU(2," Filters "),u._UZ(3,"i",11),u.qZA(),u.TgZ(4,"div",12),u.YNc(5,GZ,5,6,"div",13),u.TgZ(6,"div",14),u._uU(7),u.TgZ(8,"mat-slider",15),u.NdJ("change",function(){u.CHM(t);const i=u.MAs(10),s=u.MAs(12),c=u.oxw(2);return u.KtG(c.logger(+i.value,+s.value))}),u._UZ(9,"input",16,17)(11,"input",18,19),u.qZA(),u._uU(13),u.qZA()(),u.TgZ(14,"div",20)(15,"div",21),u._UZ(16,"input",22),u.TgZ(17,"label",23),u.NdJ("click",function(){u.CHM(t);const i=u.oxw(2);return u.KtG(i.addSort("asec"))}),u._uU(18,"Sort by Price Aesc"),u.qZA(),u._UZ(19,"input",24),u.TgZ(20,"label",25),u.NdJ("click",function(){u.CHM(t);const i=u.oxw(2);return u.KtG(i.addSort("desc"))}),u._uU(21,"Sort by Price Desc"),u.qZA()()()()}if(2&n){const t=u.MAs(10),r=u.MAs(12),i=u.oxw(2);u.xp6(5),u.Q6J("ngForOf",i.categories),u.xp6(2),u.hij(" $",t.value," "),u.xp6(2),u.s9C("value",i.minValue),u.xp6(2),u.s9C("value",i.maxValue),u.xp6(2),u.hij(" $",r.value," "),u.xp6(3),u.Q6J("checked","asec"===i.sortMeth),u.xp6(3),u.Q6J("checked","desc"===i.sortMeth)}}function WZ(n,e){1&n&&(u.TgZ(0,"div")(1,"p",29),u._uU(2," No Products here. "),u.qZA(),u.TgZ(3,"p",30),u._uU(4," Redirect to "),u.TgZ(5,"a",31),u._uU(6,"page 1"),u.qZA(),u._uU(7," ? "),u.qZA()())}function KZ(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"button",39),u.NdJ("click",function(){u.CHM(t);const i=u.oxw(2).index,s=u.oxw(2);return u.KtG(s.toggleCart(i))}),u._uU(1," Add to Cart "),u.qZA()}}function ZZ(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"div")(1,"button",40),u.NdJ("click",function(){u.CHM(t);const i=u.oxw(2).index,s=u.oxw(2);return u.KtG(s.productCart(i,"remove"))}),u._uU(2," - "),u.qZA(),u.TgZ(3,"span",41),u._uU(4),u.qZA(),u.TgZ(5,"button",42),u.NdJ("click",function(){u.CHM(t);const i=u.oxw(2).index,s=u.oxw(2);return u.KtG(s.productCart(i,"add"))}),u._uU(6," + "),u.qZA()()}if(2&n){const t=u.oxw(2).$implicit;u.xp6(4),u.Oqu(t.amount||1),u.xp6(1),u.Q6J("disabled",t.amount==t.stock)}}function YZ(n,e){if(1&n&&(u.TgZ(0,"div"),u.YNc(1,KZ,2,0,"button",38),u.YNc(2,ZZ,7,2,"div",6),u.qZA()),2&n){const t=u.oxw().$implicit;u.xp6(1),u.Q6J("ngIf",!t.isAdd),u.xp6(1),u.Q6J("ngIf",t.isAdd)}}function QZ(n,e){1&n&&(u.TgZ(0,"span",43),u._uU(1,"Max Stock"),u.qZA())}function XZ(n,e){1&n&&(u.TgZ(0,"span",43),u._uU(1,"Out of Stock"),u.qZA())}function JZ(n,e){if(1&n&&(u.TgZ(0,"div",32)(1,"mat-card")(2,"mat-card-header")(3,"mat-card-title",33),u._uU(4),u.ALo(5,"uppercase"),u.qZA()(),u._UZ(6,"img",34),u.TgZ(7,"mat-card-content")(8,"p",35),u._uU(9),u.qZA(),u.TgZ(10,"mat-card-actions",36),u.YNc(11,YZ,3,2,"div",6),u.YNc(12,QZ,2,0,"span",37),u.YNc(13,XZ,2,0,"span",37),u.qZA()()()()),2&n){const t=e.$implicit;u.xp6(4),u.hij(" ",u.lcZ(5,6,t.title),""),u.xp6(2),u.s9C("src",t.images[0],u.LSH),u.xp6(3),u.hij(" $",t.price," "),u.xp6(2),u.Q6J("ngIf",0!=t.stock),u.xp6(1),u.Q6J("ngIf",t.amount==t.stock),u.xp6(1),u.Q6J("ngIf",0==t.stock)}}function eY(n,e){if(1&n&&(u.TgZ(0,"div",3)(1,"div",4),u.YNc(2,qZ,22,7,"div",5),u.YNc(3,WZ,8,0,"div",6),u.TgZ(4,"div",7),u.YNc(5,JZ,14,8,"div",8),u.qZA()()()),2&n){const t=u.oxw();u.xp6(2),u.Q6J("ngIf",t.products||t.isLoading),u.xp6(1),u.Q6J("ngIf",t.products&&0===t.products.length),u.xp6(2),u.Q6J("ngForOf",t.products)}}function tY(n,e){1&n&&(u.TgZ(0,"div",44),u._UZ(1,"app-loader"),u.qZA())}function nY(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"button",48),u.NdJ("click",function(){u.CHM(t);const i=u.oxw(2);return u.KtG(i.page("prev"))}),u._uU(1," <...Prev "),u.qZA()}}function rY(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"button",48),u.NdJ("click",function(){u.CHM(t);const i=u.oxw().$implicit,s=u.oxw(2);return u.KtG(s.numbPage(i))}),u._uU(1),u.qZA()}if(2&n){const t=u.oxw().$implicit;u.xp6(1),u.hij(" ",t," ")}}function iY(n,e){if(1&n&&(u.TgZ(0,"div"),u.YNc(1,rY,2,1,"button",46),u.qZA()),2&n){const t=u.oxw(2);u.xp6(1),u.Q6J("ngIf",1!==t.totalPages)}}function sY(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"button",48),u.NdJ("click",function(){u.CHM(t);const i=u.oxw(2);return u.KtG(i.page("next"))}),u._uU(1," Next...> "),u.qZA()}}function oY(n,e){if(1&n&&(u.TgZ(0,"div",45),u.YNc(1,nY,2,0,"button",46),u.YNc(2,iY,2,1,"div",47),u.YNc(3,sY,2,0,"button",46),u.qZA()),2&n){const t=u.oxw();u.xp6(1),u.Q6J("ngIf",t.pageId>1),u.xp6(1),u.Q6J("ngForOf",t.pagesArray),u.xp6(1),u.Q6J("ngIf",t.pageId!=t.totalPages&&1!==t.totalPages)}}let aY=(()=>{var n;class e{constructor(r,i,s,c,h){this.http=r,this.cartServ=i,this.route=s,this.router=c,this.productService=h,this.pageId=1,this.isLoading=!1,this.minValue=0,this.maxValue=0,this.defCategoryRoute=""}ngOnInit(){this.getData(),this.getCategories()}ngOnDestroy(){this.ObsSubs.unsubscribe()}getData(){this.route.queryParams.subscribe(r=>{this.pageId=r.page,this.sortMeth=r.sort;let i=localStorage.getItem("cart")||"[]";this.prods=JSON.parse(i),this.defCategoryRoute="",this.ObsSubs=this.productService.getProducts().subscribe(s=>{this.products=s,this.produs=s.map(c=>{let h=this.prods.findIndex(({id:p})=>p===c.id);return h>=0?{...c,isAdd:!0,amount:this.prods[h].amount}:{...c,isAdd:!1}}),this.totalPages=Math.ceil(this.produs.length/10),this.pagesArray=Array.from({length:this.totalPages},(c,h)=>h+1),this.indexArray=[],this.pagesArray.map(c=>this.indexArray.push(10*(c-1))),this.products=this.produs.splice(this.indexArray[this.pageId-1],10),this.isLoading=!1})}),this.minValue=0,this.maxValue=0,this.getCategories(),this.route.queryParams.subscribe(r=>{r.price_min?(this.minValue=+r.price_min,this.maxValue=+r.price_max):(this.minValue=0,this.maxValue=1800)})}productCart(r,i){this.cartServ.data(this.products[r],i),this.getData()}toggleCart(r){console.log(r),this.productCart(r,"add"),this.products[r].isAdd=!this.products[r].isAdd}page(r){isNaN(this.pageId)&&(console.log("yes"),this.pageId=1),this.isLoading=!0,this.router.navigate(["/products"],"next"===r?{queryParams:{page:+this.pageId+1},queryParamsHandling:"merge"}:{queryParams:{page:+this.pageId-1},queryParamsHandling:"merge"}),this.getCategories(),this.isLoading=!1}numbPage(r){this.isLoading=!0,this.router.navigate(["/products"],{queryParams:{page:r},queryParamsHandling:"merge"}),this.isLoading=!1}logger(r=0,i=1500){console.log(r),console.log(i);let s=0;this.route.queryParams.subscribe(c=>{s=c.page}),this.router.navigate(["/products"],{queryParams:{price_min:`${r}`,price_max:`${i}`},queryParamsHandling:"merge"})}getCategories(){this.productService.getCategories().subscribe(r=>{this.categories=r.splice(0,5),this.route.queryParams.subscribe(i=>{let s=i.category,c=this.categories.find(h=>h===s);c&&(this.defCategoryRoute=c)})})}categoryFilter(r){this.router.navigate(["/products"],{queryParams:{category:r},queryParamsHandling:"merge"})}addSort(r){this.router.navigate(["products"],{queryParams:{sort:r},queryParamsHandling:"merge"})}}return(n=e).\u0275fac=function(r){return new(r||n)(u.Y36(xE),u.Y36(KR),u.Y36(wl),u.Y36($i),u.Y36(M8))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-products"]],decls:3,vars:3,consts:[["class","container-fluid text-center",4,"ngIf"],["class","col-1 mx-auto",4,"ngIf"],["class","col-12 justify-content-center d-flex",4,"ngIf"],[1,"container-fluid","text-center"],[1,"row"],["class","col-2 py-4 h-100 ms-0 rounded","id","filterBar",4,"ngIf"],[4,"ngIf"],[1,"col-8","mx-auto"],["class","col-5 d-inline-block mx-2 my-2",4,"ngFor","ngForOf"],["id","filterBar",1,"col-2","py-4","h-100","ms-0","rounded"],[1,"mb-5","h2","fw-semibold"],[1,"bi","bi-filter"],[1,"col-12"],["class","btn-group m-1","role","group","aria-label","Basic radio toggle button group",3,"change",4,"ngFor","ngForOf"],[1,"col-12","mx-auto","my-5"],["min","0","max","1800","step","100",3,"change"],["matSliderStartThumb","",3,"value"],["minVal",""],["matSliderEndThumb","",3,"value"],["maxVal",""],[1,"col-12","my-5"],["role","group","aria-label","Basic radio toggle button group",1,"btn-group","m-1"],["type","radio","name","sortRadio","id","sortAsec",1,"btn-check",3,"checked"],["for","sortAsec",1,"btn","btn-outline-primary",3,"click"],["type","radio","name","sortRadio","id","sortDesc",1,"btn-check",3,"checked"],["for","sortDesc",1,"btn","btn-outline-primary",3,"click"],["role","group","aria-label","Basic radio toggle button group",1,"btn-group","m-1",3,"change"],["type","radio","name","btnradio",1,"btn-check",3,"checked","id"],[1,"btn","btn-outline-primary",3,"for"],[1,"text-white","display-5"],[1,"text-white"],["href","/products?page=1",1,"text-decoration-none","text-info"],[1,"col-5","d-inline-block","mx-2","my-2"],[1,"fw-bold"],["mat-card-lg-image","",1,"mx-auto","my-5",3,"src"],[1,"fw-semibold","h2","d-inline","float-start"],[1,"d-inline","float-end"],["class","text-black",4,"ngIf"],["class","btn btn-primary rounded-pill fw-semibold",3,"click",4,"ngIf"],[1,"btn","btn-primary","rounded-pill","fw-semibold",3,"click"],[1,"btn","btn-danger",3,"click"],[1,"mx-3"],[1,"btn","btn-success",3,"disabled","click"],[1,"text-black"],[1,"col-1","mx-auto"],[1,"col-12","justify-content-center","d-flex"],["class","btn text-white",3,"click",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"btn","text-white",3,"click"]],template:function(r,i){1&r&&(u.YNc(0,eY,6,3,"div",0),u.YNc(1,tY,2,0,"div",1),u.YNc(2,oY,4,3,"div",2)),2&r&&(u.Q6J("ngIf",i.products||!i.isLoading),u.xp6(1),u.Q6J("ngIf",!i.products||i.isLoading),u.xp6(1),u.Q6J("ngIf",i.products))},dependencies:[sc,ys,V6,j6,B6,$6,z6,U6,UZ,Zz,HZ,su],styles:["#filterBar[_ngcontent-%COMP%]{position:fixed;background-color:#feffff!important}"]}),e})();const G2_firebaseConfig={apiKey:"AIzaSyBsv9RRWMipsQbrgOvq16gClAraUZRZA3U",authDomain:"anywhere-ecom.firebaseapp.com",projectId:"anywhere-ecom",storageBucket:"anywhere-ecom.appspot.com",messagingSenderId:"24709365004",appId:"1:24709365004:web:12005ff74089fc9deedd29"};class Yz{constructor(e,t,r,i){this.email=e,this.id=t,this._token=r,this._tokenExpirationDate=i}get token(){return!this._tokenExpirationDate||new Date>this._tokenExpirationDate?null:this._token}}let HC=(()=>{var n;class e{constructor(r,i){this.http=r,this.router=i,this.users=localStorage.getItem("users")||"",this.user=new br.X(null)}getUsers(){this.http.get("http://localhost:3000/users").subscribe(r=>this.objUsers=r)}signup(r){return this.http.post("https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=AIzaSyBsv9RRWMipsQbrgOvq16gClAraUZRZA3U",{email:r.email,password:r.inputPassword,returnSecureToken:!0}).pipe(os(this.handleError),(0,Qn.b)(c=>{this.handleAuth(c.email,c.localId,c.idToken,+c.expiresIn)}))}handleError(r){return console.log(r.error.error.message),r.error}handleAuth(r,i,s,c){const h=new Date((new Date).getTime()+1e3*c),p=new Yz(r,i,s,h);this.user.next(p),localStorage.setItem("loggedData",JSON.stringify(p))}login(r,i){return this.http.post("https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyBsv9RRWMipsQbrgOvq16gClAraUZRZA3U",{email:r,password:i,returnSecureToken:!0}).pipe(os(this.handleError),(0,Qn.b)(s=>{this.handleAuth(s.email,s.localId,s.idToken,+s.expiresIn),this.user.next(s.idToken),this.router.navigate(["/"])}))}isLogged(){return localStorage.getItem("loggedData")}logout(){this.user.next(null),localStorage.removeItem("loggedData"),this.router.navigate(["/login"])}autoLogin(){const r=localStorage.getItem("loggedData"),i=r?JSON.parse(r):null;if(!i)return;const s=new Yz(i.email,i.userId,i._token,new Date(i._tokenExpirationDate));s.token&&this.user.next(s)}}return(n=e).\u0275fac=function(r){return new(r||n)(u.LFG(xE),u.LFG($i))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),e})();function q2(n){return n&&"function"==typeof n.connect&&!(n instanceof vc)}class Qz{applyChanges(e,t,r,i,s){e.forEachOperation((c,h,p)=>{let g,w;if(null==c.previousIndex){const D=r(c,h,p);g=t.createEmbeddedView(D.templateRef,D.context,D.index),w=1}else null==p?(t.remove(h),w=3):(g=t.get(h),t.move(g,p),w=2);s&&s({context:g?.context,operation:w,record:c})})}detach(){}}const GC=new u.OlP("_ViewRepeater");var Jz=V(1954);const qC={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:r}=qC;r&&(e=r.requestAnimationFrame,t=r.cancelAnimationFrame);const i=e(s=>{t=void 0,n(s)});return new Su.w0(()=>t?.(i))},requestAnimationFrame(...n){const{delegate:e}=qC;return(e?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=qC;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};var eH=V(2631);new class lY extends eH.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;e=e||r.shift();do{if(i=e.execute(e.state,e.delay))break}while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw i}}}(class cY extends Jz.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=qC.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,r=0){var i;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(e,t,r);const{actions:s}=e;null!=t&&(null===(i=s[s.length-1])||void 0===i?void 0:i.id)!==t&&(qC.cancelAnimationFrame(t),e._scheduled=void 0)}});let W2,dY=1;const LM={};function tH(n){return n in LM&&(delete LM[n],!0)}const hY={setImmediate(n){const e=dY++;return LM[e]=!0,W2||(W2=Promise.resolve()),W2.then(()=>tH(e)&&n()),e},clearImmediate(n){tH(n)}},{setImmediate:fY,clearImmediate:pY}=hY,VM={setImmediate(...n){const{delegate:e}=VM;return(e?.setImmediate||fY)(...n)},clearImmediate(n){const{delegate:e}=VM;return(e?.clearImmediate||pY)(n)},delegate:void 0};new class gY extends eH.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;e=e||r.shift();do{if(i=e.execute(e.state,e.delay))break}while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw i}}}(class mY extends Jz.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=VM.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,r=0){var i;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(e,t,r);const{actions:s}=e;null!=t&&(null===(i=s[s.length-1])||void 0===i?void 0:i.id)!==t&&(VM.clearImmediate(t),e._scheduled===t&&(e._scheduled=void 0))}});var vY=V(671);function IY(n,e=nv.z){return function yY(n){return(0,Ti.e)((e,t)=>{let r=!1,i=null,s=null,c=!1;const h=()=>{if(s?.unsubscribe(),s=null,r){r=!1;const g=i;i=null,t.next(g)}c&&t.complete()},p=()=>{s=null,c&&t.complete()};e.subscribe((0,Wn.x)(t,g=>{r=!0,i=g,s||(0,Du.Xf)(n(g)).subscribe(s=(0,Wn.x)(t,h,p))},()=>{c=!0,(!r||!s||s.closed)&&t.complete()}))})}(()=>function EY(n=0,e,t=nv.P){let r=-1;return null!=e&&((0,vY.K)(e)?t=e:r=e),new di.y(i=>{let s=function wY(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;s<0&&(s=0);let c=0;return t.schedule(function(){i.closed||(i.next(c++),0<=r?this.schedule(void 0,r):i.complete())},s)})}(n,e))}let TY=(()=>{var n;class e{constructor(r,i,s){this._platform=r,this._change=new Fr.x,this._changeListener=c=>{this._change.next(c)},this._document=s,i.runOutsideAngular(()=>{if(r.isBrowser){const c=this._getWindow();c.addEventListener("resize",this._changeListener),c.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const r=this._getWindow();r.removeEventListener("resize",this._changeListener),r.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const r={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),r}getViewportRect(){const r=this.getViewportScrollPosition(),{width:i,height:s}=this.getViewportSize();return{top:r.top,left:r.left,bottom:r.top+s,right:r.left+i,height:s,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const r=this._document,i=this._getWindow(),s=r.documentElement,c=s.getBoundingClientRect();return{top:-c.top||r.body.scrollTop||i.scrollY||s.scrollTop||0,left:-c.left||r.body.scrollLeft||i.scrollX||s.scrollLeft||0}}change(r=20){return r>0?this._change.pipe(IY(r)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const r=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:r.innerWidth,height:r.innerHeight}:{width:0,height:0}}}return(n=e).\u0275fac=function(r){return new(r||n)(u.LFG(ty),u.LFG(u.R0b),u.LFG(_e,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),e})(),nH=(()=>{var n;class e{}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),e})(),CY=(()=>{var n;class e{}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[yM,nH,yM,nH]}),e})();const DY=[[["caption"]],[["colgroup"],["col"]]],AY=["caption","colgroup, col"];function K2(n){return class extends n{get sticky(){return this._sticky}set sticky(e){const t=this._sticky;this._sticky=_d(e),this._hasStickyChanged=t!==this._sticky}hasStickyChanged(){const e=this._hasStickyChanged;return this._hasStickyChanged=!1,e}resetStickyChanged(){this._hasStickyChanged=!1}constructor(...e){super(...e),this._sticky=!1,this._hasStickyChanged=!1}}}const $0=new u.OlP("CDK_TABLE");let z0=(()=>{var n;class e{constructor(r){this.template=r}}return(n=e).\u0275fac=function(r){return new(r||n)(u.Y36(u.Rgc))},n.\u0275dir=u.lG2({type:n,selectors:[["","cdkCellDef",""]]}),e})(),H0=(()=>{var n;class e{constructor(r){this.template=r}}return(n=e).\u0275fac=function(r){return new(r||n)(u.Y36(u.Rgc))},n.\u0275dir=u.lG2({type:n,selectors:[["","cdkHeaderCellDef",""]]}),e})(),UM=(()=>{var n;class e{constructor(r){this.template=r}}return(n=e).\u0275fac=function(r){return new(r||n)(u.Y36(u.Rgc))},n.\u0275dir=u.lG2({type:n,selectors:[["","cdkFooterCellDef",""]]}),e})();class MY{}const PY=K2(MY);let ff=(()=>{var n;class e extends PY{get name(){return this._name}set name(r){this._setNameInput(r)}get stickyEnd(){return this._stickyEnd}set stickyEnd(r){const i=this._stickyEnd;this._stickyEnd=_d(r),this._hasStickyChanged=i!==this._stickyEnd}constructor(r){super(),this._table=r,this._stickyEnd=!1}_updateColumnCssClassName(){this._columnCssClassName=[`cdk-column-${this.cssClassFriendlyName}`]}_setNameInput(r){r&&(this._name=r,this.cssClassFriendlyName=r.replace(/[^a-z0-9_-]/gi,"-"),this._updateColumnCssClassName())}}return(n=e).\u0275fac=function(r){return new(r||n)(u.Y36($0,8))},n.\u0275dir=u.lG2({type:n,selectors:[["","cdkColumnDef",""]],contentQueries:function(r,i,s){if(1&r&&(u.Suo(s,z0,5),u.Suo(s,H0,5),u.Suo(s,UM,5)),2&r){let c;u.iGM(c=u.CRH())&&(i.cell=c.first),u.iGM(c=u.CRH())&&(i.headerCell=c.first),u.iGM(c=u.CRH())&&(i.footerCell=c.first)}},inputs:{sticky:"sticky",name:["cdkColumnDef","name"],stickyEnd:"stickyEnd"},features:[u._Bn([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:n}]),u.qOj]}),e})();class Z2{constructor(e,t){t.nativeElement.classList.add(...e._columnCssClassName)}}let Y2=(()=>{var n;class e extends Z2{constructor(r,i){super(r,i)}}return(n=e).\u0275fac=function(r){return new(r||n)(u.Y36(ff),u.Y36(u.SBq))},n.\u0275dir=u.lG2({type:n,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],features:[u.qOj]}),e})(),Q2=(()=>{var n;class e extends Z2{constructor(r,i){if(super(r,i),1===r._table?._elementRef.nativeElement.nodeType){const s=r._table._elementRef.nativeElement.getAttribute("role");i.nativeElement.setAttribute("role","grid"===s||"treegrid"===s?"gridcell":"cell")}}}return(n=e).\u0275fac=function(r){return new(r||n)(u.Y36(ff),u.Y36(u.SBq))},n.\u0275dir=u.lG2({type:n,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:[1,"cdk-cell"],features:[u.qOj]}),e})();class iH{constructor(){this.tasks=[],this.endTasks=[]}}const X2=new u.OlP("_COALESCED_STYLE_SCHEDULER");let sH=(()=>{var n;class e{constructor(r){this._ngZone=r,this._currentSchedule=null,this._destroyed=new Fr.x}schedule(r){this._createScheduleIfNeeded(),this._currentSchedule.tasks.push(r)}scheduleEnd(r){this._createScheduleIfNeeded(),this._currentSchedule.endTasks.push(r)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_createScheduleIfNeeded(){this._currentSchedule||(this._currentSchedule=new iH,this._getScheduleObservable().pipe(Is(this._destroyed)).subscribe(()=>{for(;this._currentSchedule.tasks.length||this._currentSchedule.endTasks.length;){const r=this._currentSchedule;this._currentSchedule=new iH;for(const i of r.tasks)i();for(const i of r.endTasks)i()}this._currentSchedule=null}))}_getScheduleObservable(){return this._ngZone.isStable?(0,Bn.D)(Promise.resolve(void 0)):this._ngZone.onStable.pipe(ss(1))}}return(n=e).\u0275fac=function(r){return new(r||n)(u.LFG(u.R0b))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),e})(),J2=(()=>{var n;class e{constructor(r,i){this.template=r,this._differs=i}ngOnChanges(r){if(!this._columnsDiffer){const i=r.columns&&r.columns.currentValue||[];this._columnsDiffer=this._differs.find(i).create(),this._columnsDiffer.diff(i)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(r){return this instanceof WC?r.headerCell.template:this instanceof KC?r.footerCell.template:r.cell.template}}return(n=e).\u0275fac=function(r){return new(r||n)(u.Y36(u.Rgc),u.Y36(u.ZZ4))},n.\u0275dir=u.lG2({type:n,features:[u.TTD]}),e})();class kY extends J2{}const NY=K2(kY);let WC=(()=>{var n;class e extends NY{constructor(r,i,s){super(r,i),this._table=s}ngOnChanges(r){super.ngOnChanges(r)}}return(n=e).\u0275fac=function(r){return new(r||n)(u.Y36(u.Rgc),u.Y36(u.ZZ4),u.Y36($0,8))},n.\u0275dir=u.lG2({type:n,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:["cdkHeaderRowDef","columns"],sticky:["cdkHeaderRowDefSticky","sticky"]},features:[u.qOj,u.TTD]}),e})();class OY extends J2{}const FY=K2(OY);let KC=(()=>{var n;class e extends FY{constructor(r,i,s){super(r,i),this._table=s}ngOnChanges(r){super.ngOnChanges(r)}}return(n=e).\u0275fac=function(r){return new(r||n)(u.Y36(u.Rgc),u.Y36(u.ZZ4),u.Y36($0,8))},n.\u0275dir=u.lG2({type:n,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:["cdkFooterRowDef","columns"],sticky:["cdkFooterRowDefSticky","sticky"]},features:[u.qOj,u.TTD]}),e})(),BM=(()=>{var n;class e extends J2{constructor(r,i,s){super(r,i),this._table=s}}return(n=e).\u0275fac=function(r){return new(r||n)(u.Y36(u.Rgc),u.Y36(u.ZZ4),u.Y36($0,8))},n.\u0275dir=u.lG2({type:n,selectors:[["","cdkRowDef",""]],inputs:{columns:["cdkRowDefColumns","columns"],when:["cdkRowDefWhen","when"]},features:[u.qOj]}),e})(),pf=(()=>{var n;class e{constructor(r){this._viewContainer=r,e.mostRecentCellOutlet=this}ngOnDestroy(){e.mostRecentCellOutlet===this&&(e.mostRecentCellOutlet=null)}}return(n=e).mostRecentCellOutlet=null,n.\u0275fac=function(r){return new(r||n)(u.Y36(u.s_b))},n.\u0275dir=u.lG2({type:n,selectors:[["","cdkCellOutlet",""]]}),e})(),eV=(()=>{var n;class e{}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(r,i){1&r&&u.GkF(0,0)},dependencies:[pf],encapsulation:2}),e})(),nV=(()=>{var n;class e{}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(r,i){1&r&&u.GkF(0,0)},dependencies:[pf],encapsulation:2}),e})(),jM=(()=>{var n;class e{constructor(r){this.templateRef=r,this._contentClassName="cdk-no-data-row"}}return(n=e).\u0275fac=function(r){return new(r||n)(u.Y36(u.Rgc))},n.\u0275dir=u.lG2({type:n,selectors:[["ng-template","cdkNoDataRow",""]]}),e})();const oH=["top","bottom","left","right"];class LY{constructor(e,t,r,i,s=!0,c=!0,h){this._isNativeHtmlTable=e,this._stickCellCss=t,this.direction=r,this._coalescedStyleScheduler=i,this._isBrowser=s,this._needsPositionStickyOnElement=c,this._positionListener=h,this._cachedCellWidths=[],this._borderCellCss={top:`${t}-border-elem-top`,bottom:`${t}-border-elem-bottom`,left:`${t}-border-elem-left`,right:`${t}-border-elem-right`}}clearStickyPositioning(e,t){const r=[];for(const i of e)if(i.nodeType===i.ELEMENT_NODE){r.push(i);for(let s=0;s<i.children.length;s++)r.push(i.children[s])}this._coalescedStyleScheduler.schedule(()=>{for(const i of r)this._removeStickyStyle(i,t)})}updateStickyColumns(e,t,r,i=!0){if(!e.length||!this._isBrowser||!t.some(M=>M)&&!r.some(M=>M))return void(this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:[]}),this._positionListener.stickyEndColumnsUpdated({sizes:[]})));const s=e[0],c=s.children.length,h=this._getCellWidths(s,i),p=this._getStickyStartColumnPositions(h,t),g=this._getStickyEndColumnPositions(h,r),w=t.lastIndexOf(!0),D=r.indexOf(!0);this._coalescedStyleScheduler.schedule(()=>{const M="rtl"===this.direction,N=M?"right":"left",K=M?"left":"right";for(const te of e)for(let X=0;X<c;X++){const be=te.children[X];t[X]&&this._addStickyStyle(be,N,p[X],X===w),r[X]&&this._addStickyStyle(be,K,g[X],X===D)}this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:-1===w?[]:h.slice(0,w+1).map((te,X)=>t[X]?te:null)}),this._positionListener.stickyEndColumnsUpdated({sizes:-1===D?[]:h.slice(D).map((te,X)=>r[X+D]?te:null).reverse()}))})}stickRows(e,t,r){if(!this._isBrowser)return;const i="bottom"===r?e.slice().reverse():e,s="bottom"===r?t.slice().reverse():t,c=[],h=[],p=[];for(let w=0,D=0;w<i.length;w++){if(!s[w])continue;c[w]=D;const M=i[w];p[w]=this._isNativeHtmlTable?Array.from(M.children):[M];const N=M.getBoundingClientRect().height;D+=N,h[w]=N}const g=s.lastIndexOf(!0);this._coalescedStyleScheduler.schedule(()=>{for(let w=0;w<i.length;w++){if(!s[w])continue;const D=c[w],M=w===g;for(const N of p[w])this._addStickyStyle(N,r,D,M)}"top"===r?this._positionListener?.stickyHeaderRowsUpdated({sizes:h,offsets:c,elements:p}):this._positionListener?.stickyFooterRowsUpdated({sizes:h,offsets:c,elements:p})})}updateStickyFooterContainer(e,t){if(!this._isNativeHtmlTable)return;const r=e.querySelector("tfoot");this._coalescedStyleScheduler.schedule(()=>{t.some(i=>!i)?this._removeStickyStyle(r,["bottom"]):this._addStickyStyle(r,"bottom",0,!1)})}_removeStickyStyle(e,t){for(const i of t)e.style[i]="",e.classList.remove(this._borderCellCss[i]);oH.some(i=>-1===t.indexOf(i)&&e.style[i])?e.style.zIndex=this._getCalculatedZIndex(e):(e.style.zIndex="",this._needsPositionStickyOnElement&&(e.style.position=""),e.classList.remove(this._stickCellCss))}_addStickyStyle(e,t,r,i){e.classList.add(this._stickCellCss),i&&e.classList.add(this._borderCellCss[t]),e.style[t]=`${r}px`,e.style.zIndex=this._getCalculatedZIndex(e),this._needsPositionStickyOnElement&&(e.style.cssText+="position: -webkit-sticky; position: sticky; ")}_getCalculatedZIndex(e){const t={top:100,bottom:10,left:1,right:1};let r=0;for(const i of oH)e.style[i]&&(r+=t[i]);return r?`${r}`:""}_getCellWidths(e,t=!0){if(!t&&this._cachedCellWidths.length)return this._cachedCellWidths;const r=[],i=e.children;for(let s=0;s<i.length;s++)r.push(i[s].getBoundingClientRect().width);return this._cachedCellWidths=r,r}_getStickyStartColumnPositions(e,t){const r=[];let i=0;for(let s=0;s<e.length;s++)t[s]&&(r[s]=i,i+=e[s]);return r}_getStickyEndColumnPositions(e,t){const r=[];let i=0;for(let s=e.length;s>0;s--)t[s]&&(r[s]=i,i+=e[s]);return r}}const rV=new u.OlP("CDK_SPL");let $M=(()=>{var n;class e{constructor(r,i){this.viewContainer=r,this.elementRef=i}}return(n=e).\u0275fac=function(r){return new(r||n)(u.Y36(u.s_b),u.Y36(u.SBq))},n.\u0275dir=u.lG2({type:n,selectors:[["","rowOutlet",""]]}),e})(),zM=(()=>{var n;class e{constructor(r,i){this.viewContainer=r,this.elementRef=i}}return(n=e).\u0275fac=function(r){return new(r||n)(u.Y36(u.s_b),u.Y36(u.SBq))},n.\u0275dir=u.lG2({type:n,selectors:[["","headerRowOutlet",""]]}),e})(),HM=(()=>{var n;class e{constructor(r,i){this.viewContainer=r,this.elementRef=i}}return(n=e).\u0275fac=function(r){return new(r||n)(u.Y36(u.s_b),u.Y36(u.SBq))},n.\u0275dir=u.lG2({type:n,selectors:[["","footerRowOutlet",""]]}),e})(),GM=(()=>{var n;class e{constructor(r,i){this.viewContainer=r,this.elementRef=i}}return(n=e).\u0275fac=function(r){return new(r||n)(u.Y36(u.s_b),u.Y36(u.SBq))},n.\u0275dir=u.lG2({type:n,selectors:[["","noDataRowOutlet",""]]}),e})(),qM=(()=>{var n;class e{get trackBy(){return this._trackByFn}set trackBy(r){this._trackByFn=r}get dataSource(){return this._dataSource}set dataSource(r){this._dataSource!==r&&this._switchDataSource(r)}get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(r){this._multiTemplateDataRows=_d(r),this._rowOutlet&&this._rowOutlet.viewContainer.length&&(this._forceRenderDataRows(),this.updateStickyColumnStyles())}get fixedLayout(){return this._fixedLayout}set fixedLayout(r){this._fixedLayout=_d(r),this._forceRecalculateCellWidths=!0,this._stickyColumnStylesNeedReset=!0}constructor(r,i,s,c,h,p,g,w,D,M,N,K){this._differs=r,this._changeDetectorRef=i,this._elementRef=s,this._dir=h,this._platform=g,this._viewRepeater=w,this._coalescedStyleScheduler=D,this._viewportRuler=M,this._stickyPositioningListener=N,this._ngZone=K,this._onDestroy=new Fr.x,this._columnDefsByName=new Map,this._customColumnDefs=new Set,this._customRowDefs=new Set,this._customHeaderRowDefs=new Set,this._customFooterRowDefs=new Set,this._headerRowDefChanged=!0,this._footerRowDefChanged=!0,this._stickyColumnStylesNeedReset=!0,this._forceRecalculateCellWidths=!0,this._cachedRenderRowsMap=new Map,this.stickyCssClass="cdk-table-sticky",this.needsPositionStickyOnElement=!0,this._isShowingNoDataRow=!1,this._multiTemplateDataRows=!1,this._fixedLayout=!1,this.contentChanged=new u.vpe,this.viewChange=new br.X({start:0,end:Number.MAX_VALUE}),c||this._elementRef.nativeElement.setAttribute("role","table"),this._document=p,this._isNativeHtmlTable="TABLE"===this._elementRef.nativeElement.nodeName}ngOnInit(){this._setupStickyStyler(),this._isNativeHtmlTable&&this._applyNativeTableSections(),this._dataDiffer=this._differs.find([]).create((r,i)=>this.trackBy?this.trackBy(i.dataIndex,i.data):i),this._viewportRuler.change().pipe(Is(this._onDestroy)).subscribe(()=>{this._forceRecalculateCellWidths=!0})}ngAfterContentChecked(){this._cacheRowDefs(),this._cacheColumnDefs();const i=this._renderUpdatedColumns()||this._headerRowDefChanged||this._footerRowDefChanged;this._stickyColumnStylesNeedReset=this._stickyColumnStylesNeedReset||i,this._forceRecalculateCellWidths=i,this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription?this._observeRenderChanges():this._stickyColumnStylesNeedReset&&this.updateStickyColumnStyles(),this._checkStickyStates()}ngOnDestroy(){[this._rowOutlet.viewContainer,this._headerRowOutlet.viewContainer,this._footerRowOutlet.viewContainer,this._cachedRenderRowsMap,this._customColumnDefs,this._customRowDefs,this._customHeaderRowDefs,this._customFooterRowDefs,this._columnDefsByName].forEach(r=>{r.clear()}),this._headerRowDefs=[],this._footerRowDefs=[],this._defaultRowDef=null,this._onDestroy.next(),this._onDestroy.complete(),q2(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();const r=this._dataDiffer.diff(this._renderRows);if(!r)return this._updateNoDataRow(),void this.contentChanged.next();const i=this._rowOutlet.viewContainer;this._viewRepeater.applyChanges(r,i,(s,c,h)=>this._getEmbeddedViewArgs(s.item,h),s=>s.item.data,s=>{1===s.operation&&s.context&&this._renderCellTemplateForItem(s.record.item.rowDef,s.context)}),this._updateRowIndexContext(),r.forEachIdentityChange(s=>{i.get(s.currentIndex).context.$implicit=s.item.data}),this._updateNoDataRow(),this._ngZone&&u.R0b.isInAngularZone()?this._ngZone.onStable.pipe(ss(1),Is(this._onDestroy)).subscribe(()=>{this.updateStickyColumnStyles()}):this.updateStickyColumnStyles(),this.contentChanged.next()}addColumnDef(r){this._customColumnDefs.add(r)}removeColumnDef(r){this._customColumnDefs.delete(r)}addRowDef(r){this._customRowDefs.add(r)}removeRowDef(r){this._customRowDefs.delete(r)}addHeaderRowDef(r){this._customHeaderRowDefs.add(r),this._headerRowDefChanged=!0}removeHeaderRowDef(r){this._customHeaderRowDefs.delete(r),this._headerRowDefChanged=!0}addFooterRowDef(r){this._customFooterRowDefs.add(r),this._footerRowDefChanged=!0}removeFooterRowDef(r){this._customFooterRowDefs.delete(r),this._footerRowDefChanged=!0}setNoDataRow(r){this._customNoDataRow=r}updateStickyHeaderRowStyles(){const r=this._getRenderedRows(this._headerRowOutlet),s=this._elementRef.nativeElement.querySelector("thead");s&&(s.style.display=r.length?"":"none");const c=this._headerRowDefs.map(h=>h.sticky);this._stickyStyler.clearStickyPositioning(r,["top"]),this._stickyStyler.stickRows(r,c,"top"),this._headerRowDefs.forEach(h=>h.resetStickyChanged())}updateStickyFooterRowStyles(){const r=this._getRenderedRows(this._footerRowOutlet),s=this._elementRef.nativeElement.querySelector("tfoot");s&&(s.style.display=r.length?"":"none");const c=this._footerRowDefs.map(h=>h.sticky);this._stickyStyler.clearStickyPositioning(r,["bottom"]),this._stickyStyler.stickRows(r,c,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,c),this._footerRowDefs.forEach(h=>h.resetStickyChanged())}updateStickyColumnStyles(){const r=this._getRenderedRows(this._headerRowOutlet),i=this._getRenderedRows(this._rowOutlet),s=this._getRenderedRows(this._footerRowOutlet);(this._isNativeHtmlTable&&!this._fixedLayout||this._stickyColumnStylesNeedReset)&&(this._stickyStyler.clearStickyPositioning([...r,...i,...s],["left","right"]),this._stickyColumnStylesNeedReset=!1),r.forEach((c,h)=>{this._addStickyColumnStyles([c],this._headerRowDefs[h])}),this._rowDefs.forEach(c=>{const h=[];for(let p=0;p<i.length;p++)this._renderRows[p].rowDef===c&&h.push(i[p]);this._addStickyColumnStyles(h,c)}),s.forEach((c,h)=>{this._addStickyColumnStyles([c],this._footerRowDefs[h])}),Array.from(this._columnDefsByName.values()).forEach(c=>c.resetStickyChanged())}_getAllRenderRows(){const r=[],i=this._cachedRenderRowsMap;this._cachedRenderRowsMap=new Map;for(let s=0;s<this._data.length;s++){let c=this._data[s];const h=this._getRenderRowsForData(c,s,i.get(c));this._cachedRenderRowsMap.has(c)||this._cachedRenderRowsMap.set(c,new WeakMap);for(let p=0;p<h.length;p++){let g=h[p];const w=this._cachedRenderRowsMap.get(g.data);w.has(g.rowDef)?w.get(g.rowDef).push(g):w.set(g.rowDef,[g]),r.push(g)}}return r}_getRenderRowsForData(r,i,s){return this._getRowDefs(r,i).map(h=>{const p=s&&s.has(h)?s.get(h):[];if(p.length){const g=p.shift();return g.dataIndex=i,g}return{data:r,rowDef:h,dataIndex:i}})}_cacheColumnDefs(){this._columnDefsByName.clear(),WM(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(i=>{this._columnDefsByName.has(i.name),this._columnDefsByName.set(i.name,i)})}_cacheRowDefs(){this._headerRowDefs=WM(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=WM(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=WM(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);const r=this._rowDefs.filter(i=>!i.when);this._defaultRowDef=r[0]}_renderUpdatedColumns(){const r=(h,p)=>h||!!p.getColumnsDiff(),i=this._rowDefs.reduce(r,!1);i&&this._forceRenderDataRows();const s=this._headerRowDefs.reduce(r,!1);s&&this._forceRenderHeaderRows();const c=this._footerRowDefs.reduce(r,!1);return c&&this._forceRenderFooterRows(),i||s||c}_switchDataSource(r){this._data=[],q2(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),r||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear()),this._dataSource=r}_observeRenderChanges(){if(!this.dataSource)return;let r;q2(this.dataSource)?r=this.dataSource.connect(this):cl(this.dataSource)?r=this.dataSource:Array.isArray(this.dataSource)&&(r=(0,xt.of)(this.dataSource)),this._renderChangeSubscription=r.pipe(Is(this._onDestroy)).subscribe(i=>{this._data=i||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((r,i)=>this._renderRow(this._headerRowOutlet,r,i)),this.updateStickyHeaderRowStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((r,i)=>this._renderRow(this._footerRowOutlet,r,i)),this.updateStickyFooterRowStyles()}_addStickyColumnStyles(r,i){const s=Array.from(i.columns||[]).map(p=>this._columnDefsByName.get(p)),c=s.map(p=>p.sticky),h=s.map(p=>p.stickyEnd);this._stickyStyler.updateStickyColumns(r,c,h,!this._fixedLayout||this._forceRecalculateCellWidths)}_getRenderedRows(r){const i=[];for(let s=0;s<r.viewContainer.length;s++){const c=r.viewContainer.get(s);i.push(c.rootNodes[0])}return i}_getRowDefs(r,i){if(1==this._rowDefs.length)return[this._rowDefs[0]];let s=[];if(this.multiTemplateDataRows)s=this._rowDefs.filter(c=>!c.when||c.when(i,r));else{let c=this._rowDefs.find(h=>h.when&&h.when(i,r))||this._defaultRowDef;c&&s.push(c)}return s}_getEmbeddedViewArgs(r,i){return{templateRef:r.rowDef.template,context:{$implicit:r.data},index:i}}_renderRow(r,i,s,c={}){const h=r.viewContainer.createEmbeddedView(i.template,c,s);return this._renderCellTemplateForItem(i,c),h}_renderCellTemplateForItem(r,i){for(let s of this._getCellTemplates(r))pf.mostRecentCellOutlet&&pf.mostRecentCellOutlet._viewContainer.createEmbeddedView(s,i);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){const r=this._rowOutlet.viewContainer;for(let i=0,s=r.length;i<s;i++){const h=r.get(i).context;h.count=s,h.first=0===i,h.last=i===s-1,h.even=i%2==0,h.odd=!h.even,this.multiTemplateDataRows?(h.dataIndex=this._renderRows[i].dataIndex,h.renderIndex=i):h.index=this._renderRows[i].dataIndex}}_getCellTemplates(r){return r&&r.columns?Array.from(r.columns,i=>{const s=this._columnDefsByName.get(i);return r.extractCellTemplate(s)}):[]}_applyNativeTableSections(){const r=this._document.createDocumentFragment(),i=[{tag:"thead",outlets:[this._headerRowOutlet]},{tag:"tbody",outlets:[this._rowOutlet,this._noDataRowOutlet]},{tag:"tfoot",outlets:[this._footerRowOutlet]}];for(const s of i){const c=this._document.createElement(s.tag);c.setAttribute("role","rowgroup");for(const h of s.outlets)c.appendChild(h.elementRef.nativeElement);r.appendChild(c)}this._elementRef.nativeElement.appendChild(r)}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()}_checkStickyStates(){const r=(i,s)=>i||s.hasStickyChanged();this._headerRowDefs.reduce(r,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(r,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(r,!1)&&(this._stickyColumnStylesNeedReset=!0,this.updateStickyColumnStyles())}_setupStickyStyler(){this._stickyStyler=new LY(this._isNativeHtmlTable,this.stickyCssClass,this._dir?this._dir.value:"ltr",this._coalescedStyleScheduler,this._platform.isBrowser,this.needsPositionStickyOnElement,this._stickyPositioningListener),(this._dir?this._dir.change:(0,xt.of)()).pipe(Is(this._onDestroy)).subscribe(i=>{this._stickyStyler.direction=i,this.updateStickyColumnStyles()})}_getOwnDefs(r){return r.filter(i=>!i._table||i._table===this)}_updateNoDataRow(){const r=this._customNoDataRow||this._noDataRow;if(!r)return;const i=0===this._rowOutlet.viewContainer.length;if(i===this._isShowingNoDataRow)return;const s=this._noDataRowOutlet.viewContainer;if(i){const c=s.createEmbeddedView(r.templateRef),h=c.rootNodes[0];1===c.rootNodes.length&&h?.nodeType===this._document.ELEMENT_NODE&&(h.setAttribute("role","row"),h.classList.add(r._contentClassName))}else s.clear();this._isShowingNoDataRow=i,this._changeDetectorRef.markForCheck()}}return(n=e).\u0275fac=function(r){return new(r||n)(u.Y36(u.ZZ4),u.Y36(u.sBO),u.Y36(u.SBq),u.$8M("role"),u.Y36(D6,8),u.Y36(_e),u.Y36(ty),u.Y36(GC),u.Y36(X2),u.Y36(TY),u.Y36(rV,12),u.Y36(u.R0b,8))},n.\u0275cmp=u.Xpm({type:n,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(r,i,s){if(1&r&&(u.Suo(s,jM,5),u.Suo(s,ff,5),u.Suo(s,BM,5),u.Suo(s,WC,5),u.Suo(s,KC,5)),2&r){let c;u.iGM(c=u.CRH())&&(i._noDataRow=c.first),u.iGM(c=u.CRH())&&(i._contentColumnDefs=c),u.iGM(c=u.CRH())&&(i._contentRowDefs=c),u.iGM(c=u.CRH())&&(i._contentHeaderRowDefs=c),u.iGM(c=u.CRH())&&(i._contentFooterRowDefs=c)}},viewQuery:function(r,i){if(1&r&&(u.Gf($M,7),u.Gf(zM,7),u.Gf(HM,7),u.Gf(GM,7)),2&r){let s;u.iGM(s=u.CRH())&&(i._rowOutlet=s.first),u.iGM(s=u.CRH())&&(i._headerRowOutlet=s.first),u.iGM(s=u.CRH())&&(i._footerRowOutlet=s.first),u.iGM(s=u.CRH())&&(i._noDataRowOutlet=s.first)}},hostAttrs:["ngSkipHydration","",1,"cdk-table"],hostVars:2,hostBindings:function(r,i){2&r&&u.ekj("cdk-table-fixed-layout",i.fixedLayout)},inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:"multiTemplateDataRows",fixedLayout:"fixedLayout"},outputs:{contentChanged:"contentChanged"},exportAs:["cdkTable"],features:[u._Bn([{provide:$0,useExisting:n},{provide:GC,useClass:Qz},{provide:X2,useClass:sH},{provide:rV,useValue:null}])],ngContentSelectors:AY,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(r,i){1&r&&(u.F$t(DY),u.Hsn(0),u.Hsn(1,1),u.GkF(2,0)(3,1)(4,2)(5,3))},dependencies:[$M,zM,HM,GM],styles:[".cdk-table-fixed-layout{table-layout:fixed}"],encapsulation:2}),e})();function WM(n,e){return n.concat(Array.from(e))}let UY=(()=>{var n;class e{}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[CY]}),e})();const BY=[[["caption"]],[["colgroup"],["col"]]],jY=["caption","colgroup, col"];let cH=(()=>{var n;class e extends qM{constructor(){super(...arguments),this.stickyCssClass="mat-mdc-table-sticky",this.needsPositionStickyOnElement=!1}ngOnInit(){super.ngOnInit(),this._isNativeHtmlTable&&this._elementRef.nativeElement.querySelector("tbody").classList.add("mdc-data-table__content")}}return(n=e).\u0275fac=function(){let t;return function(i){return(t||(t=u.n5z(n)))(i||n)}}(),n.\u0275cmp=u.Xpm({type:n,selectors:[["mat-table"],["table","mat-table",""]],hostAttrs:["ngSkipHydration","",1,"mat-mdc-table","mdc-data-table__table"],hostVars:2,hostBindings:function(r,i){2&r&&u.ekj("mdc-table-fixed-layout",i.fixedLayout)},exportAs:["matTable"],features:[u._Bn([{provide:qM,useExisting:n},{provide:$0,useExisting:n},{provide:X2,useClass:sH},{provide:GC,useClass:Qz},{provide:rV,useValue:null}]),u.qOj],ngContentSelectors:jY,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(r,i){1&r&&(u.F$t(BY),u.Hsn(0),u.Hsn(1,1),u.GkF(2,0)(3,1)(4,2)(5,3))},dependencies:[$M,zM,HM,GM],styles:[".mat-mdc-table-sticky{position:sticky !important}.mdc-data-table{-webkit-overflow-scrolling:touch;display:inline-flex;flex-direction:column;box-sizing:border-box;position:relative}.mdc-data-table__table-container{-webkit-overflow-scrolling:touch;overflow-x:auto;width:100%}.mdc-data-table__table{min-width:100%;border:0;white-space:nowrap;border-spacing:0;table-layout:fixed}.mdc-data-table__cell{box-sizing:border-box;overflow:hidden;text-align:left;text-overflow:ellipsis}[dir=rtl] .mdc-data-table__cell,.mdc-data-table__cell[dir=rtl]{text-align:right}.mdc-data-table__cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__cell--numeric,.mdc-data-table__cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__header-cell{box-sizing:border-box;text-overflow:ellipsis;overflow:hidden;outline:none;text-align:left}[dir=rtl] .mdc-data-table__header-cell,.mdc-data-table__header-cell[dir=rtl]{text-align:right}.mdc-data-table__header-cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__header-cell--numeric,.mdc-data-table__header-cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__header-cell-wrapper{align-items:center;display:inline-flex;vertical-align:middle}.mdc-data-table__cell,.mdc-data-table__header-cell{padding:0 16px 0 16px}.mdc-data-table__header-cell--checkbox,.mdc-data-table__cell--checkbox{padding-left:4px;padding-right:0}[dir=rtl] .mdc-data-table__header-cell--checkbox,[dir=rtl] .mdc-data-table__cell--checkbox,.mdc-data-table__header-cell--checkbox[dir=rtl],.mdc-data-table__cell--checkbox[dir=rtl]{padding-left:0;padding-right:4px}mat-table{display:block}mat-header-row{min-height:56px}mat-row,mat-footer-row{min-height:48px}mat-row,mat-header-row,mat-footer-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-cell:first-of-type,mat-header-cell:first-of-type,mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] mat-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}mat-cell:last-of-type,mat-header-cell:last-of-type,mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] mat-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}mat-cell,mat-header-cell,mat-footer-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}.mat-mdc-table{--mat-table-row-item-outline-width:1px;table-layout:auto;white-space:normal;background-color:var(--mat-table-background-color)}.mat-mdc-header-row{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;height:var(--mat-table-header-container-height, 56px);color:var(--mat-table-header-headline-color, rgba(0, 0, 0, 0.87));font-family:var(--mat-table-header-headline-font, Roboto, sans-serif);line-height:var(--mat-table-header-headline-line-height);font-size:var(--mat-table-header-headline-size, 14px);font-weight:var(--mat-table-header-headline-weight, 500)}.mat-mdc-row{height:var(--mat-table-row-item-container-height, 52px);color:var(--mat-table-row-item-label-text-color, rgba(0, 0, 0, 0.87))}.mat-mdc-row,.mdc-data-table__content{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-table-row-item-label-text-font, Roboto, sans-serif);line-height:var(--mat-table-row-item-label-text-line-height);font-size:var(--mat-table-row-item-label-text-size, 14px);font-weight:var(--mat-table-row-item-label-text-weight)}.mat-mdc-footer-row{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;height:var(--mat-table-footer-container-height, 52px);color:var(--mat-table-row-item-label-text-color, rgba(0, 0, 0, 0.87));font-family:var(--mat-table-footer-supporting-text-font, Roboto, sans-serif);line-height:var(--mat-table-footer-supporting-text-line-height);font-size:var(--mat-table-footer-supporting-text-size, 14px);font-weight:var(--mat-table-footer-supporting-text-weight);letter-spacing:var(--mat-table-footer-supporting-text-tracking)}.mat-mdc-header-cell{border-bottom-color:var(--mat-table-row-item-outline-color, rgba(0, 0, 0, 0.12));border-bottom-width:var(--mat-table-row-item-outline-width, 1px);border-bottom-style:solid;letter-spacing:var(--mat-table-header-headline-tracking);font-weight:inherit;line-height:inherit}.mat-mdc-cell{border-bottom-color:var(--mat-table-row-item-outline-color, rgba(0, 0, 0, 0.12));border-bottom-width:var(--mat-table-row-item-outline-width, 1px);border-bottom-style:solid;letter-spacing:var(--mat-table-row-item-label-text-tracking);line-height:inherit}.mdc-data-table__row:last-child .mat-mdc-cell{border-bottom:none}.mat-mdc-footer-cell{letter-spacing:var(--mat-table-row-item-label-text-tracking)}mat-row.mat-mdc-row,mat-header-row.mat-mdc-header-row,mat-footer-row.mat-mdc-footer-row{border-bottom:none}.mat-mdc-table tbody,.mat-mdc-table tfoot,.mat-mdc-table thead,.mat-mdc-cell,.mat-mdc-footer-cell,.mat-mdc-header-row,.mat-mdc-row,.mat-mdc-footer-row,.mat-mdc-table .mat-mdc-header-cell{background:inherit}.mat-mdc-table mat-header-row.mat-mdc-header-row,.mat-mdc-table mat-row.mat-mdc-row,.mat-mdc-table mat-footer-row.mat-mdc-footer-cell{height:unset}mat-header-cell.mat-mdc-header-cell,mat-cell.mat-mdc-cell,mat-footer-cell.mat-mdc-footer-cell{align-self:stretch}"],encapsulation:2}),e})(),iV=(()=>{var n;class e extends z0{}return(n=e).\u0275fac=function(){let t;return function(i){return(t||(t=u.n5z(n)))(i||n)}}(),n.\u0275dir=u.lG2({type:n,selectors:[["","matCellDef",""]],features:[u._Bn([{provide:z0,useExisting:n}]),u.qOj]}),e})(),sV=(()=>{var n;class e extends H0{}return(n=e).\u0275fac=function(){let t;return function(i){return(t||(t=u.n5z(n)))(i||n)}}(),n.\u0275dir=u.lG2({type:n,selectors:[["","matHeaderCellDef",""]],features:[u._Bn([{provide:H0,useExisting:n}]),u.qOj]}),e})(),oV=(()=>{var n;class e extends ff{get name(){return this._name}set name(r){this._setNameInput(r)}_updateColumnCssClassName(){super._updateColumnCssClassName(),this._columnCssClassName.push(`mat-column-${this.cssClassFriendlyName}`)}}return(n=e).\u0275fac=function(){let t;return function(i){return(t||(t=u.n5z(n)))(i||n)}}(),n.\u0275dir=u.lG2({type:n,selectors:[["","matColumnDef",""]],inputs:{sticky:"sticky",name:["matColumnDef","name"]},features:[u._Bn([{provide:ff,useExisting:n},{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:n}]),u.qOj]}),e})(),aV=(()=>{var n;class e extends Y2{}return(n=e).\u0275fac=function(){let t;return function(i){return(t||(t=u.n5z(n)))(i||n)}}(),n.\u0275dir=u.lG2({type:n,selectors:[["mat-header-cell"],["th","mat-header-cell",""]],hostAttrs:["role","columnheader",1,"mat-mdc-header-cell","mdc-data-table__header-cell"],features:[u.qOj]}),e})(),cV=(()=>{var n;class e extends Q2{}return(n=e).\u0275fac=function(){let t;return function(i){return(t||(t=u.n5z(n)))(i||n)}}(),n.\u0275dir=u.lG2({type:n,selectors:[["mat-cell"],["td","mat-cell",""]],hostAttrs:[1,"mat-mdc-cell","mdc-data-table__cell"],features:[u.qOj]}),e})(),lH=(()=>{var n;class e extends WC{}return(n=e).\u0275fac=function(){let t;return function(i){return(t||(t=u.n5z(n)))(i||n)}}(),n.\u0275dir=u.lG2({type:n,selectors:[["","matHeaderRowDef",""]],inputs:{columns:["matHeaderRowDef","columns"],sticky:["matHeaderRowDefSticky","sticky"]},features:[u._Bn([{provide:WC,useExisting:n}]),u.qOj]}),e})(),uH=(()=>{var n;class e extends BM{}return(n=e).\u0275fac=function(){let t;return function(i){return(t||(t=u.n5z(n)))(i||n)}}(),n.\u0275dir=u.lG2({type:n,selectors:[["","matRowDef",""]],inputs:{columns:["matRowDefColumns","columns"],when:["matRowDefWhen","when"]},features:[u._Bn([{provide:BM,useExisting:n}]),u.qOj]}),e})(),dH=(()=>{var n;class e extends eV{}return(n=e).\u0275fac=function(){let t;return function(i){return(t||(t=u.n5z(n)))(i||n)}}(),n.\u0275cmp=u.Xpm({type:n,selectors:[["mat-header-row"],["tr","mat-header-row",""]],hostAttrs:["role","row",1,"mat-mdc-header-row","mdc-data-table__header-row"],exportAs:["matHeaderRow"],features:[u._Bn([{provide:eV,useExisting:n}]),u.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(r,i){1&r&&u.GkF(0,0)},dependencies:[pf],encapsulation:2}),e})(),hH=(()=>{var n;class e extends nV{}return(n=e).\u0275fac=function(){let t;return function(i){return(t||(t=u.n5z(n)))(i||n)}}(),n.\u0275cmp=u.Xpm({type:n,selectors:[["mat-row"],["tr","mat-row",""]],hostAttrs:["role","row",1,"mat-mdc-row","mdc-data-table__row"],exportAs:["matRow"],features:[u._Bn([{provide:nV,useExisting:n}]),u.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(r,i){1&r&&u.GkF(0,0)},dependencies:[pf],encapsulation:2}),e})(),ZY=(()=>{var n;class e{}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[Zl,UY,Zl]}),e})();function QY(n,e){1&n&&(u.TgZ(0,"div",4),u._UZ(1,"img",5),u.TgZ(2,"p",6),u._uU(3," Your cart is empty. "),u.qZA(),u.TgZ(4,"p",7),u._uU(5," Go to homepage? "),u.TgZ(6,"a",8),u._uU(7,"Click here..."),u.qZA()()())}function XY(n,e){1&n&&(u.TgZ(0,"th",21),u._uU(1," Product Image "),u.qZA())}function JY(n,e){if(1&n&&(u.TgZ(0,"td",22),u._UZ(1,"img",23),u.qZA()),2&n){const t=e.$implicit;u.xp6(1),u.s9C("src",t.images[0],u.LSH)}}function eQ(n,e){1&n&&(u.TgZ(0,"th",21),u._uU(1," Title "),u.qZA())}function tQ(n,e){if(1&n&&(u.TgZ(0,"td",22),u._uU(1),u.qZA()),2&n){const t=e.$implicit;u.xp6(1),u.hij(" ",t.title," ")}}function nQ(n,e){1&n&&(u.TgZ(0,"th",21),u._uU(1," Amount "),u.qZA())}function rQ(n,e){if(1&n&&(u.TgZ(0,"td",22),u._uU(1),u.qZA()),2&n){const t=e.$implicit;u.xp6(1),u.hij(" ",t.amount," ")}}function iQ(n,e){1&n&&(u.TgZ(0,"th",21),u._uU(1," Actions "),u.qZA())}function sQ(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"button",29),u.NdJ("click",function(){u.CHM(t);const i=u.oxw().index,s=u.oxw(2);return u.KtG(s.productCart(i,"remove"))}),u._uU(1," - "),u.qZA()}}function oQ(n,e){1&n&&(u.TgZ(0,"span"),u._uU(1,"Out of Stock"),u.qZA())}function aQ(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"button",30),u.NdJ("click",function(){u.CHM(t);const i=u.oxw().index,s=u.oxw(2);return u.KtG(s.productCart(i,"add"))}),u._uU(1," + "),u.qZA()}if(2&n){const t=u.oxw().$implicit;u.Q6J("disabled",t.amount==t.stock)}}function cQ(n,e){1&n&&(u.TgZ(0,"span",31),u._uU(1,"Max QTY"),u.qZA())}function lQ(n,e){if(1&n&&(u.TgZ(0,"td",24),u.YNc(1,sQ,2,0,"button",25),u.YNc(2,oQ,2,0,"span",26),u.YNc(3,aQ,2,1,"button",27),u._UZ(4,"br"),u.YNc(5,cQ,2,0,"span",28),u.qZA()),2&n){const t=e.$implicit;u.xp6(1),u.Q6J("ngIf",0!=t.stock),u.xp6(1),u.Q6J("ngIf",0==t.stock),u.xp6(1),u.Q6J("ngIf",0!=t.stock),u.xp6(2),u.Q6J("ngIf",t.amount==t.stock)}}function uQ(n,e){1&n&&(u.TgZ(0,"th",21),u._uU(1," Price "),u.qZA())}function dQ(n,e){if(1&n&&(u.TgZ(0,"td",22),u._uU(1),u.ALo(2,"currency"),u.qZA()),2&n){const t=e.$implicit;u.xp6(1),u.hij(" ",u.xi3(2,1,t.price,"USD")," ")}}function hQ(n,e){1&n&&(u.TgZ(0,"th",21),u._uU(1," Total "),u.qZA())}function fQ(n,e){if(1&n&&(u.TgZ(0,"td",24),u._uU(1),u.ALo(2,"currency"),u.qZA()),2&n){const t=e.$implicit;u.xp6(1),u.hij(" ",u.xi3(2,1,t.price*t.amount,"USD")," ")}}function pQ(n,e){1&n&&u._UZ(0,"tr",32)}function mQ(n,e){1&n&&u._UZ(0,"tr",33)}function gQ(n,e){if(1&n&&(u.TgZ(0,"table",9),u.ynx(1,10),u.YNc(2,XY,2,0,"th",11),u.YNc(3,JY,2,1,"td",12),u.BQk(),u.ynx(4,13),u.YNc(5,eQ,2,0,"th",11),u.YNc(6,tQ,2,1,"td",12),u.BQk(),u.ynx(7,14),u.YNc(8,nQ,2,0,"th",11),u.YNc(9,rQ,2,1,"td",12),u.BQk(),u.ynx(10,15),u.YNc(11,iQ,2,0,"th",11),u.YNc(12,lQ,6,4,"td",16),u.BQk(),u.ynx(13,17),u.YNc(14,uQ,2,0,"th",11),u.YNc(15,dQ,3,4,"td",12),u.BQk(),u.ynx(16,18),u.YNc(17,hQ,2,0,"th",11),u.YNc(18,fQ,3,4,"td",16),u.BQk(),u.YNc(19,pQ,1,0,"tr",19),u.YNc(20,mQ,1,0,"tr",20),u.qZA()),2&n){const t=u.oxw();u.Q6J("dataSource",t.dataSource),u.xp6(19),u.Q6J("matHeaderRowDef",t.displayedColumns),u.xp6(1),u.Q6J("matRowDefColumns",t.displayedColumns)}}function _Q(n,e){if(1&n&&(u.TgZ(0,"span",41),u._uU(1),u.qZA()),2&n){const t=u.oxw(2);u.xp6(1),u.hij("",t.onOrder," ")}}function yQ(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"footer",34)(1,"div",35)(2,"p",36),u._uU(3," Total Amount: "),u.qZA(),u.TgZ(4,"p",37),u._uU(5),u.ALo(6,"currency"),u.qZA()(),u.TgZ(7,"div",38),u.YNc(8,_Q,2,1,"span",39),u.TgZ(9,"button",40),u.NdJ("click",function(){u.CHM(t);const i=u.oxw();return u.KtG(i.placeOrderHandler())}),u._uU(10," Place Order "),u.qZA()()()}if(2&n){const t=u.oxw();u.xp6(5),u.hij(" ",u.xi3(6,2,t.totalAmount,"USD")," "),u.xp6(3),u.Q6J("ngIf",t.onOrder)}}let vQ=(()=>{var n;class e{ngOnInit(){this.tableSync(),this.prods=this.cart.cartdata,this.getTotal()}constructor(r,i,s){this.cart=r,this.router=i,this.auth=s,this.displayedColumns=["image","title","amount","price","actions","total"],this.onOrder=null}tableSync(){this.cart.cart$.subscribe(r=>{this.dataSource=r})}productCart(r,i){this.cart.data(this.dataSource[r],i),this.prods=this.cart.cartdata;const s=[...this.prods];this.dataSource=s,this.getTotal()}getTotal(){this.totalAmount=0,this.prods.map(r=>{this.totalAmount+=r.amount*r.price})}placeOrderHandler(){this.auth.user.subscribe(r=>{r?(this.onOrder="Redirecting to Order page...",setTimeout(()=>{this.router.navigate(["order"])},300)):(this.onOrder="User not logged in.Redirecting to Login page...",setTimeout(()=>{this.router.navigate(["login"])},300))})}}return(n=e).\u0275fac=function(r){return new(r||n)(u.Y36(KR),u.Y36($i),u.Y36(HC))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-cart"]],decls:4,vars:3,consts:[["class","text-center mt-5 pt-5",4,"ngIf"],[1,"col-8","mx-auto"],["mat-table","","class","mat-elevation-z8",3,"dataSource",4,"ngIf"],["class","card py-4 col-8 mx-auto",4,"ngIf"],[1,"text-center","mt-5","pt-5"],["src","https://www.freeiconspng.com/thumbs/cart-icon/cart-icon-16.png","alt","",1,"mt-5","pt-5"],[1,"m-0","text-white","h4"],[1,"text-white","h6","mt-3"],["href","products?page=1",1,"text-decoration-none","text-info"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","image"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","title"],["matColumnDef","amount"],["matColumnDef","actions"],["mat-cell","","class","fw-bold",4,"matCellDef"],["matColumnDef","price"],["matColumnDef","total"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["alt","","width","150px",3,"src"],["mat-cell","",1,"fw-bold"],["class","btn btn-danger btn-sm",3,"click",4,"ngIf"],[4,"ngIf"],["class","btn btn-success btn-sm mx-1",3,"disabled","click",4,"ngIf"],["class","fw-light",4,"ngIf"],[1,"btn","btn-danger","btn-sm",3,"click"],[1,"btn","btn-success","btn-sm","mx-1",3,"disabled","click"],[1,"fw-light"],["mat-header-row",""],["mat-row",""],[1,"card","py-4","col-8","mx-auto"],[1,"d-flex","flex-row","justify-content-between"],[1,"display-6","fw-medium","px-3"],[1,"display-6","px-3"],[1,"col-12"],["class","text-black ms-4 fw-semibold",4,"ngIf"],[1,"btn","btn-primary","float-end","col-2",3,"click"],[1,"text-black","ms-4","fw-semibold"]],template:function(r,i){1&r&&(u.YNc(0,QY,8,0,"div",0),u.TgZ(1,"div",1),u.YNc(2,gQ,21,3,"table",2),u.qZA(),u.YNc(3,yQ,11,5,"footer",3)),2&r&&(u.Q6J("ngIf",0===i.dataSource.length),u.xp6(2),u.Q6J("ngIf",i.dataSource.length>0),u.xp6(1),u.Q6J("ngIf",i.dataSource.length>0))},dependencies:[ys,cH,sV,lH,oV,iV,uH,aV,cV,dH,hH,Un]}),e})();function wQ(n,e){if(1&n&&(u.TgZ(0,"span",18),u._uU(1),u.qZA()),2&n){const t=u.oxw();u.xp6(1),u.Oqu(t.error)}}let EQ=(()=>{var n;class e{constructor(r,i){this.auth=r,this.router=i,this.error="",this.isEmail=!0}formOp(r){this.auth.login(r.value.email,r.value.password).subscribe()}}return(n=e).\u0275fac=function(r){return new(r||n)(u.Y36(HC),u.Y36($i))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-login"]],decls:28,vars:2,consts:[[1,"container","my-5"],[1,"fw-bold","h6","my-0","text-secondary"],[1,"display-5","fw-bold","text-white","my-0"],[1,"text-primary","fw-bolder","display-3"],[1,"h6","text-secondary","my-2"],["href","/signup",1,"text-decoration-none"],["id","box",1,"col-xl-6","col-lg-6","col-md-10","col-sm-12","my-5","rounded"],["id","form",3,"ngSubmit"],["authForm","ngForm"],["class","text-danger small",4,"ngIf"],[1,"col-11"],["for","email",1,"col-sm-5","col-form-label","fw-semibold"],["type","email","id","Email","ngModel","","name","email","placeholder","Enter Email","email","","required","",1,"form-control","rounded-4","py-3"],["for","password",1,"col-sm-5","col-form-label","fw-semibold"],["type","password","id","password","ngModel","","name","password","placeholder","Enter Password","required","","password","","minlength","8",1,"form-control","rounded-4","py-3"],[1,"col-11","justify-content-between","d-flex","my-4","px-4"],["href","/signup",1,"btn","btn-secondary","fw-bold","col-5","my-3","py-3","rounded-pill","px-2"],["type","submit","id","signup",1,"btn","btn-primary","col-5","my-3","rounded-pill","py-3","px-2","fw-bold",3,"disabled"],[1,"text-danger","small"]],template:function(r,i){if(1&r){const s=u.EpF();u.TgZ(0,"div",0)(1,"p",1),u._uU(2,"WELCOME BACK"),u.qZA(),u.TgZ(3,"h1",2),u._uU(4," Account Login "),u.TgZ(5,"span",3),u._uU(6,"."),u.qZA()(),u.TgZ(7,"p",4),u._uU(8,"Don't have an Account? "),u.TgZ(9,"a",5),u._uU(10,"Create New Account"),u.qZA()(),u.TgZ(11,"div",6)(12,"form",7,8),u.NdJ("ngSubmit",function(){u.CHM(s);const h=u.MAs(13);return u.KtG(i.formOp(h))}),u.YNc(14,wQ,2,1,"span",9),u.TgZ(15,"div",10)(16,"label",11),u._uU(17,"Email"),u.qZA(),u._UZ(18,"input",12),u.qZA(),u.TgZ(19,"div",10)(20,"label",13),u._uU(21,"Password"),u.qZA(),u._UZ(22,"input",14),u.qZA(),u.TgZ(23,"div",15)(24,"a",16),u._uU(25,"Change Method"),u.qZA(),u.TgZ(26,"button",17),u._uU(27,"Next"),u.qZA()()()()()}if(2&r){const s=u.MAs(13);u.xp6(14),u.Q6J("ngIf",i.error),u.xp6(12),u.Q6J("disabled",!s.valid)}},dependencies:[ys,PM,B0,EM,IM,zC,OM,NM,U2,MM]}),e})();function IQ(n,e){1&n&&(u.TgZ(0,"span",23),u._uU(1," Enter a valid Email "),u.qZA())}function bQ(n,e){1&n&&(u.TgZ(0,"span",23),u._uU(1," Email is required "),u.qZA())}function TQ(n,e){if(1&n&&(u.TgZ(0,"span",23),u.YNc(1,IQ,2,0,"span",14),u.YNc(2,bQ,2,0,"span",14),u.qZA()),2&n){const t=u.oxw();u.xp6(1),u.Q6J("ngIf",t.authForm.get("email").errors.email),u.xp6(1),u.Q6J("ngIf",t.authForm.get("email").errors.required)}}function CQ(n,e){1&n&&(u.TgZ(0,"span",23),u._uU(1," Passoword is required "),u.qZA())}function DQ(n,e){1&n&&(u.TgZ(0,"span",23),u._uU(1," Passoword should match the criteria and should be 8 chars long "),u.qZA())}function AQ(n,e){if(1&n&&(u.TgZ(0,"span",23),u.YNc(1,CQ,2,0,"span",14),u.YNc(2,DQ,2,0,"span",14),u.qZA()),2&n){const t=u.oxw();u.xp6(1),u.Q6J("ngIf",t.authForm.get("inputPassword").errors.required),u.xp6(1),u.Q6J("ngIf",t.authForm.get("inputPassword").errors.pattern||t.authForm.get("inputPassword").errors.minlength)}}function SQ(n,e){1&n&&(u.TgZ(0,"span",23),u._uU(1," Confirm Passoword is required "),u.qZA())}function xQ(n,e){1&n&&(u.TgZ(0,"span",23),u._uU(1," Both password should match "),u.qZA())}function RQ(n,e){if(1&n&&(u.TgZ(0,"span",23),u.YNc(1,SQ,2,0,"span",14),u.YNc(2,xQ,2,0,"span",14),u.qZA()),2&n){const t=u.oxw();u.xp6(1),u.Q6J("ngIf",t.authForm.get("confirmPassword").errors.required),u.xp6(1),u.Q6J("ngIf",t.ifMatched&&t.authForm.get("inputPassword").valid)}}let MQ=(()=>{var n;class e{constructor(r){this.auth=r,this.confirmPassword="",this.inputPassword="",this.ifMatched=!0,this.passwordRegex=/^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9])(?=.*?[#?!@$%^&*-])/,this.isValid=!1,this.numEx=/^[A-Za-z]+$/}ngOnInit(){this.authForm=new sy({email:new Yl(null,[yd.required,yd.email]),inputPassword:new Yl(null,[yd.required,yd.pattern(this.passwordRegex)]),confirmPassword:new Yl(null,[yd.required,yd.pattern(this.passwordRegex)])})}onSubmit(){console.log(this.authForm),this.auth.signup(this.authForm.value).subscribe()}passwordMatch(){this.ifMatched=this.confirmPassword===this.inputPassword}}return(n=e).\u0275fac=function(r){return new(r||n)(u.Y36(HC))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-sign-up"]],decls:39,vars:5,consts:[[1,"container","my-5"],[1,"fw-bold","h6","my-0","text-secondary"],[1,"display-5","fw-bold","text-white"],[1,"text-primary","fw-bolder","display-4"],[1,"h6","text-secondary"],["routerLink","/login",1,"text-decoration-none"],[1,"col-xl-6","col-md-10","col-sm-12","my-5"],[3,"formGroup","ngSubmit"],[1,"form-group"],["id","",1,"text-danger"],[1,"col-11"],[1,"form-group",3,"has-error"],["for","email",1,"col-sm-5","col-form-label","fw-semibold"],["type","email","id","Email","formControlName","email","placeholder","Enter Email","required","","email","",1,"form-control","rounded-4","py-3"],["class","small text-danger",4,"ngIf"],["for","inputPassword",1,"col-sm-5","col-form-label","fw-semibold"],["title","A mixture of both uppercase and lowercase letters.\n  A mixture of letters and numbers.\n  Inclusion of at least one special character, e.g., ! @ # ? ]","data-bs-placement","bottom",1,"tt"],["type","password","id","inputPassword","formControlName","inputPassword","placeholder","Enter Password","required","","minlength","8","password","",1,"form-control","rounded-4","py-3",3,"ngModelChange"],["for","confirmPassword",1,"col-sm-5","col-form-label","fw-semibold"],["type","password","id","confirmPassword","formControlName","confirmPassword","placeholder","Re-enter Password","required","","minlength","8",1,"form-control","rounded-4","py-3",3,"ngModelChange"],[1,"col-11","justify-content-between","d-flex","my-4","px-4"],["routerLink","/login",1,"btn","btn-secondary","fw-bold","col-5","my-3","py-3","rounded-pill","px-2"],["type","submit","id","signup",1,"btn","btn-primary","col-5","my-3","rounded-pill","py-3","px-2","fw-bold",3,"disabled"],[1,"small","text-danger"]],template:function(r,i){1&r&&(u.TgZ(0,"div",0)(1,"p",1),u._uU(2,"START FOR FREE"),u.qZA(),u.TgZ(3,"h1",2),u._uU(4," Create new account "),u.TgZ(5,"span",3),u._uU(6,"."),u.qZA()(),u.TgZ(7,"p",4),u._uU(8," Already A Member? "),u.TgZ(9,"a",5),u._uU(10,"Log In"),u.qZA()(),u.TgZ(11,"div",6)(12,"form",7),u.NdJ("ngSubmit",function(){return i.onSubmit()}),u.TgZ(13,"div",8),u._UZ(14,"span",9),u.TgZ(15,"div",10)(16,"div",11)(17,"label",12),u._uU(18,"Email"),u.qZA(),u._UZ(19,"input",13),u.qZA(),u.YNc(20,TQ,3,2,"span",14),u.qZA()(),u.TgZ(21,"div",10)(22,"div",11)(23,"label",15),u._uU(24,"Password"),u.qZA(),u.TgZ(25,"span",16)(26,"input",17),u.NdJ("ngModelChange",function(){return i.passwordMatch()}),u.qZA()()(),u.YNc(27,AQ,3,2,"span",14),u.qZA(),u.TgZ(28,"div",10)(29,"div",11)(30,"label",18),u._uU(31,"Confirm Password"),u.qZA(),u.TgZ(32,"input",19),u.NdJ("ngModelChange",function(){return i.passwordMatch()}),u.qZA()(),u.YNc(33,RQ,3,2,"span",14),u.qZA(),u.TgZ(34,"div",20)(35,"a",21),u._uU(36,"Change Method"),u.qZA(),u.TgZ(37,"button",22),u._uU(38," Create Account "),u.qZA()()()()()),2&r&&(u.xp6(12),u.Q6J("formGroup",i.authForm),u.xp6(8),u.Q6J("ngIf",!i.authForm.get("email").valid&&i.authForm.get("email").touched),u.xp6(7),u.Q6J("ngIf",!i.authForm.get("inputPassword").valid&&i.authForm.get("inputPassword").touched),u.xp6(6),u.Q6J("ngIf",!i.authForm.get("confirmPassword").valid&&i.authForm.get("confirmPassword").touched),u.xp6(4),u.Q6J("disabled",!i.authForm.valid||!i.ifMatched))},dependencies:[ys,Oy,PM,B0,EM,IM,zC,OM,NM,$C,kM]}),e})();function PQ(n,e){1&n&&(u.TgZ(0,"span",13),u._uU(1," Name is required "),u.qZA())}function kQ(n,e){if(1&n&&(u.TgZ(0,"span",13),u.YNc(1,PQ,2,0,"span",6),u.qZA()),2&n){const t=u.oxw();u.xp6(1),u.Q6J("ngIf",t.orderForm.get("name").errors.required)}}function NQ(n,e){1&n&&(u.TgZ(0,"span",13),u._uU(1," Address is required "),u.qZA())}function OQ(n,e){if(1&n&&(u.TgZ(0,"span",13),u.YNc(1,NQ,2,0,"span",6),u.qZA()),2&n){const t=u.oxw();u.xp6(1),u.Q6J("ngIf",t.orderForm.get("address").errors.required)}}function FQ(n,e){1&n&&(u.TgZ(0,"span",13),u._uU(1," Contact is required "),u.qZA())}function LQ(n,e){if(1&n&&(u.TgZ(0,"span",13),u.YNc(1,FQ,2,0,"span",6),u.qZA()),2&n){const t=u.oxw();u.xp6(1),u.Q6J("ngIf",t.orderForm.get("contact").errors.required)}}const VQ=[{path:"",redirectTo:"products",pathMatch:"full"},{path:"products",component:aY},{path:"cart",component:vQ},{path:"login",component:EQ},{path:"signup",component:MQ},{path:"order",component:(()=>{var n;class e{constructor(r,i){this.formBuilder=r,this.cartData=i,this.productId="",this.numRegex=/\d+$/,this.totalItems=0}ngOnInit(){this.orderForm=new sy({name:new Yl("",yd.required),address:new Yl("",yd.required),contact:new Yl(null,[yd.required,yd.pattern(this.numRegex)])}),this.totalItems=this.cartData.cartdata.length}formHandler(){this.cartData.cartdata.map(i=>{console.log(i.id),this.cartData.handleOrder(i.id,i.amount,i.stock)})}}return(n=e).\u0275fac=function(r){return new(r||n)(u.Y36(CZ),u.Y36(KR))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-order"]],decls:21,vars:5,consts:[[1,"container","mt-3"],[1,"col-6","bg-white","mx-auto","rounded","px-3","py-4"],[3,"formGroup","ngSubmit"],[1,"col-12"],["for","name",1,"form-label"],["type","text","formControlName","name","id","name",1,"form-control"],["class","small text-danger",4,"ngIf"],["for","address",1,"form-label"],["type","text","formControlName","address","id","address",1,"form-control"],["for","contact",1,"form-label"],["type","text","formControlName","contact","id","contact",1,"form-control"],[1,"col","my-2"],[1,"btn","btn-success",3,"disabled"],[1,"small","text-danger"]],template:function(r,i){1&r&&(u.TgZ(0,"div",0)(1,"div",1)(2,"form",2),u.NdJ("ngSubmit",function(){return i.formHandler()}),u.TgZ(3,"div",3)(4,"label",4),u._uU(5,"Name"),u.qZA(),u._UZ(6,"input",5),u.YNc(7,kQ,2,1,"span",6),u.qZA(),u.TgZ(8,"div",3)(9,"label",7),u._uU(10,"Address"),u.qZA(),u._UZ(11,"input",8),u.YNc(12,OQ,2,1,"span",6),u.qZA(),u.TgZ(13,"div",3)(14,"label",9),u._uU(15,"Contact"),u.qZA(),u._UZ(16,"input",10),u.YNc(17,LQ,2,1,"span",6),u.qZA(),u._UZ(18,"div",11),u.TgZ(19,"button",12),u._uU(20," Edit "),u.qZA()()()()),2&r&&(u.xp6(2),u.Q6J("formGroup",i.orderForm),u.xp6(5),u.Q6J("ngIf",!i.orderForm.get("name").valid&&i.orderForm.get("name").touched),u.xp6(5),u.Q6J("ngIf",!i.orderForm.get("address").valid&&i.orderForm.get("address").touched),u.xp6(5),u.Q6J("ngIf",!i.orderForm.get("contact").valid&&i.orderForm.get("contact").touched),u.xp6(2),u.Q6J("disabled",!i.orderForm.valid))},dependencies:[ys,PM,B0,EM,IM,$C,kM]}),e})()}];let UQ=(()=>{var n;class e{}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[TE.forRoot(VQ),TE]}),e})();function BQ(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"button",10),u.NdJ("click",function(){u.CHM(t);const i=u.oxw();return u.KtG(i.logout())}),u._uU(1," Logout "),u.qZA()}}function jQ(n,e){1&n&&(u.TgZ(0,"button",11),u._uU(1," Login "),u.qZA())}let $Q=(()=>{var n;class e{constructor(r,i){this.cart=r,this.auth=i,this.items=this.cart.cartdata.length,this.isAuth=!1}ngOnInit(){this.cart.items.subscribe(r=>this.items=r),this.auth.user.subscribe(r=>{this.isAuth=!!r})}logout(){this.auth.logout()}}return(n=e).\u0275fac=function(r){return new(r||n)(u.Y36(KR),u.Y36(HC))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-header"]],decls:12,vars:3,consts:[[1,"bg-black"],[1,"navbar","navbar-expand-lg","navbar-dark","bg-transparent"],[1,"container-fluid"],["routerLink","/",1,"navbar-brand","fw-bold","ms-5"],["src","\\assets\\logo.svg","alt","Anywhere-logo"],[1,"me-5"],["routerLink","/cart",1,"btn","text-decoration-none","bg-white","mx-3","rounded-pill"],[1,"bi","bi-cart"],["class","btn bg-white rounded-pill",3,"click",4,"ngIf"],["class","btn bg-white rounded-pill","routerLink","/login",4,"ngIf"],[1,"btn","bg-white","rounded-pill",3,"click"],["routerLink","/login",1,"btn","bg-white","rounded-pill"]],template:function(r,i){1&r&&(u.TgZ(0,"header",0)(1,"nav",1)(2,"div",2)(3,"a",3),u._UZ(4,"img",4),u._uU(5," Anywhere App "),u.qZA(),u.TgZ(6,"div",5)(7,"a",6),u._UZ(8,"i",7),u._uU(9),u.qZA(),u.YNc(10,BQ,2,0,"button",8),u.YNc(11,jQ,2,0,"button",9),u.qZA()()()()),2&r&&(u.xp6(9),u.hij(" ",i.items," "),u.xp6(1),u.Q6J("ngIf",i.isAuth),u.xp6(1),u.Q6J("ngIf",!i.isAuth))},dependencies:[ys,Oy]}),e})(),zQ=(()=>{var n;class e{constructor(r){this.auth=r,this.title="eCom"}ngOnInit(){this.auth.autoLogin()}}return(n=e).\u0275fac=function(r){return new(r||n)(u.Y36(HC))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-root"]],decls:4,vars:0,consts:[[1,"fixed-top"],[1,"container-fluid","ps-0","ms-0","mt-4","pt-5"]],template:function(r,i){1&r&&(u.TgZ(0,"div",0),u._UZ(1,"app-header"),u.qZA(),u.TgZ(2,"div",1),u._UZ(3,"router-outlet"),u.qZA())},dependencies:[Xm,$Q]}),e})(),qQ=(()=>{var n;class e{}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[R6,Zl,R6,Zl]}),e})();V(6710);class mH{constructor(){return(0,nr.vb)("auth")}}class dV{constructor(e){return e}}const gH="firestore",hV=new u.OlP("angularfire2.firestore-instances");function XQ(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new dV(r)}}const JQ={provide:class YQ{constructor(){return(0,nr.vb)(gH)}},deps:[[new u.FiY,hV]]},eX={provide:dV,useFactory:function QQ(n,e){const t=(0,nr.JM)(gH,n,e);return t&&new dV(t)},deps:[[new u.FiY,hV],Ww]};let tX=(()=>{class n{constructor(){(0,M_.KN)("angularfire",nr.q4.full,"fst")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[eX,JQ]}),n})();function nX(n,...e){return{ngModule:tX,providers:[{provide:hV,useFactory:XQ(n),multi:!0,deps:[u.R0b,u.zs3,nr.HU,eB,[new u.FiY,mH],[new u.FiY,qR],...e]}]}}const rX=(0,nr.u3)(OH,!0);let iX=(()=>{var n;class e{}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275mod=u.oAB({type:n,bootstrap:[zQ]}),n.\u0275inj=u.cJS({imports:[mc,UQ,DZ,kE,MK,qQ,ZY,zZ,Uo.hO,AZ,nX(()=>rX()),Uo.hO.initializeApp(G2_firebaseConfig),JG(()=>e9(G2_firebaseConfig))]}),e})();Or().bootstrapModule(iX).catch(n=>console.error(n))},5619:(It,Re,V)=>{V.d(Re,{X:()=>H});var u=V(8645);class H extends u.x{constructor(re){super(),this._value=re}get value(){return this.getValue()}_subscribe(re){const le=super._subscribe(re);return!le.closed&&re.next(this._value),le}getValue(){const{hasError:re,thrownError:le,_value:_e}=this;if(re)throw le;return this._throwIfClosed(),_e}next(re){super.next(this._value=re)}}},5592:(It,Re,V)=>{V.d(Re,{y:()=>ke});var u=V(305),H=V(7394),O=V(4850),re=V(8407),le=V(2653),_e=V(4674),De=V(1441);let ke=(()=>{class ae{constructor(Fe){Fe&&(this._subscribe=Fe)}lift(Fe){const it=new ae;return it.source=this,it.operator=Fe,it}subscribe(Fe,it,Ue){const at=function Y(ae){return ae&&ae instanceof u.Lv||function z(ae){return ae&&(0,_e.m)(ae.next)&&(0,_e.m)(ae.error)&&(0,_e.m)(ae.complete)}(ae)&&(0,H.Nn)(ae)}(Fe)?Fe:new u.Hp(Fe,it,Ue);return(0,De.x)(()=>{const{operator:Le,source:Dt}=this;at.add(Le?Le.call(at,Dt):Dt?this._subscribe(at):this._trySubscribe(at))}),at}_trySubscribe(Fe){try{return this._subscribe(Fe)}catch(it){Fe.error(it)}}forEach(Fe,it){return new(it=ve(it))((Ue,at)=>{const Le=new u.Hp({next:Dt=>{try{Fe(Dt)}catch(wt){at(wt),Le.unsubscribe()}},error:at,complete:Ue});this.subscribe(Le)})}_subscribe(Fe){var it;return null===(it=this.source)||void 0===it?void 0:it.subscribe(Fe)}[O.L](){return this}pipe(...Fe){return(0,re.U)(Fe)(this)}toPromise(Fe){return new(Fe=ve(Fe))((it,Ue)=>{let at;this.subscribe(Le=>at=Le,Le=>Ue(Le),()=>it(at))})}}return ae.create=Ge=>new ae(Ge),ae})();function ve(ae){var Ge;return null!==(Ge=ae??le.config.Promise)&&void 0!==Ge?Ge:Promise}},8645:(It,Re,V)=>{V.d(Re,{x:()=>De});var u=V(5592),H=V(7394);const re=(0,V(2306).d)(ve=>function(){ve(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var le=V(9039),_e=V(1441);let De=(()=>{class ve extends u.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(Y){const ae=new ke(this,this);return ae.operator=Y,ae}_throwIfClosed(){if(this.closed)throw new re}next(Y){(0,_e.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const ae of this.currentObservers)ae.next(Y)}})}error(Y){(0,_e.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=Y;const{observers:ae}=this;for(;ae.length;)ae.shift().error(Y)}})}complete(){(0,_e.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:Y}=this;for(;Y.length;)Y.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var Y;return(null===(Y=this.observers)||void 0===Y?void 0:Y.length)>0}_trySubscribe(Y){return this._throwIfClosed(),super._trySubscribe(Y)}_subscribe(Y){return this._throwIfClosed(),this._checkFinalizedStatuses(Y),this._innerSubscribe(Y)}_innerSubscribe(Y){const{hasError:ae,isStopped:Ge,observers:Fe}=this;return ae||Ge?H.Lc:(this.currentObservers=null,Fe.push(Y),new H.w0(()=>{this.currentObservers=null,(0,le.P)(Fe,Y)}))}_checkFinalizedStatuses(Y){const{hasError:ae,thrownError:Ge,isStopped:Fe}=this;ae?Y.error(Ge):Fe&&Y.complete()}asObservable(){const Y=new u.y;return Y.source=this,Y}}return ve.create=(z,Y)=>new ke(z,Y),ve})();class ke extends De{constructor(z,Y){super(),this.destination=z,this.source=Y}next(z){var Y,ae;null===(ae=null===(Y=this.destination)||void 0===Y?void 0:Y.next)||void 0===ae||ae.call(Y,z)}error(z){var Y,ae;null===(ae=null===(Y=this.destination)||void 0===Y?void 0:Y.error)||void 0===ae||ae.call(Y,z)}complete(){var z,Y;null===(Y=null===(z=this.destination)||void 0===z?void 0:z.complete)||void 0===Y||Y.call(z)}_subscribe(z){var Y,ae;return null!==(ae=null===(Y=this.source)||void 0===Y?void 0:Y.subscribe(z))&&void 0!==ae?ae:H.Lc}}},305:(It,Re,V)=>{V.d(Re,{Hp:()=>Ue,Lv:()=>ae});var u=V(4674),H=V(7394),O=V(2653),re=V(3894),le=V(2420);const _e=ve("C",void 0,void 0);function ve(ce,Me,pe){return{kind:ce,value:Me,error:pe}}var z=V(7599),Y=V(1441);class ae extends H.w0{constructor(Me){super(),this.isStopped=!1,Me?(this.destination=Me,(0,H.Nn)(Me)&&Me.add(this)):this.destination=wt}static create(Me,pe,Ae){return new Ue(Me,pe,Ae)}next(Me){this.isStopped?Dt(function ke(ce){return ve("N",ce,void 0)}(Me),this):this._next(Me)}error(Me){this.isStopped?Dt(function De(ce){return ve("E",void 0,ce)}(Me),this):(this.isStopped=!0,this._error(Me))}complete(){this.isStopped?Dt(_e,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Me){this.destination.next(Me)}_error(Me){try{this.destination.error(Me)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ge=Function.prototype.bind;function Fe(ce,Me){return Ge.call(ce,Me)}class it{constructor(Me){this.partialObserver=Me}next(Me){const{partialObserver:pe}=this;if(pe.next)try{pe.next(Me)}catch(Ae){at(Ae)}}error(Me){const{partialObserver:pe}=this;if(pe.error)try{pe.error(Me)}catch(Ae){at(Ae)}else at(Me)}complete(){const{partialObserver:Me}=this;if(Me.complete)try{Me.complete()}catch(pe){at(pe)}}}class Ue extends ae{constructor(Me,pe,Ae){let He;if(super(),(0,u.m)(Me)||!Me)He={next:Me??void 0,error:pe??void 0,complete:Ae??void 0};else{let W;this&&O.config.useDeprecatedNextContext?(W=Object.create(Me),W.unsubscribe=()=>this.unsubscribe(),He={next:Me.next&&Fe(Me.next,W),error:Me.error&&Fe(Me.error,W),complete:Me.complete&&Fe(Me.complete,W)}):He=Me}this.destination=new it(He)}}function at(ce){O.config.useDeprecatedSynchronousErrorHandling?(0,Y.O)(ce):(0,re.h)(ce)}function Dt(ce,Me){const{onStoppedNotification:pe}=O.config;pe&&z.z.setTimeout(()=>pe(ce,Me))}const wt={closed:!0,next:le.Z,error:function Le(ce){throw ce},complete:le.Z}},7394:(It,Re,V)=>{V.d(Re,{Lc:()=>_e,w0:()=>le,Nn:()=>De});var u=V(4674);const O=(0,V(2306).d)(ve=>function(Y){ve(this),this.message=Y?`${Y.length} errors occurred during unsubscription:\n${Y.map((ae,Ge)=>`${Ge+1}) ${ae.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=Y});var re=V(9039);class le{constructor(z){this.initialTeardown=z,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let z;if(!this.closed){this.closed=!0;const{_parentage:Y}=this;if(Y)if(this._parentage=null,Array.isArray(Y))for(const Fe of Y)Fe.remove(this);else Y.remove(this);const{initialTeardown:ae}=this;if((0,u.m)(ae))try{ae()}catch(Fe){z=Fe instanceof O?Fe.errors:[Fe]}const{_finalizers:Ge}=this;if(Ge){this._finalizers=null;for(const Fe of Ge)try{ke(Fe)}catch(it){z=z??[],it instanceof O?z=[...z,...it.errors]:z.push(it)}}if(z)throw new O(z)}}add(z){var Y;if(z&&z!==this)if(this.closed)ke(z);else{if(z instanceof le){if(z.closed||z._hasParent(this))return;z._addParent(this)}(this._finalizers=null!==(Y=this._finalizers)&&void 0!==Y?Y:[]).push(z)}}_hasParent(z){const{_parentage:Y}=this;return Y===z||Array.isArray(Y)&&Y.includes(z)}_addParent(z){const{_parentage:Y}=this;this._parentage=Array.isArray(Y)?(Y.push(z),Y):Y?[Y,z]:z}_removeParent(z){const{_parentage:Y}=this;Y===z?this._parentage=null:Array.isArray(Y)&&(0,re.P)(Y,z)}remove(z){const{_finalizers:Y}=this;Y&&(0,re.P)(Y,z),z instanceof le&&z._removeParent(this)}}le.EMPTY=(()=>{const ve=new le;return ve.closed=!0,ve})();const _e=le.EMPTY;function De(ve){return ve instanceof le||ve&&"closed"in ve&&(0,u.m)(ve.remove)&&(0,u.m)(ve.add)&&(0,u.m)(ve.unsubscribe)}function ke(ve){(0,u.m)(ve)?ve():ve.unsubscribe()}},2653:(It,Re,V)=>{V.d(Re,{config:()=>u});const u={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},6232:(It,Re,V)=>{V.d(Re,{E:()=>H});const H=new(V(5592).y)(le=>le.complete())},2459:(It,Re,V)=>{V.d(Re,{D:()=>Me});var u=V(4829),H=V(3093),O=V(5137),_e=V(5592),ke=V(4971),ve=V(4674),z=V(7103);function ae(pe,Ae){if(!pe)throw new Error("Iterable cannot be null");return new _e.y(He=>{(0,z.f)(He,Ae,()=>{const W=pe[Symbol.asyncIterator]();(0,z.f)(He,Ae,()=>{W.next().then(Oe=>{Oe.done?He.complete():He.next(Oe.value)})},0,!0)})})}var Ge=V(8382),Fe=V(4026),it=V(4266),Ue=V(3664),at=V(5726),Le=V(9853),Dt=V(541);function Me(pe,Ae){return Ae?function ce(pe,Ae){if(null!=pe){if((0,Ge.c)(pe))return function re(pe,Ae){return(0,u.Xf)(pe).pipe((0,O.R)(Ae),(0,H.Q)(Ae))}(pe,Ae);if((0,it.z)(pe))return function De(pe,Ae){return new _e.y(He=>{let W=0;return Ae.schedule(function(){W===pe.length?He.complete():(He.next(pe[W++]),He.closed||this.schedule())})})}(pe,Ae);if((0,Fe.t)(pe))return function le(pe,Ae){return(0,u.Xf)(pe).pipe((0,O.R)(Ae),(0,H.Q)(Ae))}(pe,Ae);if((0,at.D)(pe))return ae(pe,Ae);if((0,Ue.T)(pe))return function Y(pe,Ae){return new _e.y(He=>{let W;return(0,z.f)(He,Ae,()=>{W=pe[ke.h](),(0,z.f)(He,Ae,()=>{let Oe,et;try{({value:Oe,done:et}=W.next())}catch(Rt){return void He.error(Rt)}et?He.complete():He.next(Oe)},0,!0)}),()=>(0,ve.m)(W?.return)&&W.return()})}(pe,Ae);if((0,Dt.L)(pe))return function wt(pe,Ae){return ae((0,Dt.Q)(pe),Ae)}(pe,Ae)}throw(0,Le.z)(pe)}(pe,Ae):(0,u.Xf)(pe)}},4829:(It,Re,V)=>{V.d(Re,{Xf:()=>Ge});var u=V(7582),H=V(4266),O=V(4026),re=V(5592),le=V(8382),_e=V(5726),De=V(9853),ke=V(3664),ve=V(541),z=V(4674),Y=V(3894),ae=V(4850);function Ge(ce){if(ce instanceof re.y)return ce;if(null!=ce){if((0,le.c)(ce))return function Fe(ce){return new re.y(Me=>{const pe=ce[ae.L]();if((0,z.m)(pe.subscribe))return pe.subscribe(Me);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(ce);if((0,H.z)(ce))return function it(ce){return new re.y(Me=>{for(let pe=0;pe<ce.length&&!Me.closed;pe++)Me.next(ce[pe]);Me.complete()})}(ce);if((0,O.t)(ce))return function Ue(ce){return new re.y(Me=>{ce.then(pe=>{Me.closed||(Me.next(pe),Me.complete())},pe=>Me.error(pe)).then(null,Y.h)})}(ce);if((0,_e.D)(ce))return Le(ce);if((0,ke.T)(ce))return function at(ce){return new re.y(Me=>{for(const pe of ce)if(Me.next(pe),Me.closed)return;Me.complete()})}(ce);if((0,ve.L)(ce))return function Dt(ce){return Le((0,ve.Q)(ce))}(ce)}throw(0,De.z)(ce)}function Le(ce){return new re.y(Me=>{(function wt(ce,Me){var pe,Ae,He,W;return(0,u.mG)(this,void 0,void 0,function*(){try{for(pe=(0,u.KL)(ce);!(Ae=yield pe.next()).done;)if(Me.next(Ae.value),Me.closed)return}catch(Oe){He={error:Oe}}finally{try{Ae&&!Ae.done&&(W=pe.return)&&(yield W.call(pe))}finally{if(He)throw He.error}}Me.complete()})})(ce,Me).catch(pe=>Me.error(pe))})}},3019:(It,Re,V)=>{V.d(Re,{T:()=>_e});var u=V(7537),H=V(4829),O=V(6232),re=V(9940),le=V(2459);function _e(...De){const ke=(0,re.yG)(De),ve=(0,re._6)(De,1/0),z=De;return z.length?1===z.length?(0,H.Xf)(z[0]):(0,u.J)(ve)((0,le.D)(z,ke)):O.E}},2096:(It,Re,V)=>{V.d(Re,{of:()=>O});var u=V(9940),H=V(2459);function O(...re){const le=(0,u.yG)(re);return(0,H.D)(re,le)}},8251:(It,Re,V)=>{V.d(Re,{x:()=>H});var u=V(305);function H(re,le,_e,De,ke){return new O(re,le,_e,De,ke)}class O extends u.Lv{constructor(le,_e,De,ke,ve,z){super(le),this.onFinalize=ve,this.shouldUnsubscribe=z,this._next=_e?function(Y){try{_e(Y)}catch(ae){le.error(ae)}}:super._next,this._error=ke?function(Y){try{ke(Y)}catch(ae){le.error(ae)}finally{this.unsubscribe()}}:super._error,this._complete=De?function(){try{De()}catch(Y){le.error(Y)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var le;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:_e}=this;super.unsubscribe(),!_e&&(null===(le=this.onFinalize)||void 0===le||le.call(this))}}}},3997:(It,Re,V)=>{V.d(Re,{x:()=>re});var u=V(2737),H=V(9360),O=V(8251);function re(_e,De=u.y){return _e=_e??le,(0,H.e)((ke,ve)=>{let z,Y=!0;ke.subscribe((0,O.x)(ve,ae=>{const Ge=De(ae);(Y||!_e(z,Ge))&&(Y=!1,z=Ge,ve.next(ae))}))})}function le(_e,De){return _e===De}},7398:(It,Re,V)=>{V.d(Re,{U:()=>O});var u=V(9360),H=V(8251);function O(re,le){return(0,u.e)((_e,De)=>{let ke=0;_e.subscribe((0,H.x)(De,ve=>{De.next(re.call(le,ve,ke++))}))})}},7537:(It,Re,V)=>{V.d(Re,{J:()=>O});var u=V(1631),H=V(2737);function O(re=1/0){return(0,u.z)(H.y,re)}},1631:(It,Re,V)=>{V.d(Re,{z:()=>ke});var u=V(7398),H=V(4829),O=V(9360),re=V(7103),le=V(8251),De=V(4674);function ke(ve,z,Y=1/0){return(0,De.m)(z)?ke((ae,Ge)=>(0,u.U)((Fe,it)=>z(ae,Fe,Ge,it))((0,H.Xf)(ve(ae,Ge))),Y):("number"==typeof z&&(Y=z),(0,O.e)((ae,Ge)=>function _e(ve,z,Y,ae,Ge,Fe,it,Ue){const at=[];let Le=0,Dt=0,wt=!1;const ce=()=>{wt&&!at.length&&!Le&&z.complete()},Me=Ae=>Le<ae?pe(Ae):at.push(Ae),pe=Ae=>{Fe&&z.next(Ae),Le++;let He=!1;(0,H.Xf)(Y(Ae,Dt++)).subscribe((0,le.x)(z,W=>{Ge?.(W),Fe?Me(W):z.next(W)},()=>{He=!0},void 0,()=>{if(He)try{for(Le--;at.length&&Le<ae;){const W=at.shift();it?(0,re.f)(z,it,()=>pe(W)):pe(W)}ce()}catch(W){z.error(W)}}))};return ve.subscribe((0,le.x)(z,Me,()=>{wt=!0,ce()})),()=>{Ue?.()}}(ae,Ge,ve,Y)))}},3093:(It,Re,V)=>{V.d(Re,{Q:()=>re});var u=V(7103),H=V(9360),O=V(8251);function re(le,_e=0){return(0,H.e)((De,ke)=>{De.subscribe((0,O.x)(ke,ve=>(0,u.f)(ke,le,()=>ke.next(ve),_e),()=>(0,u.f)(ke,le,()=>ke.complete(),_e),ve=>(0,u.f)(ke,le,()=>ke.error(ve),_e)))})}},3020:(It,Re,V)=>{V.d(Re,{B:()=>le});var u=V(4829),H=V(8645),O=V(305),re=V(9360);function le(De={}){const{connector:ke=(()=>new H.x),resetOnError:ve=!0,resetOnComplete:z=!0,resetOnRefCountZero:Y=!0}=De;return ae=>{let Ge,Fe,it,Ue=0,at=!1,Le=!1;const Dt=()=>{Fe?.unsubscribe(),Fe=void 0},wt=()=>{Dt(),Ge=it=void 0,at=Le=!1},ce=()=>{const Me=Ge;wt(),Me?.unsubscribe()};return(0,re.e)((Me,pe)=>{Ue++,!Le&&!at&&Dt();const Ae=it=it??ke();pe.add(()=>{Ue--,0===Ue&&!Le&&!at&&(Fe=_e(ce,Y))}),Ae.subscribe(pe),!Ge&&Ue>0&&(Ge=new O.Hp({next:He=>Ae.next(He),error:He=>{Le=!0,Dt(),Fe=_e(wt,ve,He),Ae.error(He)},complete:()=>{at=!0,Dt(),Fe=_e(wt,z),Ae.complete()}}),(0,u.Xf)(Me).subscribe(Ge))})(ae)}}function _e(De,ke,...ve){if(!0===ke)return void De();if(!1===ke)return;const z=new O.Hp({next:()=>{z.unsubscribe(),De()}});return(0,u.Xf)(ke(...ve)).subscribe(z)}},5137:(It,Re,V)=>{V.d(Re,{R:()=>H});var u=V(9360);function H(O,re=0){return(0,u.e)((le,_e)=>{_e.add(O.schedule(()=>le.subscribe(_e),re))})}},4664:(It,Re,V)=>{V.d(Re,{w:()=>re});var u=V(4829),H=V(9360),O=V(8251);function re(le,_e){return(0,H.e)((De,ke)=>{let ve=null,z=0,Y=!1;const ae=()=>Y&&!ve&&ke.complete();De.subscribe((0,O.x)(ke,Ge=>{ve?.unsubscribe();let Fe=0;const it=z++;(0,u.Xf)(le(Ge,it)).subscribe(ve=(0,O.x)(ke,Ue=>ke.next(_e?_e(Ge,Ue,it,Fe++):Ue),()=>{ve=null,ae()}))},()=>{Y=!0,ae()}))})}},9397:(It,Re,V)=>{V.d(Re,{b:()=>le});var u=V(4674),H=V(9360),O=V(8251),re=V(2737);function le(_e,De,ke){const ve=(0,u.m)(_e)||De||ke?{next:_e,error:De,complete:ke}:_e;return ve?(0,H.e)((z,Y)=>{var ae;null===(ae=ve.subscribe)||void 0===ae||ae.call(ve);let Ge=!0;z.subscribe((0,O.x)(Y,Fe=>{var it;null===(it=ve.next)||void 0===it||it.call(ve,Fe),Y.next(Fe)},()=>{var Fe;Ge=!1,null===(Fe=ve.complete)||void 0===Fe||Fe.call(ve),Y.complete()},Fe=>{var it;Ge=!1,null===(it=ve.error)||void 0===it||it.call(ve,Fe),Y.error(Fe)},()=>{var Fe,it;Ge&&(null===(Fe=ve.unsubscribe)||void 0===Fe||Fe.call(ve)),null===(it=ve.finalize)||void 0===it||it.call(ve)}))}):re.y}},1954:(It,Re,V)=>{V.d(Re,{o:()=>le});var u=V(7394);class H extends u.w0{constructor(De,ke){super()}schedule(De,ke=0){return this}}const O={setInterval(_e,De,...ke){const{delegate:ve}=O;return ve?.setInterval?ve.setInterval(_e,De,...ke):setInterval(_e,De,...ke)},clearInterval(_e){const{delegate:De}=O;return(De?.clearInterval||clearInterval)(_e)},delegate:void 0};var re=V(9039);class le extends H{constructor(De,ke){super(De,ke),this.scheduler=De,this.work=ke,this.pending=!1}schedule(De,ke=0){var ve;if(this.closed)return this;this.state=De;const z=this.id,Y=this.scheduler;return null!=z&&(this.id=this.recycleAsyncId(Y,z,ke)),this.pending=!0,this.delay=ke,this.id=null!==(ve=this.id)&&void 0!==ve?ve:this.requestAsyncId(Y,this.id,ke),this}requestAsyncId(De,ke,ve=0){return O.setInterval(De.flush.bind(De,this),ve)}recycleAsyncId(De,ke,ve=0){if(null!=ve&&this.delay===ve&&!1===this.pending)return ke;null!=ke&&O.clearInterval(ke)}execute(De,ke){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ve=this._execute(De,ke);if(ve)return ve;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(De,ke){let z,ve=!1;try{this.work(De)}catch(Y){ve=!0,z=Y||new Error("Scheduled action threw falsy error")}if(ve)return this.unsubscribe(),z}unsubscribe(){if(!this.closed){const{id:De,scheduler:ke}=this,{actions:ve}=ke;this.work=this.state=this.scheduler=null,this.pending=!1,(0,re.P)(ve,this),null!=De&&(this.id=this.recycleAsyncId(ke,De,null)),this.delay=null,super.unsubscribe()}}}},2631:(It,Re,V)=>{V.d(Re,{v:()=>O});var u=V(4552);class H{constructor(le,_e=H.now){this.schedulerActionCtor=le,this.now=_e}schedule(le,_e=0,De){return new this.schedulerActionCtor(this,le).schedule(De,_e)}}H.now=u.l.now;class O extends H{constructor(le,_e=H.now){super(le,_e),this.actions=[],this._active=!1}flush(le){const{actions:_e}=this;if(this._active)return void _e.push(le);let De;this._active=!0;do{if(De=le.execute(le.state,le.delay))break}while(le=_e.shift());if(this._active=!1,De){for(;le=_e.shift();)le.unsubscribe();throw De}}}},6321:(It,Re,V)=>{V.d(Re,{P:()=>re,z:()=>O});var u=V(1954);const O=new(V(2631).v)(u.o),re=O},4552:(It,Re,V)=>{V.d(Re,{l:()=>u});const u={now:()=>(u.delegate||Date).now(),delegate:void 0}},7599:(It,Re,V)=>{V.d(Re,{z:()=>u});const u={setTimeout(H,O,...re){const{delegate:le}=u;return le?.setTimeout?le.setTimeout(H,O,...re):setTimeout(H,O,...re)},clearTimeout(H){const{delegate:O}=u;return(O?.clearTimeout||clearTimeout)(H)},delegate:void 0}},4971:(It,Re,V)=>{V.d(Re,{h:()=>H});const H=function u(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:(It,Re,V)=>{V.d(Re,{L:()=>u});const u="function"==typeof Symbol&&Symbol.observable||"@@observable"},9940:(It,Re,V)=>{V.d(Re,{_6:()=>_e,jO:()=>re,yG:()=>le});var u=V(4674),H=V(671);function O(De){return De[De.length-1]}function re(De){return(0,u.m)(O(De))?De.pop():void 0}function le(De){return(0,H.K)(O(De))?De.pop():void 0}function _e(De,ke){return"number"==typeof O(De)?De.pop():ke}},9039:(It,Re,V)=>{function u(H,O){if(H){const re=H.indexOf(O);0<=re&&H.splice(re,1)}}V.d(Re,{P:()=>u})},2306:(It,Re,V)=>{function u(H){const re=H(le=>{Error.call(le),le.stack=(new Error).stack});return re.prototype=Object.create(Error.prototype),re.prototype.constructor=re,re}V.d(Re,{d:()=>u})},1441:(It,Re,V)=>{V.d(Re,{O:()=>re,x:()=>O});var u=V(2653);let H=null;function O(le){if(u.config.useDeprecatedSynchronousErrorHandling){const _e=!H;if(_e&&(H={errorThrown:!1,error:null}),le(),_e){const{errorThrown:De,error:ke}=H;if(H=null,De)throw ke}}else le()}function re(le){u.config.useDeprecatedSynchronousErrorHandling&&H&&(H.errorThrown=!0,H.error=le)}},7103:(It,Re,V)=>{function u(H,O,re,le=0,_e=!1){const De=O.schedule(function(){re(),_e?H.add(this.schedule(null,le)):this.unsubscribe()},le);if(H.add(De),!_e)return De}V.d(Re,{f:()=>u})},2737:(It,Re,V)=>{function u(H){return H}V.d(Re,{y:()=>u})},4266:(It,Re,V)=>{V.d(Re,{z:()=>u});const u=H=>H&&"number"==typeof H.length&&"function"!=typeof H},5726:(It,Re,V)=>{V.d(Re,{D:()=>H});var u=V(4674);function H(O){return Symbol.asyncIterator&&(0,u.m)(O?.[Symbol.asyncIterator])}},4674:(It,Re,V)=>{function u(H){return"function"==typeof H}V.d(Re,{m:()=>u})},8382:(It,Re,V)=>{V.d(Re,{c:()=>O});var u=V(4850),H=V(4674);function O(re){return(0,H.m)(re[u.L])}},3664:(It,Re,V)=>{V.d(Re,{T:()=>O});var u=V(4971),H=V(4674);function O(re){return(0,H.m)(re?.[u.h])}},4026:(It,Re,V)=>{V.d(Re,{t:()=>H});var u=V(4674);function H(O){return(0,u.m)(O?.then)}},541:(It,Re,V)=>{V.d(Re,{L:()=>re,Q:()=>O});var u=V(7582),H=V(4674);function O(le){return(0,u.FC)(this,arguments,function*(){const De=le.getReader();try{for(;;){const{value:ke,done:ve}=yield(0,u.qq)(De.read());if(ve)return yield(0,u.qq)(void 0);yield yield(0,u.qq)(ke)}}finally{De.releaseLock()}})}function re(le){return(0,H.m)(le?.getReader)}},671:(It,Re,V)=>{V.d(Re,{K:()=>H});var u=V(4674);function H(O){return O&&(0,u.m)(O.schedule)}},9360:(It,Re,V)=>{V.d(Re,{A:()=>H,e:()=>O});var u=V(4674);function H(re){return(0,u.m)(re?.lift)}function O(re){return le=>{if(H(le))return le.lift(function(_e){try{return re(_e,this)}catch(De){this.error(De)}});throw new TypeError("Unable to lift unknown Observable type")}}},2420:(It,Re,V)=>{function u(){}V.d(Re,{Z:()=>u})},8407:(It,Re,V)=>{V.d(Re,{U:()=>O,z:()=>H});var u=V(2737);function H(...re){return O(re)}function O(re){return 0===re.length?u.y:1===re.length?re[0]:function(_e){return re.reduce((De,ke)=>ke(De),_e)}}},3894:(It,Re,V)=>{V.d(Re,{h:()=>O});var u=V(2653),H=V(7599);function O(re){H.z.setTimeout(()=>{const{onUnhandledError:le}=u.config;if(!le)throw re;le(re)})}},9853:(It,Re,V)=>{function u(H){return new TypeError(`You provided ${null!==H&&"object"==typeof H?"an invalid object":`'${H}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}V.d(Re,{z:()=>u})},5879:(It,Re,V)=>{V.d(Re,{$8M:()=>gl,$WT:()=>ac,$Z:()=>qE,AFp:()=>jD,ALo:()=>ub,AaK:()=>ae,BQk:()=>Gg,CHM:()=>is,CRH:()=>vb,EJc:()=>Px,EpF:()=>Dh,F$t:()=>Et,F4k:()=>Ai,FYo:()=>BP,FiY:()=>me,Gf:()=>yb,GfV:()=>jP,GkF:()=>wI,Gpc:()=>it,HDt:()=>Yh,Hsn:()=>Pt,JOm:()=>Qm,KtG:()=>zd,LFG:()=>rt,LSH:()=>bE,Lbi:()=>gg,Lck:()=>Ol,MAs:()=>Gi,MMx:()=>tw,MR2:()=>DE,NdJ:()=>Ku,Ojb:()=>zD,OlP:()=>kn,Oqu:()=>MI,P3R:()=>AP,PXZ:()=>__,Q6J:()=>Ep,QGY:()=>Nv,QbO:()=>rp,Qsj:()=>BV,R0b:()=>zi,RDi:()=>_D,Rgc:()=>Up,SBq:()=>sp,Sil:()=>Nb,Suo:()=>mx,TTD:()=>mu,TgZ:()=>Ch,Tol:()=>tS,Udp:()=>Zg,VuI:()=>hT,X6Q:()=>RN,XFs:()=>Nt,Xpm:()=>tu,Xq5:()=>cI,Xts:()=>fg,Y36:()=>ju,YKP:()=>Uh,YNc:()=>Mv,Yjl:()=>su,Yz7:()=>bt,Z0I:()=>En,ZZ4:()=>I_,_Bn:()=>qS,_UZ:()=>Wu,_c5:()=>NN,_uU:()=>oS,aQg:()=>iT,c2e:()=>Pb,cJS:()=>Zn,cg1:()=>Lc,dDg:()=>DN,dqk:()=>en,eFA:()=>$l,eJc:()=>Wh,ekj:()=>he,eoX:()=>Ux,f3M:()=>pt,g9A:()=>ch,h0i:()=>td,hGG:()=>oT,hij:()=>Uv,iGM:()=>Ul,ifc:()=>eo,ip1:()=>Mx,jDz:()=>nw,kL8:()=>Ph,lG2:()=>oc,lcZ:()=>db,lqb:()=>Ac,lri:()=>Sw,n5z:()=>$f,oAB:()=>bd,oxw:()=>$o,q4F:()=>$P,qFp:()=>b_,qLn:()=>fa,qOj:()=>bv,qZA:()=>Hg,rWj:()=>Hb,rg0:()=>Ld,s9C:()=>bI,sBO:()=>Xb,s_b:()=>Hh,soG:()=>Iw,tb:()=>Qh,tp0:()=>ut,uIk:()=>Fg,vHH:()=>ce,vpe:()=>pa,wAp:()=>_a,xi3:()=>Vp,xp6:()=>cv,ynx:()=>kv,z2F:()=>Xh,zSh:()=>tp,zs3:()=>xc});var u=V(8645),H=V(7394),O=V(5592),re=V(3019),le=V(5619),_e=V(2096),De=V(3020),ke=V(4664),ve=V(3997);function z(o){for(let a in o)if(o[a]===z)return a;throw Error("Could not find renamed property on target object.")}function Y(o,a){for(const l in a)a.hasOwnProperty(l)&&!o.hasOwnProperty(l)&&(o[l]=a[l])}function ae(o){if("string"==typeof o)return o;if(Array.isArray(o))return"["+o.map(ae).join(", ")+"]";if(null==o)return""+o;if(o.overriddenName)return`${o.overriddenName}`;if(o.name)return`${o.name}`;const a=o.toString();if(null==a)return""+a;const l=a.indexOf("\n");return-1===l?a:a.substring(0,l)}function Ge(o,a){return null==o||""===o?null===a?"":a:null==a||""===a?o:o+" "+a}const Fe=z({__forward_ref__:z});function it(o){return o.__forward_ref__=it,o.toString=function(){return ae(this())},o}function Ue(o){return at(o)?o():o}function at(o){return"function"==typeof o&&o.hasOwnProperty(Fe)&&o.__forward_ref__===it}function Le(o){return o&&!!o.\u0275providers}const wt="https://g.co/ng/security#xss";class ce extends Error{constructor(a,l){super(function Me(o,a){return`NG0${Math.abs(o)}${a?": "+a:""}`}(a,l)),this.code=a}}function pe(o){return"string"==typeof o?o:null==o?"":String(o)}function et(o,a){throw new ce(-201,!1)}function ot(o,a){null==o&&function tt(o,a,l,d){throw new Error(`ASSERTION ERROR: ${o}`+(null==d?"":` [Expected=> ${l} ${d} ${a} <=Actual]`))}(a,o,null,"!=")}function bt(o){return{token:o.token,providedIn:o.providedIn||null,factory:o.factory,value:void 0}}function Zn(o){return{providers:o.providers||[],imports:o.imports||[]}}function zn(o){return fr(o,qn)||fr(o,ri)}function En(o){return null!==zn(o)}function fr(o,a){return o.hasOwnProperty(a)?o[a]:null}function Rr(o){return o&&(o.hasOwnProperty(Jn)||o.hasOwnProperty(ms))?o[Jn]:null}const qn=z({\u0275prov:z}),Jn=z({\u0275inj:z}),ri=z({ngInjectableDef:z}),ms=z({ngInjectorDef:z});var Nt=function(o){return o[o.Default=0]="Default",o[o.Host=1]="Host",o[o.Self=2]="Self",o[o.SkipSelf=4]="SkipSelf",o[o.Optional=8]="Optional",o}(Nt||{});let Ft;function an(o){const a=Ft;return Ft=o,a}function pr(o,a,l){const d=zn(o);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:l&Nt.Optional?null:void 0!==a?a:void et(ae(o))}const en=globalThis,We={},yt="__NG_DI_FLAG__",Tt="ngTempTokenPath",q=/\n/gm,U="__source";let B;function se(o){const a=B;return B=o,a}function Ne(o,a=Nt.Default){if(void 0===B)throw new ce(-203,!1);return null===B?pr(o,void 0,a):B.get(o,a&Nt.Optional?null:void 0,a)}function rt(o,a=Nt.Default){return(function Wt(){return Ft}()||Ne)(Ue(o),a)}function pt(o,a=Nt.Default){return rt(o,In(a))}function In(o){return typeof o>"u"||"number"==typeof o?o:0|(o.optional&&8)|(o.host&&1)|(o.self&&2)|(o.skipSelf&&4)}function Kt(o){const a=[];for(let l=0;l<o.length;l++){const d=Ue(o[l]);if(Array.isArray(d)){if(0===d.length)throw new ce(900,!1);let f,m=Nt.Default;for(let v=0;v<d.length;v++){const E=d[v],C=tn(E);"number"==typeof C?-1===C?f=E.token:m|=C:f=E}a.push(rt(f,m))}else a.push(rt(d))}return a}function Pn(o,a){return o[yt]=a,o.prototype[yt]=a,o}function tn(o){return o[yt]}function Ao(o){return{toString:o}.toString()}var Js=function(o){return o[o.OnPush=0]="OnPush",o[o.Default=1]="Default",o}(Js||{}),eo=function(o){return o[o.Emulated=0]="Emulated",o[o.None=2]="None",o[o.ShadowDom=3]="ShadowDom",o}(eo||{});const _s={},pn=[],Qo=z({\u0275cmp:z}),tc=z({\u0275dir:z}),Ql=z({\u0275pipe:z}),Xl=z({\u0275mod:z}),So=z({\u0275fac:z}),nc=z({__NG_ELEMENT_ID__:z}),rc=z({__NG_ENV_ID__:z});function vd(o,a,l){let d=o.length;for(;;){const f=o.indexOf(a,l);if(-1===f)return f;if(0===f||o.charCodeAt(f-1)<=32){const m=a.length;if(f+m===d||o.charCodeAt(f+m)<=32)return f}l=f+1}}function ic(o,a,l){let d=0;for(;d<l.length;){const f=l[d];if("number"==typeof f){if(0!==f)break;d++;const m=l[d++],v=l[d++],E=l[d++];o.setAttribute(a,v,E,m)}else{const m=f,v=l[++d];Ia(m)?o.setProperty(a,m,v):o.setAttribute(a,m,v),d++}}return d}function xo(o){return 3===o||4===o||6===o}function Ia(o){return 64===o.charCodeAt(0)}function Hc(o,a){if(null!==a&&0!==a.length)if(null===o||0===o.length)o=a.slice();else{let l=-1;for(let d=0;d<a.length;d++){const f=a[d];"number"==typeof f?l=f:0===l||sc(o,l,f,null,-1===l||2===l?a[++d]:null)}}return o}function sc(o,a,l,d,f){let m=0,v=o.length;if(-1===a)v=-1;else for(;m<o.length;){const E=o[m++];if("number"==typeof E){if(E===a){v=-1;break}if(E>a){v=m-1;break}}}for(;m<o.length;){const E=o[m];if("number"==typeof E)break;if(E===l){if(null===d)return void(null!==f&&(o[m+1]=f));if(d===o[m+1])return void(o[m+2]=f)}m++,null!==d&&m++,null!==f&&m++}-1!==v&&(o.splice(v,0,a),m=v+1),o.splice(m++,0,l),null!==d&&o.splice(m++,0,d),null!==f&&o.splice(m++,0,f)}const cr="ng-template";function ly(o,a,l){let d=0,f=!0;for(;d<o.length;){let m=o[d++];if("string"==typeof m&&f){const v=o[d++];if(l&&"class"===m&&-1!==vd(v.toLowerCase(),a,0))return!0}else{if(1===m){for(;d<o.length&&"string"==typeof(m=o[d++]);)if(m.toLowerCase()===a)return!0;return!1}"number"==typeof m&&(f=!1)}}return!1}function ys(o){return 4===o.type&&o.value!==cr}function uy(o,a,l){return a===(4!==o.type||l?o.value:cr)}function mf(o,a,l){let d=4;const f=o.attrs||[],m=function qc(o){for(let a=0;a<o.length;a++)if(xo(o[a]))return a;return o.length}(f);let v=!1;for(let E=0;E<a.length;E++){const C=a[E];if("number"!=typeof C){if(!v)if(4&d){if(d=2|1&d,""!==C&&!uy(o,C,l)||""===C&&1===a.length){if(Fi(d))return!1;v=!0}}else{const x=8&d?C:a[++E];if(8&d&&null!==o.attrs){if(!ly(o.attrs,x,l)){if(Fi(d))return!1;v=!0}continue}const $=Gc(8&d?"class":C,f,ys(o),l);if(-1===$){if(Fi(d))return!1;v=!0;continue}if(""!==x){let ee;ee=$>m?"":f[$+1].toLowerCase();const oe=8&d?ee:null;if(oe&&-1!==vd(oe,x,0)||2&d&&x!==ee){if(Fi(d))return!1;v=!0}}}}else{if(!v&&!Fi(d)&&!Fi(C))return!1;if(v&&Fi(C))continue;v=!1,d=C|1&d}}return Fi(d)||v}function Fi(o){return 0==(1&o)}function Gc(o,a,l,d){if(null===a)return-1;let f=0;if(d||!l){let m=!1;for(;f<a.length;){const v=a[f];if(v===o)return f;if(3===v||6===v)m=!0;else{if(1===v||2===v){let E=a[++f];for(;"string"==typeof E;)E=a[++f];continue}if(4===v)break;if(0===v){f+=4;continue}}f+=m?1:2}return-1}return function wd(o,a){let l=o.indexOf(4);if(l>-1)for(l++;l<o.length;){const d=o[l];if("number"==typeof d)return-1;if(d===a)return l;l++}return-1}(a,o)}function Jl(o,a,l=!1){for(let d=0;d<a.length;d++)if(mf(o,a[d],l))return!0;return!1}function gf(o,a){e:for(let l=0;l<a.length;l++){const d=a[l];if(o.length===d.length){for(let f=0;f<o.length;f++)if(o[f]!==d[f])continue e;return!0}}return!1}function eu(o,a){return o?":not("+a.trim()+")":a}function Ed(o){let a=o[0],l=1,d=2,f="",m=!1;for(;l<o.length;){let v=o[l];if("string"==typeof v)if(2&d){const E=o[++l];f+="["+v+(E.length>0?'="'+E+'"':"")+"]"}else 8&d?f+="."+v:4&d&&(f+=" "+v);else""!==f&&!Fi(v)&&(a+=eu(m,f),f=""),d=v,m=m||!Fi(d);l++}return""!==f&&(a+=eu(m,f)),a}function tu(o){return Ao(()=>{const a=Sm(o),l={...a,decls:o.decls,vars:o.vars,template:o.template,consts:o.consts||null,ngContentSelectors:o.ngContentSelectors,onPush:o.changeDetection===Js.OnPush,directiveDefs:null,pipeDefs:null,dependencies:a.standalone&&o.dependencies||null,getStandaloneInjector:null,signals:o.signals??!1,data:o.data||{},encapsulation:o.encapsulation||eo.Emulated,styles:o.styles||pn,_:null,schemas:o.schemas||null,tView:null,id:""};Td(l);const d=o.dependencies;return l.directiveDefs=ba(d,!1),l.pipeDefs=ba(d,!0),l.id=function cc(o){let a=0;const l=[o.selectors,o.ngContentSelectors,o.hostVars,o.hostAttrs,o.consts,o.vars,o.decls,o.encapsulation,o.standalone,o.signals,o.exportAs,JSON.stringify(o.inputs),JSON.stringify(o.outputs),Object.getOwnPropertyNames(o.type.prototype),!!o.contentQueries,!!o.viewQuery].join("|");for(const f of l)a=Math.imul(31,a)+f.charCodeAt(0)<<0;return a+=2147483648,"c"+a}(l),l})}function nu(o){return dn(o)||Mr(o)}function Id(o){return null!==o}function bd(o){return Ao(()=>({type:o.type,bootstrap:o.bootstrap||pn,declarations:o.declarations||pn,imports:o.imports||pn,exports:o.exports||pn,transitiveCompileScopes:null,schemas:o.schemas||null,id:o.id||null}))}function iu(o,a){if(null==o)return _s;const l={};for(const d in o)if(o.hasOwnProperty(d)){let f=o[d],m=f;Array.isArray(f)&&(m=f[1],f=f[0]),l[f]=d,a&&(a[f]=m)}return l}function oc(o){return Ao(()=>{const a=Sm(o);return Td(a),a})}function su(o){return{type:o.type,name:o.name,factory:null,pure:!1!==o.pure,standalone:!0===o.standalone,onDestroy:o.type.prototype.ngOnDestroy||null}}function dn(o){return o[Qo]||null}function Mr(o){return o[tc]||null}function Yr(o){return o[Ql]||null}function ac(o){const a=dn(o)||Mr(o)||Yr(o);return null!==a&&a.standalone}function Qr(o,a){const l=o[Xl]||null;if(!l&&!0===a)throw new Error(`Type ${ae(o)} does not have '\u0275mod' property.`);return l}function Sm(o){const a={};return{type:o.type,providersResolver:null,factory:null,hostBindings:o.hostBindings||null,hostVars:o.hostVars||0,hostAttrs:o.hostAttrs||null,contentQueries:o.contentQueries||null,declaredInputs:a,inputTransforms:null,inputConfig:o.inputs||_s,exportAs:o.exportAs||null,standalone:!0===o.standalone,signals:!0===o.signals,selectors:o.selectors||pn,viewQuery:o.viewQuery||null,features:o.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:iu(o.inputs,a),outputs:iu(o.outputs)}}function Td(o){o.features?.forEach(a=>a(o))}function ba(o,a){if(!o)return null;const l=a?Yr:nu;return()=>("function"==typeof o?o():o).map(d=>l(d)).filter(Id)}const lr=0,ct=1,Yt=2,Un=3,Xi=4,Ro=5,wi=6,Ta=7,er=8,Mo=9,Jo=10,Lt=11,Ls=12,_f=13,Ji=14,Pr=15,lc=16,es=17,Ei=18,ea=19,ou=20,Ca=21,vs=22,au=23,ts=24,cn=25,Dd=1,uc=2,Xr=7,ta=9,kr=11;function ai(o){return Array.isArray(o)&&"object"==typeof o[Dd]}function ci(o){return Array.isArray(o)&&!0===o[Dd]}function Ad(o){return 0!=(4&o.flags)}function Po(o){return o.componentOffset>-1}function ns(o){return 1==(1&o.flags)}function Vi(o){return!!o.template}function Aa(o){return 0!=(512&o[Yt])}function ko(o,a){return o.hasOwnProperty(So)?o[So]:null}let Er=null,Kc=!1;function li(o){const a=Er;return Er=o,a}const Sa={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function Md(o){if(!Qc(o)||o.dirty){if(!o.producerMustRecompute(o)&&!Fm(o))return void(o.dirty=!1);o.producerRecomputeValue(o),o.dirty=!1}}function Pd(o){o.dirty=!0,function Ef(o){if(void 0===o.liveConsumerNode)return;const a=Kc;Kc=!0;try{for(const l of o.liveConsumerNode)l.dirty||Pd(l)}finally{Kc=a}}(o),o.consumerMarkedDirty?.(o)}function kd(o){return o&&(o.nextProducerIndex=0),li(o)}function mr(o,a){if(li(a),o&&void 0!==o.producerNode&&void 0!==o.producerIndexOfThis&&void 0!==o.producerLastReadVersion){if(Qc(o))for(let l=o.nextProducerIndex;l<o.producerNode.length;l++)xa(o.producerNode[l],o.producerIndexOfThis[l]);for(let l=o.nextProducerIndex;l<o.producerNode.length;l++)o.producerNode.pop(),o.producerLastReadVersion.pop(),o.producerIndexOfThis.pop()}}function Fm(o){to(o);for(let a=0;a<o.producerNode.length;a++){const l=o.producerNode[a],d=o.producerLastReadVersion[a];if(d!==l.version||(Md(l),d!==l.version))return!0}return!1}function Yc(o){if(to(o),Qc(o))for(let a=0;a<o.producerNode.length;a++)xa(o.producerNode[a],o.producerIndexOfThis[a]);o.producerNode.length=o.producerLastReadVersion.length=o.producerIndexOfThis.length=0,o.liveConsumerNode&&(o.liveConsumerNode.length=o.liveConsumerIndexOfThis.length=0)}function xa(o,a){if(function Nd(o){o.liveConsumerNode??=[],o.liveConsumerIndexOfThis??=[]}(o),to(o),1===o.liveConsumerNode.length)for(let d=0;d<o.producerNode.length;d++)xa(o.producerNode[d],o.producerIndexOfThis[d]);const l=o.liveConsumerNode.length-1;if(o.liveConsumerNode[a]=o.liveConsumerNode[l],o.liveConsumerIndexOfThis[a]=o.liveConsumerIndexOfThis[l],o.liveConsumerNode.length--,o.liveConsumerIndexOfThis.length--,a<o.liveConsumerNode.length){const d=o.liveConsumerIndexOfThis[a],f=o.liveConsumerNode[a];to(f),f.producerIndexOfThis[d]=a}}function Qc(o){return o.consumerIsAlwaysLive||(o?.liveConsumerNode?.length??0)>0}function to(o){o.producerNode??=[],o.producerIndexOfThis??=[],o.producerLastReadVersion??=[]}let bf=null;function Ld(o){const a=li(null);try{return o()}finally{li(a)}}const Vd=()=>{},py={...Sa,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:o=>{o.schedule(o.ref)},hasRun:!1,cleanupFn:Vd};class Bm{constructor(a,l,d){this.previousValue=a,this.currentValue=l,this.firstChange=d}isFirstChange(){return this.firstChange}}function mu(){return rl}function rl(o){return o.type.prototype.ngOnChanges&&(o.setInput=Us),gu}function gu(){const o=il(this),a=o?.current;if(a){const l=o.previous;if(l===_s)o.previous=a;else for(let d in a)l[d]=a[d];o.current=null,this.ngOnChanges(a)}}function Us(o,a,l,d){const f=this.declaredInputs[l],m=il(o)||function Af(o,a){return o[fc]=a}(o,{previous:_s,current:null}),v=m.current||(m.current={}),E=m.previous,C=E[f];v[f]=new Bm(C&&C.currentValue,a,E===_s),o[d]=a}mu.ngInherit=!0;const fc="__ngSimpleChanges__";function il(o){return o[fc]||null}const ws=function(o,a,l){};function Cn(o){for(;Array.isArray(o);)o=o[lr];return o}function no(o,a){return Cn(a[o])}function Ii(o,a){return Cn(a[o.index])}function Bd(o,a){return o.data[a]}function Ra(o,a){return o[a]}function ui(o,a){const l=a[o];return ai(l)?l:l[lr]}function Ma(o,a){return null==a?null:o[a]}function jm(o){o[es]=0}function Pa(o){1024&o[Yt]||(o[Yt]|=1024,Nr(o,1))}function _y(o){1024&o[Yt]&&(o[Yt]&=-1025,Nr(o,-1))}function Nr(o,a){let l=o[Un];if(null===l)return;l[Ro]+=a;let d=l;for(l=l[Un];null!==l&&(1===a&&1===d[Ro]||-1===a&&0===d[Ro]);)l[Ro]+=a,d=l,l=l[Un]}const zt={lFrame:cl(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Ir(){return zt.bindingsEnabled}function ia(){return null!==zt.skipHydrationRootTNode}function Ve(){return zt.lFrame.lView}function mn(){return zt.lFrame.tView}function is(o){return zt.lFrame.contextLView=o,o[er]}function zd(o){return zt.lFrame.contextLView=null,o}function Jr(){let o=Eu();for(;null!==o&&64===o.type;)o=o.parent;return o}function Eu(){return zt.lFrame.currentTNode}function ro(o,a){const l=zt.lFrame;l.currentTNode=o,l.isParent=a}function kf(){return zt.lFrame.isParent}function Hd(){zt.lFrame.isParent=!1}function ei(){const o=zt.lFrame;let a=o.bindingRootIndex;return-1===a&&(a=o.bindingRootIndex=o.tView.bindingStartIndex),a}function ka(){return zt.lFrame.bindingIndex++}function so(o){const a=zt.lFrame,l=a.bindingIndex;return a.bindingIndex=a.bindingIndex+o,l}function Iu(o,a){const l=zt.lFrame;l.bindingIndex=l.bindingRootIndex=o,bu(a)}function bu(o){zt.lFrame.currentDirectiveIndex=o}function Wd(){return zt.lFrame.currentQueryIndex}function Ff(o){zt.lFrame.currentQueryIndex=o}function Lf(o){const a=o[ct];return 2===a.type?a.declTNode:1===a.type?o[wi]:null}function Kd(o,a,l){if(l&Nt.SkipSelf){let f=a,m=o;for(;!(f=f.parent,null!==f||l&Nt.Host||(f=Lf(m),null===f||(m=m[Ji],10&f.type))););if(null===f)return!1;a=f,o=m}const d=zt.lFrame=sa();return d.currentTNode=a,d.lView=o,!0}function di(o){const a=sa(),l=o[ct];zt.lFrame=a,a.currentTNode=l.firstChild,a.lView=o,a.tView=l,a.contextLView=o,a.bindingIndex=l.bindingStartIndex,a.inI18n=!1}function sa(){const o=zt.lFrame,a=null===o?null:o.child;return null===a?cl(o):a}function cl(o){const a={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:o,child:null,inI18n:!1};return null!==o&&(o.child=a),a}function Bn(){const o=zt.lFrame;return zt.lFrame=o.parent,o.currentTNode=null,o.lView=null,o}const xt=Bn;function br(){const o=Bn();o.isParent=!0,o.tView=null,o.selectedIndex=-1,o.contextLView=null,o.elementDepthCount=0,o.currentDirectiveIndex=-1,o.currentNamespace=null,o.bindingRootIndex=-1,o.bindingIndex=-1,o.currentQueryIndex=0}function bi(){return zt.lFrame.selectedIndex}function Bs(o){zt.lFrame.selectedIndex=o}function Yn(){const o=zt.lFrame;return Bd(o.tView,o.selectedIndex)}let oa=!0;function oo(){return oa}function ao(o){oa=o}function aa(o,a){for(let l=a.directiveStart,d=a.directiveEnd;l<d;l++){const m=o.data[l].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:E,ngAfterViewInit:C,ngAfterViewChecked:x,ngOnDestroy:k}=m;v&&(o.contentHooks??=[]).push(-l,v),E&&((o.contentHooks??=[]).push(l,E),(o.contentCheckHooks??=[]).push(l,E)),C&&(o.viewHooks??=[]).push(-l,C),x&&((o.viewHooks??=[]).push(l,x),(o.viewCheckHooks??=[]).push(l,x)),null!=k&&(o.destroyHooks??=[]).push(l,k)}}function _c(o,a,l){Yd(o,a,3,l)}function yc(o,a,l,d){(3&o[Yt])===l&&Yd(o,a,l,d)}function Cu(o,a){let l=o[Yt];(3&l)===a&&(l&=8191,l+=1,o[Yt]=l)}function Yd(o,a,l,d){const m=d??-1,v=a.length-1;let E=0;for(let C=void 0!==d?65535&o[es]:0;C<v;C++)if("number"==typeof a[C+1]){if(E=a[C],null!=d&&E>=d)break}else a[C]<0&&(o[es]+=65536),(E<m||-1==m)&&(ul(o,l,a,C),o[es]=(4294901760&o[es])+C+2),C++}function Na(o,a){ws(4,o,a);const l=li(null);try{a.call(o)}finally{li(l),ws(5,o,a)}}function ul(o,a,l,d){const f=l[d]<0,m=l[d+1],E=o[f?-l[d]:l[d]];f?o[Yt]>>13<o[es]>>16&&(3&o[Yt])===a&&(o[Yt]+=8192,Na(E,m)):Na(E,m)}const Es=-1;class Oa{constructor(a,l,d){this.factory=a,this.resolving=!1,this.canSeeViewProviders=l,this.injectImpl=d}}function vc(o){return o!==Es}function Fr(o){return 32767&o}function ss(o,a){let l=function Tr(o){return o>>16}(o),d=a;for(;l>0;)d=d[Ji],l--;return d}let La=!0;function Gr(o){const a=La;return La=o,a}const fl=255,xu=5;let Gm=0;const Cr={};function Qn(o,a){const l=Ru(o,a);if(-1!==l)return l;const d=a[ct];d.firstCreatePass&&(o.injectorIndex=a.length,os(d.data,o),os(a,null),os(d.blueprint,null));const f=Oo(o,a),m=o.injectorIndex;if(vc(f)){const v=Fr(f),E=ss(f,a),C=E[ct].data;for(let x=0;x<8;x++)a[m+x]=E[v+x]|C[v+x]}return a[m+8]=f,m}function os(o,a){o.push(0,0,0,0,0,0,0,0,a)}function Ru(o,a){return-1===o.injectorIndex||o.parent&&o.parent.injectorIndex===o.injectorIndex||null===a[o.injectorIndex+8]?-1:o.injectorIndex}function Oo(o,a){if(o.parent&&-1!==o.parent.injectorIndex)return o.parent.injectorIndex;let l=0,d=null,f=a;for(;null!==f;){if(d=Wm(f),null===d)return Es;if(l++,f=f[Ji],-1!==d.injectorIndex)return d.injectorIndex|l<<16}return Es}function la(o,a,l){!function ca(o,a,l){let d;"string"==typeof l?d=l.charCodeAt(0)||0:l.hasOwnProperty(nc)&&(d=l[nc]),null==d&&(d=l[nc]=Gm++);const f=d&fl;a.data[o+(f>>xu)]|=1<<f}(o,a,l)}function pl(o,a,l){if(l&Nt.Optional||void 0!==o)return o;et()}function ua(o,a,l,d){if(l&Nt.Optional&&void 0===d&&(d=null),!(l&(Nt.Self|Nt.Host))){const f=o[Mo],m=an(void 0);try{return f?f.get(a,d,l&Nt.Optional):pr(a,d,l&Nt.Optional)}finally{an(m)}}return pl(d,0,l)}function ml(o,a,l,d=Nt.Default,f){if(null!==o){if(2048&a[Yt]&&!(d&Nt.Self)){const v=function qm(o,a,l,d,f){let m=o,v=a;for(;null!==m&&null!==v&&2048&v[Yt]&&!(512&v[Yt]);){const E=Is(m,v,l,d|Nt.Self,Cr);if(E!==Cr)return E;let C=m.parent;if(!C){const x=v[ou];if(x){const k=x.get(l,Cr,d);if(k!==Cr)return k}C=Wm(v),v=v[Ji]}m=C}return f}(o,a,l,d,Cr);if(v!==Cr)return v}const m=Is(o,a,l,d,Cr);if(m!==Cr)return m}return ua(a,l,d,f)}function Is(o,a,l,d,f){const m=function da(o){if("string"==typeof o)return o.charCodeAt(0)||0;const a=o.hasOwnProperty(nc)?o[nc]:void 0;return"number"==typeof a?a>=0?a&fl:Bi:a}(l);if("function"==typeof m){if(!Kd(a,o,d))return d&Nt.Host?pl(f,0,d):ua(a,l,d,f);try{let v;if(v=m(d),null!=v||d&Nt.Optional)return v;et()}finally{xt()}}else if("number"==typeof m){let v=null,E=Ru(o,a),C=Es,x=d&Nt.Host?a[Pr][wi]:null;for((-1===E||d&Nt.SkipSelf)&&(C=-1===E?Oo(o,a):a[E+8],C!==Es&&Ua(d,!1)?(v=a[ct],E=Fr(C),a=ss(C,a)):E=-1);-1!==E;){const k=a[ct];if(Bf(m,E,k.data)){const $=Jt(E,a,l,v,d,x);if($!==Cr)return $}C=a[E+8],C!==Es&&Ua(d,a[ct].data[E+8]===x)&&Bf(m,E,a)?(v=k,E=Fr(C),a=ss(C,a)):E=-1}}return f}function Jt(o,a,l,d,f,m){const v=a[ct],E=v.data[o+8],k=Va(E,v,l,null==d?Po(E)&&La:d!=v&&0!=(3&E.type),f&Nt.Host&&m===E);return null!==k?wc(a,v,k,E):Cr}function Va(o,a,l,d,f){const m=o.providerIndexes,v=a.data,E=1048575&m,C=o.directiveStart,k=m>>20,ee=f?E+k:o.directiveEnd;for(let oe=d?E:E+k;oe<ee;oe++){const xe=v[oe];if(oe<C&&l===xe||oe>=C&&xe.type===l)return oe}if(f){const oe=v[C];if(oe&&Vi(oe)&&oe.type===l)return C}return null}function wc(o,a,l,d){let f=o[l];const m=a.data;if(function Du(o){return o instanceof Oa}(f)){const v=f;v.resolving&&function He(o,a){const l=a?`. Dependency path: ${a.join(" > ")} > ${o}`:"";throw new ce(-200,`Circular dependency in DI detected for ${o}${l}`)}(function Ae(o){return"function"==typeof o?o.name||o.toString():"object"==typeof o&&null!=o&&"function"==typeof o.type?o.type.name||o.type.toString():pe(o)}(m[l]));const E=Gr(v.canSeeViewProviders);v.resolving=!0;const x=v.injectImpl?an(v.injectImpl):null;Kd(o,d,Nt.Default);try{f=o[l]=v.factory(void 0,m,o,d),a.firstCreatePass&&l>=d.directiveStart&&function Wn(o,a,l){const{ngOnChanges:d,ngOnInit:f,ngDoCheck:m}=a.type.prototype;if(d){const v=rl(a);(l.preOrderHooks??=[]).push(o,v),(l.preOrderCheckHooks??=[]).push(o,v)}f&&(l.preOrderHooks??=[]).push(0-o,f),m&&((l.preOrderHooks??=[]).push(o,m),(l.preOrderCheckHooks??=[]).push(o,m))}(l,m[l],a)}finally{null!==x&&an(x),Gr(E),v.resolving=!1,xt()}}return f}function Bf(o,a,l){return!!(l[a+(o>>xu)]&1<<o)}function Ua(o,a){return!(o&Nt.Self||o&Nt.Host&&a)}class Lr{constructor(a,l){this._tNode=a,this._lView=l}get(a,l,d){return ml(this._tNode,this._lView,a,In(d),l)}}function Bi(){return new Lr(Jr(),Ve())}function $f(o){return Ao(()=>{const a=o.prototype.constructor,l=a[So]||co(a),d=Object.prototype;let f=Object.getPrototypeOf(o.prototype).constructor;for(;f&&f!==d;){const m=f[So]||co(f);if(m&&m!==l)return m;f=Object.getPrototypeOf(f)}return m=>new m})}function co(o){return at(o)?()=>{const a=co(Ue(o));return a&&a()}:ko(o)}function Wm(o){const a=o[ct],l=a.type;return 2===l?a.declTNode:1===l?o[wi]:null}function gl(o){return function Mu(o,a){if("class"===a)return o.classes;if("style"===a)return o.styles;const l=o.attrs;if(l){const d=l.length;let f=0;for(;f<d;){const m=l[f];if(xo(m))break;if(0===m)f+=2;else if("number"==typeof m)for(f++;f<d&&"string"==typeof l[f];)f++;else{if(m===a)return l[f+1];f+=2}}}return null}(Jr(),o)}const Ba="__parameters__";function R(o,a,l){return Ao(()=>{const d=function S(o){return function(...l){if(o){const d=o(...l);for(const f in d)this[f]=d[f]}}}(a);function f(...m){if(this instanceof f)return d.apply(this,m),this;const v=new f(...m);return E.annotation=v,E;function E(C,x,k){const $=C.hasOwnProperty(Ba)?C[Ba]:Object.defineProperty(C,Ba,{value:[]})[Ba];for(;$.length<=k;)$.push(null);return($[k]=$[k]||[]).push(v),C}}return l&&(f.prototype=Object.create(l.prototype)),f.prototype.ngMetadataName=o,f.annotationCls=f,f})}function ja(o,a){o.forEach(l=>Array.isArray(l)?ja(l,a):a(l))}function K0(o,a,l){a>=o.length?o.push(l):o.splice(a,0,l)}function Pu(o,a){return a>=o.length-1?o.pop():o.splice(a,1)[0]}function Ic(o,a){const l=[];for(let d=0;d<o;d++)l.push(a);return l}function js(o,a,l){let d=ku(o,a);return d>=0?o[1|d]=l:(d=~d,function Ey(o,a,l,d){let f=o.length;if(f==a)o.push(l,d);else if(1===f)o.push(d,o[0]),o[0]=l;else{for(f--,o.push(o[f-1],o[f]);f>a;)o[f]=o[f-2],f--;o[a]=l,o[a+1]=d}}(o,d,a,l)),d}function Km(o,a){const l=ku(o,a);if(l>=0)return o[1|l]}function ku(o,a){return function Hf(o,a,l){let d=0,f=o.length>>l;for(;f!==d;){const m=d+(f-d>>1),v=o[m<<l];if(a===v)return m<<l;v>a?f=m:d=m+1}return~(f<<l)}(o,a,1)}const me=Pn(R("Optional"),8),ut=Pn(R("SkipSelf"),4);function Ty(o){return 128==(128&o.flags)}var Qm=function(o){return o[o.Important=1]="Important",o[o.DashCase=2]="DashCase",o}(Qm||{});const rE=/^>|^->|<!--|-->|--!>|<!-$/g,tD=/(<|>)/g,iE="\u200b$1\u200b";const Xm=new Map;let JM=0;const Ay="__ngContext__";function Ts(o,a){ai(a)?(o[Ay]=a[ea],function nD(o){Xm.set(o[ea],o)}(a)):o[Ay]=a}let tg;function Lo(o,a){return tg(o,a)}function El(o){const a=o[Un];return ci(a)?a[Un]:a}function sD(o){return ng(o[Ls])}function aE(o){return ng(o[Xi])}function ng(o){for(;null!==o&&!ci(o);)o=o[Xi];return o}function Yf(o,a,l,d,f){if(null!=d){let m,v=!1;ci(d)?m=d:ai(d)&&(v=!0,d=d[lr]);const E=Cn(d);0===o&&null!==l?null==f?lD(a,l,E):sh(a,l,E,f||null,!0):1===o&&null!==l?sh(a,l,E,f||null,!0):2===o?function Py(o,a,l){const d=My(o,a);d&&function pP(o,a,l,d){o.removeChild(a,l,d)}(o,d,a,l)}(a,E,v):3===o&&a.destroyNode(E),null!=m&&function gP(o,a,l,d,f){const m=l[Xr];m!==Cn(l)&&Yf(a,o,d,m,f);for(let E=kr;E<l.length;E++){const C=l[E];cg(C[ct],C,o,a,d,m)}}(a,o,m,l,f)}}function rh(o,a){return o.createComment(function Cy(o){return o.replace(rE,a=>a.replace(tD,iE))}(a))}function xy(o,a,l){return o.createElement(a,l)}function oD(o,a){const l=o[ta],d=l.indexOf(a);_y(a),l.splice(d,1)}function Ry(o,a){if(o.length<=kr)return;const l=kr+a,d=o[l];if(d){const f=d[lc];null!==f&&f!==o&&oD(f,d),a>0&&(o[l-1][Xi]=d[Xi]);const m=Pu(o,kr+a);!function lP(o,a){cg(o,a,a[Lt],2,null,null),a[lr]=null,a[wi]=null}(d[ct],d);const v=m[Ei];null!==v&&v.detachView(m[ct]),d[Un]=null,d[Xi]=null,d[Yt]&=-129}return d}function cE(o,a){if(!(256&a[Yt])){const l=a[Lt];a[au]&&Yc(a[au]),a[ts]&&Yc(a[ts]),l.destroyNode&&cg(o,a,l,3,null,null),function uP(o){let a=o[Ls];if(!a)return aD(o[ct],o);for(;a;){let l=null;if(ai(a))l=a[Ls];else{const d=a[kr];d&&(l=d)}if(!l){for(;a&&!a[Xi]&&a!==o;)ai(a)&&aD(a[ct],a),a=a[Un];null===a&&(a=o),ai(a)&&aD(a[ct],a),l=a&&a[Xi]}a=l}}(a)}}function aD(o,a){if(!(256&a[Yt])){a[Yt]&=-129,a[Yt]|=256,function cD(o,a){let l;if(null!=o&&null!=(l=o.destroyHooks))for(let d=0;d<l.length;d+=2){const f=a[l[d]];if(!(f instanceof Oa)){const m=l[d+1];if(Array.isArray(m))for(let v=0;v<m.length;v+=2){const E=f[m[v]],C=m[v+1];ws(4,E,C);try{C.call(E)}finally{ws(5,E,C)}}else{ws(4,f,m);try{m.call(f)}finally{ws(5,f,m)}}}}}(o,a),function fP(o,a){const l=o.cleanup,d=a[Ta];if(null!==l)for(let m=0;m<l.length-1;m+=2)if("string"==typeof l[m]){const v=l[m+3];v>=0?d[v]():d[-v].unsubscribe(),m+=2}else l[m].call(d[l[m+1]]);null!==d&&(a[Ta]=null);const f=a[Ca];if(null!==f){a[Ca]=null;for(let m=0;m<f.length;m++)(0,f[m])()}}(o,a),1===a[ct].type&&a[Lt].destroy();const l=a[lc];if(null!==l&&ci(a[Un])){l!==a[Un]&&oD(l,a);const d=a[Ei];null!==d&&d.detachView(o)}!function Jm(o){Xm.delete(o[ea])}(a)}}function Qf(o,a,l){return function ih(o,a,l){let d=a;for(;null!==d&&40&d.type;)d=(a=d).parent;if(null===d)return l[lr];{const{componentOffset:f}=d;if(f>-1){const{encapsulation:m}=o.data[d.directiveStart+f];if(m===eo.None||m===eo.Emulated)return null}return Ii(d,l)}}(o,a.parent,l)}function sh(o,a,l,d,f){o.insertBefore(a,l,d,f)}function lD(o,a,l){o.appendChild(a,l)}function uD(o,a,l,d,f){null!==d?sh(o,a,l,d,f):lD(o,a,l)}function My(o,a){return o.parentNode(a)}function dD(o,a,l){return lE(o,a,l)}let uE,gD,Ny,lE=function hD(o,a,l){return 40&o.type?Ii(o,l):null};function og(o,a,l,d){const f=Qf(o,d,a),m=a[Lt],E=dD(d.parent||a[wi],d,a);if(null!=f)if(Array.isArray(l))for(let C=0;C<l.length;C++)uD(m,f,l[C],E,!1);else uD(m,f,l,E,!1);void 0!==uE&&uE(m,d,a,l,f)}function Cc(o,a){if(null!==a){const l=a.type;if(3&l)return Ii(a,o);if(4&l)return hE(-1,o[a.index]);if(8&l){const d=a.child;if(null!==d)return Cc(o,d);{const f=o[a.index];return ci(f)?hE(-1,f):Cn(f)}}if(32&l)return Lo(a,o)()||Cn(o[a.index]);{const d=dE(o,a);return null!==d?Array.isArray(d)?d[0]:Cc(El(o[Pr]),d):Cc(o,a.next)}}return null}function dE(o,a){return null!==a?o[Pr][wi].projection[a.projection]:null}function hE(o,a){const l=kr+o+1;if(l<a.length){const d=a[l],f=d[ct].firstChild;if(null!==f)return Cc(d,f)}return a[Xr]}function ag(o,a,l,d,f,m,v){for(;null!=l;){const E=d[l.index],C=l.type;if(v&&0===a&&(E&&Ts(Cn(E),d),l.flags|=2),32!=(32&l.flags))if(8&C)ag(o,a,l.child,d,f,m,!1),Yf(a,o,f,E,m);else if(32&C){const x=Lo(l,d);let k;for(;k=x();)Yf(a,o,f,k,m);Yf(a,o,f,E,m)}else 16&C?pE(o,a,d,l,f,m):Yf(a,o,f,E,m);l=v?l.projectionNext:l.next}}function cg(o,a,l,d,f,m){ag(l,d,o.firstChild,a,f,m,!1)}function pE(o,a,l,d,f,m){const v=l[Pr],C=v[wi].projection[d.projection];if(Array.isArray(C))for(let x=0;x<C.length;x++)Yf(a,o,f,C[x],m);else{let x=C;const k=v[Un];Ty(d)&&(x.flags|=128),ag(o,a,x,k,f,m,!0)}}function pD(o,a,l){""===l?o.removeAttribute(a,"class"):o.setAttribute(a,"class",l)}function lg(o,a,l){const{mergedAttrs:d,classes:f,styles:m}=l;null!==d&&ic(o,a,d),null!==f&&pD(o,a,f),null!==m&&function yP(o,a,l){o.setAttribute(a,"style",l)}(o,a,m)}function _D(o){gD=o}function wD(o){return function gE(){if(void 0===Ny&&(Ny=null,en.trustedTypes))try{Ny=en.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch{}return Ny}()?.createScriptURL(o)||o}class ED{constructor(a){this.changingThisBreaksApplicationSecurity=a}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${wt})`}}function Il(o){return o instanceof ED?o.changingThisBreaksApplicationSecurity:o}function Fu(o,a){const l=function bD(o){return o instanceof ED&&o.getTypeName()||null}(o);if(null!=l&&l!==a){if("ResourceURL"===l&&"URL"===a)return!0;throw new Error(`Required a safe ${a}, got a ${l} (see ${wt})`)}return l===a}const TD=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var ah=function(o){return o[o.NONE=0]="NONE",o[o.HTML=1]="HTML",o[o.STYLE=2]="STYLE",o[o.SCRIPT=3]="SCRIPT",o[o.URL=4]="URL",o[o.RESOURCE_URL=5]="RESOURCE_URL",o}(ah||{});function bE(o){const a=Vy();return a?a.sanitize(ah.URL,o)||"":Fu(o,"URL")?Il(o):function vE(o){return(o=String(o)).match(TD)?o:"unsafe:"+o}(pe(o))}function PD(o){const a=Vy();if(a)return wD(a.sanitize(ah.RESOURCE_URL,o)||"");if(Fu(o,"ResourceURL"))return wD(Il(o));throw new ce(904,!1)}function AP(o,a,l){return function MV(o,a){return"src"===a&&("embed"===o||"frame"===o||"iframe"===o||"media"===o||"script"===o)||"href"===a&&("base"===o||"link"===o)?PD:bE}(a,l)(o)}function Vy(){const o=Ve();return o&&o[Jo].sanitizer}class kn{constructor(a,l){this._desc=a,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof l?this.__NG_ELEMENT_ID__=l:void 0!==l&&(this.\u0275prov=bt({token:this,providedIn:l.providedIn||"root",factory:l.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const fg=new kn("ENVIRONMENT_INITIALIZER"),ND=new kn("INJECTOR",-1),TE=new kn("INJECTOR_DEF_TYPES");class CE{get(a,l=We){if(l===We){const d=new Error(`NullInjectorError: No provider for ${ae(a)}!`);throw d.name="NullInjectorError",d}return l}}function DE(o){return{\u0275providers:o}}function SP(...o){return{\u0275providers:OD(0,o),\u0275fromNgModule:!0}}function OD(o,...a){const l=[],d=new Set;let f;const m=v=>{l.push(v)};return ja(a,v=>{const E=v;pg(E,m,[],d)&&(f||=[],f.push(E))}),void 0!==f&&FD(f,m),l}function FD(o,a){for(let l=0;l<o.length;l++){const{ngModule:d,providers:f}=o[l];LD(f,m=>{a(m,d)})}}function pg(o,a,l,d){if(!(o=Ue(o)))return!1;let f=null,m=Rr(o);const v=!m&&dn(o);if(m||v){if(v&&!v.standalone)return!1;f=o}else{const C=o.ngModule;if(m=Rr(C),!m)return!1;f=C}const E=d.has(f);if(v){if(E)return!1;if(d.add(f),v.dependencies){const C="function"==typeof v.dependencies?v.dependencies():v.dependencies;for(const x of C)pg(x,a,l,d)}}else{if(!m)return!1;{if(null!=m.imports&&!E){let x;d.add(f);try{ja(m.imports,k=>{pg(k,a,l,d)&&(x||=[],x.push(k))})}finally{}void 0!==x&&FD(x,a)}if(!E){const x=ko(f)||(()=>new f);a({provide:f,useFactory:x,deps:pn},f),a({provide:TE,useValue:f,multi:!0},f),a({provide:fg,useValue:()=>rt(f),multi:!0},f)}const C=m.providers;if(null!=C&&!E){const x=o;LD(C,k=>{a(k,x)})}}}return f!==o&&void 0!==o.providers}function LD(o,a){for(let l of o)Le(l)&&(l=l.\u0275providers),Array.isArray(l)?LD(l,a):a(l)}const NV=z({provide:String,useValue:z});function VD(o){return null!==o&&"object"==typeof o&&NV in o}function ep(o){return"function"==typeof o}const tp=new kn("Set Injector scope."),Vo={},OV={};let AE;function By(){return void 0===AE&&(AE=new CE),AE}class Ac{}class jy extends Ac{get destroyed(){return this._destroyed}constructor(a,l,d,f){super(),this.parent=l,this.source=d,this.scopes=f,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Hy(a,v=>this.processProvider(v)),this.records.set(ND,np(void 0,this)),f.has("environment")&&this.records.set(Ac,np(void 0,this));const m=this.records.get(tp);null!=m&&"string"==typeof m.value&&this.scopes.add(m.value),this.injectorDefTypes=new Set(this.get(TE.multi,pn,Nt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const l of this._ngOnDestroyHooks)l.ngOnDestroy();const a=this._onDestroyHooks;this._onDestroyHooks=[];for(const l of a)l()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(a){return this.assertNotDestroyed(),this._onDestroyHooks.push(a),()=>this.removeOnDestroy(a)}runInContext(a){this.assertNotDestroyed();const l=se(this),d=an(void 0);try{return a()}finally{se(l),an(d)}}get(a,l=We,d=Nt.Default){if(this.assertNotDestroyed(),a.hasOwnProperty(rc))return a[rc](this);d=In(d);const m=se(this),v=an(void 0);try{if(!(d&Nt.SkipSelf)){let C=this.records.get(a);if(void 0===C){const x=function BD(o){return"function"==typeof o||"object"==typeof o&&o instanceof kn}(a)&&zn(a);C=x&&this.injectableDefInScope(x)?np($y(a),Vo):null,this.records.set(a,C)}if(null!=C)return this.hydrate(a,C)}return(d&Nt.Self?By():this.parent).get(a,l=d&Nt.Optional&&l===We?null:l)}catch(E){if("NullInjectorError"===E.name){if((E[Tt]=E[Tt]||[]).unshift(ae(a)),m)throw E;return function Oi(o,a,l,d){const f=o[Tt];throw a[U]&&f.unshift(a[U]),o.message=function Ea(o,a,l,d=null){o=o&&"\n"===o.charAt(0)&&"\u0275"==o.charAt(1)?o.slice(2):o;let f=ae(a);if(Array.isArray(a))f=a.map(ae).join(" -> ");else if("object"==typeof a){let m=[];for(let v in a)if(a.hasOwnProperty(v)){let E=a[v];m.push(v+":"+("string"==typeof E?JSON.stringify(E):ae(E)))}f=`{${m.join(", ")}}`}return`${l}${d?"("+d+")":""}[${f}]: ${o.replace(q,"\n  ")}`}("\n"+o.message,f,l,d),o.ngTokenPath=f,o[Tt]=null,o}(E,a,"R3InjectorError",this.source)}throw E}finally{an(v),se(m)}}resolveInjectorInitializers(){const a=se(this),l=an(void 0);try{const f=this.get(fg.multi,pn,Nt.Self);for(const m of f)m()}finally{se(a),an(l)}}toString(){const a=[],l=this.records;for(const d of l.keys())a.push(ae(d));return`R3Injector[${a.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ce(205,!1)}processProvider(a){let l=ep(a=Ue(a))?a:Ue(a&&a.provide);const d=function Lu(o){return VD(o)?np(void 0,o.useValue):np(MP(o),Vo)}(a);if(ep(a)||!0!==a.multi)this.records.get(l);else{let f=this.records.get(l);f||(f=np(void 0,Vo,!0),f.factory=()=>Kt(f.multi),this.records.set(l,f)),l=a,f.multi.push(a)}this.records.set(l,d)}hydrate(a,l){return l.value===Vo&&(l.value=OV,l.value=l.factory()),"object"==typeof l.value&&l.value&&function UD(o){return null!==o&&"object"==typeof o&&"function"==typeof o.ngOnDestroy}(l.value)&&this._ngOnDestroyHooks.add(l.value),l.value}injectableDefInScope(a){if(!a.providedIn)return!1;const l=Ue(a.providedIn);return"string"==typeof l?"any"===l||this.scopes.has(l):this.injectorDefTypes.has(l)}removeOnDestroy(a){const l=this._onDestroyHooks.indexOf(a);-1!==l&&this._onDestroyHooks.splice(l,1)}}function $y(o){const a=zn(o),l=null!==a?a.factory:ko(o);if(null!==l)return l;if(o instanceof kn)throw new ce(204,!1);if(o instanceof Function)return function zy(o){const a=o.length;if(a>0)throw Ic(a,"?"),new ce(204,!1);const l=function ki(o){return o&&(o[qn]||o[ri])||null}(o);return null!==l?()=>l.factory(o):()=>new o}(o);throw new ce(204,!1)}function MP(o,a,l){let d;if(ep(o)){const f=Ue(o);return ko(f)||$y(f)}if(VD(o))d=()=>Ue(o.useValue);else if(function RP(o){return!(!o||!o.useFactory)}(o))d=()=>o.useFactory(...Kt(o.deps||[]));else if(function xP(o){return!(!o||!o.useExisting)}(o))d=()=>rt(Ue(o.useExisting));else{const f=Ue(o&&(o.useClass||o.provide));if(!function PP(o){return!!o.deps}(o))return ko(f)||$y(f);d=()=>new f(...Kt(o.deps))}return d}function np(o,a,l=!1){return{factory:o,value:a,multi:l?[]:void 0}}function Hy(o,a){for(const l of o)Array.isArray(l)?Hy(l,a):l&&Le(l)?Hy(l.\u0275providers,a):a(l)}const jD=new kn("AppId",{providedIn:"root",factory:()=>mg}),mg="ng",ch=new kn("Platform Initializer"),gg=new kn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),rp=new kn("AnimationModuleType"),zD=new kn("CSP nonce",{providedIn:"root",factory:()=>function oh(){if(void 0!==gD)return gD;if(typeof document<"u")return document;throw new ce(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let NP=(o,a,l)=>null;function RE(o,a,l=!1){return NP(o,a,l)}class YD{}class PE{}class Vu{resolveComponentFactory(a){throw function LP(o){const a=Error(`No component factory found for ${ae(o)}.`);return a.ngComponent=o,a}(a)}}let Sc=(()=>{class a{}return a.NULL=new Vu,a})();function VP(){return yg(Jr(),Ve())}function yg(o,a){return new sp(Ii(o,a))}let sp=(()=>{class a{constructor(d){this.nativeElement=d}}return a.__NG_ELEMENT_ID__=VP,a})();function UP(o){return o instanceof sp?o.nativeElement:o}class BP{}let BV=(()=>{class a{constructor(){this.destroyNode=null}}return a.__NG_ELEMENT_ID__=()=>function jV(){const o=Ve(),l=ui(Jr().index,o);return(ai(l)?l:o)[Lt]}(),a})(),$V=(()=>{var o;class a{}return(o=a).\u0275prov=bt({token:o,providedIn:"root",factory:()=>null}),a})();class jP{constructor(a){this.full=a,this.major=a.split(".")[0],this.minor=a.split(".")[1],this.patch=a.split(".").slice(2).join(".")}}const $P=new jP("16.2.5"),kE={};function tA(o,a=null,l=null,d){const f=Uo(o,a,l,d);return f.resolveInjectorInitializers(),f}function Uo(o,a=null,l=null,d,f=new Set){const m=[l||pn,SP(o)];return d=d||("object"==typeof o?void 0:ae(o)),new jy(m,a||By(),d||null,f)}let xc=(()=>{var o;class a{static create(d,f){if(Array.isArray(d))return tA({name:""},f,d,"");{const m=d.name??"";return tA({name:m},d.parent,d.providers,m)}}}return(o=a).THROW_IF_NOT_FOUND=We,o.NULL=new CE,o.\u0275prov=bt({token:o,providedIn:"any",factory:()=>rt(ND)}),o.__NG_ELEMENT_ID__=-1,a})();function Uu(o){return o.ngOriginalError}class fa{constructor(){this._console=console}handleError(a){const l=this._findOriginalError(a);this._console.error("ERROR",a),l&&this._console.error("ORIGINAL ERROR",l)}_findOriginalError(a){let l=a&&Uu(a);for(;l&&Uu(l);)l=Uu(l);return l||null}}function mt(o){return a=>{setTimeout(o,void 0,a)}}const pa=class za extends u.x{constructor(a=!1){super(),this.__isAsync=a}emit(a){super.next(a)}subscribe(a,l,d){let f=a,m=l||(()=>null),v=d;if(a&&"object"==typeof a){const C=a;f=C.next?.bind(C),m=C.error?.bind(C),v=C.complete?.bind(C)}this.__isAsync&&(m=mt(m),f&&(f=mt(f)),v&&(v=mt(v)));const E=super.subscribe({next:f,error:m,complete:v});return a instanceof H.w0&&a.add(E),E}};function Qt(...o){}class zi{constructor({enableLongStackTrace:a=!1,shouldCoalesceEventChangeDetection:l=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new pa(!1),this.onMicrotaskEmpty=new pa(!1),this.onStable=new pa(!1),this.onError=new pa(!1),typeof Zone>"u")throw new ce(908,!1);Zone.assertZonePatched();const f=this;f._nesting=0,f._outer=f._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(f._inner=f._inner.fork(new Zone.TaskTrackingZoneSpec)),a&&Zone.longStackTraceZoneSpec&&(f._inner=f._inner.fork(Zone.longStackTraceZoneSpec)),f.shouldCoalesceEventChangeDetection=!d&&l,f.shouldCoalesceRunChangeDetection=d,f.lastRequestAnimationFrameId=-1,f.nativeRequestAnimationFrame=function rv(){const o="function"==typeof en.requestAnimationFrame;let a=en[o?"requestAnimationFrame":"setTimeout"],l=en[o?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&a&&l){const d=a[Zone.__symbol__("OriginalDelegate")];d&&(a=d);const f=l[Zone.__symbol__("OriginalDelegate")];f&&(l=f)}return{nativeRequestAnimationFrame:a,nativeCancelAnimationFrame:l}}().nativeRequestAnimationFrame,function KP(o){const a=()=>{!function WP(o){o.isCheckStableRunning||-1!==o.lastRequestAnimationFrameId||(o.lastRequestAnimationFrameId=o.nativeRequestAnimationFrame.call(en,()=>{o.fakeTopEventTask||(o.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{o.lastRequestAnimationFrameId=-1,Hi(o),o.isCheckStableRunning=!0,OE(o),o.isCheckStableRunning=!1},void 0,()=>{},()=>{})),o.fakeTopEventTask.invoke()}),Hi(o))}(o)};o._inner=o._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(l,d,f,m,v,E)=>{if(function LE(o){return!(!Array.isArray(o)||1!==o.length)&&!0===o[0].data?.__ignore_ng_zone__}(E))return l.invokeTask(f,m,v,E);try{return vg(o),l.invokeTask(f,m,v,E)}finally{(o.shouldCoalesceEventChangeDetection&&"eventTask"===m.type||o.shouldCoalesceRunChangeDetection)&&a(),Di(o)}},onInvoke:(l,d,f,m,v,E,C)=>{try{return vg(o),l.invoke(f,m,v,E,C)}finally{o.shouldCoalesceRunChangeDetection&&a(),Di(o)}},onHasTask:(l,d,f,m)=>{l.hasTask(f,m),d===f&&("microTask"==m.change?(o._hasPendingMicrotasks=m.microTask,Hi(o),OE(o)):"macroTask"==m.change&&(o.hasPendingMacrotasks=m.macroTask))},onHandleError:(l,d,f,m)=>(l.handleError(f,m),o.runOutsideAngular(()=>o.onError.emit(m)),!1)})}(f)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!zi.isInAngularZone())throw new ce(909,!1)}static assertNotInAngularZone(){if(zi.isInAngularZone())throw new ce(909,!1)}run(a,l,d){return this._inner.run(a,l,d)}runTask(a,l,d,f){const m=this._inner,v=m.scheduleEventTask("NgZoneEvent: "+f,a,NE,Qt,Qt);try{return m.runTask(v,l,d)}finally{m.cancelTask(v)}}runGuarded(a,l,d){return this._inner.runGuarded(a,l,d)}runOutsideAngular(a){return this._outer.run(a)}}const NE={};function OE(o){if(0==o._nesting&&!o.hasPendingMicrotasks&&!o.isStable)try{o._nesting++,o.onMicrotaskEmpty.emit(null)}finally{if(o._nesting--,!o.hasPendingMicrotasks)try{o.runOutsideAngular(()=>o.onStable.emit(null))}finally{o.isStable=!0}}}function Hi(o){o.hasPendingMicrotasks=!!(o._hasPendingMicrotasks||(o.shouldCoalesceEventChangeDetection||o.shouldCoalesceRunChangeDetection)&&-1!==o.lastRequestAnimationFrameId)}function vg(o){o._nesting++,o.isStable&&(o.isStable=!1,o.onUnstable.emit(null))}function Di(o){o._nesting--,OE(o)}class Bu{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new pa,this.onMicrotaskEmpty=new pa,this.onStable=new pa,this.onError=new pa}run(a,l,d){return a.apply(l,d)}runGuarded(a,l,d){return a.apply(l,d)}runOutsideAngular(a){return a()}runTask(a,l,d,f){return a.apply(l,d)}}const rA=new kn("",{providedIn:"root",factory:FE});function FE(){const o=pt(zi);let a=!0;const l=new O.y(f=>{a=o.isStable&&!o.hasPendingMacrotasks&&!o.hasPendingMicrotasks,o.runOutsideAngular(()=>{f.next(a),f.complete()})}),d=new O.y(f=>{let m;o.runOutsideAngular(()=>{m=o.onStable.subscribe(()=>{zi.assertNotInAngularZone(),queueMicrotask(()=>{!a&&!o.hasPendingMacrotasks&&!o.hasPendingMicrotasks&&(a=!0,f.next(!0))})})});const v=o.onUnstable.subscribe(()=>{zi.assertInAngularZone(),a&&(a=!1,o.runOutsideAngular(()=>{f.next(!1)}))});return()=>{m.unsubscribe(),v.unsubscribe()}});return(0,re.T)(l,d.pipe((0,De.B)()))}function ma(o){return o instanceof Function?o():o}let sv=(()=>{var o;class a{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}}return(o=a).\u0275prov=bt({token:o,providedIn:"root",factory:()=>new o}),a})();function hh(o){for(;o;){o[Yt]|=64;const a=El(o);if(Aa(o)&&!a)return o;o=a}return null}const UE=new kn("",{providedIn:"root",factory:()=>!1});let fh=null;function uA(o,a){return o[a]??Eg()}function HE(o,a){const l=Eg();l.producerNode?.length&&(o[a]=fh,l.lView=o,fh=GE())}const dA={...Sa,consumerIsAlwaysLive:!0,consumerMarkedDirty:o=>{hh(o.lView)},lView:null};function GE(){return Object.create(dA)}function Eg(){return fh??=GE(),fh}const Xt={};function cv(o){lv(mn(),Ve(),bi()+o,!1)}function lv(o,a,l,d){if(!d)if(3==(3&a[Yt])){const m=o.preOrderCheckHooks;null!==m&&_c(a,m,l)}else{const m=o.preOrderHooks;null!==m&&yc(a,m,0,l)}Bs(l)}function ju(o,a=Nt.Default){const l=Ve();return null===l?rt(o,a):ml(Jr(),l,Ue(o),a)}function qE(){throw new Error("invalid")}function uv(o,a,l,d,f,m,v,E,C,x,k){const $=a.blueprint.slice();return $[lr]=f,$[Yt]=140|d,(null!==x||o&&2048&o[Yt])&&($[Yt]|=2048),jm($),$[Un]=$[Ji]=o,$[er]=l,$[Jo]=v||o&&o[Jo],$[Lt]=E||o&&o[Lt],$[Mo]=C||o&&o[Mo]||null,$[wi]=m,$[ea]=function Dy(){return JM++}(),$[vs]=k,$[ou]=x,$[Pr]=2==a.type?o[Pr]:$,$}function ph(o,a,l,d,f){let m=o.data[a];if(null===m)m=function dv(o,a,l,d,f){const m=Eu(),v=kf(),C=o.data[a]=function ek(o,a,l,d,f,m){let v=a?a.injectorIndex:-1,E=0;return ia()&&(E|=128),{type:l,index:d,insertBeforeIndex:null,injectorIndex:v,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:E,providerIndexes:0,value:f,attrs:m,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:a,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?m:m&&m.parent,l,a,d,f);return null===o.firstChild&&(o.firstChild=C),null!==m&&(v?null==m.child&&null!==C.parent&&(m.child=C):null===m.next&&(m.next=C,C.prev=m)),C}(o,a,l,d,f),function vy(){return zt.lFrame.inI18n}()&&(m.flags|=32);else if(64&m.type){m.type=l,m.value=d,m.attrs=f;const v=function al(){const o=zt.lFrame,a=o.currentTNode;return o.isParent?a:a.parent}();m.injectorIndex=null===v?-1:v.injectorIndex}return ro(m,!0),m}function mh(o,a,l,d){if(0===l)return-1;const f=a.length;for(let m=0;m<l;m++)a.push(d),o.blueprint.push(d),o.data.push(null);return f}function WE(o,a,l,d,f){const m=uA(a,au),v=bi(),E=2&d;try{Bs(-1),E&&a.length>cn&&lv(o,a,cn,!1),ws(E?2:0,f);const x=E?m:null,k=kd(x);try{null!==x&&(x.dirty=!1),l(d,f)}finally{mr(x,k)}}finally{E&&null===a[au]&&HE(a,au),Bs(v),ws(E?3:1,f)}}function KE(o,a,l){if(Ad(a)){const d=li(null);try{const m=a.directiveEnd;for(let v=a.directiveStart;v<m;v++){const E=o.data[v];E.contentQueries&&E.contentQueries(1,l[v],v)}}finally{li(d)}}}function Ig(o,a,l){Ir()&&(function Ag(o,a,l,d){const f=l.directiveStart,m=l.directiveEnd;Po(l)&&function ok(o,a,l){const d=Ii(a,o),f=hv(l);let v=16;l.signals?v=4096:l.onPush&&(v=64);const E=xg(o,uv(o,f,null,v,d,a,null,o[Jo].rendererFactory.createRenderer(d,l),null,null,null));o[a.index]=E}(a,l,o.data[f+l.componentOffset]),o.firstCreatePass||Qn(l,a),Ts(d,a);const v=l.initialInputs;for(let E=f;E<m;E++){const C=o.data[E],x=wc(a,o,E,l);Ts(x,a),null!==v&&gv(0,E-f,x,C,0,v),Vi(C)&&(ui(l.index,a)[er]=wc(a,o,E,l))}}(o,a,l,Ii(l,a)),64==(64&l.flags)&&QE(o,a,l))}function bg(o,a,l=Ii){const d=a.localNames;if(null!==d){let f=a.index+1;for(let m=0;m<d.length;m+=2){const v=d[m+1],E=-1===v?l(a,o):o[v];o[f++]=E}}}function hv(o){const a=o.tView;return null===a||a.incompleteFirstPass?o.tView=fi(1,null,o.template,o.decls,o.vars,o.directiveDefs,o.pipeDefs,o.viewQuery,o.schemas,o.consts,o.id):a}function fi(o,a,l,d,f,m,v,E,C,x,k){const $=cn+d,ee=$+f,oe=function cs(o,a){const l=[];for(let d=0;d<a;d++)l.push(d<o?null:Xt);return l}($,ee),xe="function"==typeof x?x():x;return oe[ct]={type:o,blueprint:oe,template:l,queries:null,viewQuery:E,declTNode:a,data:oe.slice().fill(null,$),bindingStartIndex:$,expandoStartIndex:ee,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof m?m():m,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:C,consts:xe,incompleteFirstPass:!1,ssrId:k}}let fA=o=>null;function mA(o,a,l,d){for(let f in o)if(o.hasOwnProperty(f)){l=null===l?{}:l;const m=o[f];null===d?gA(l,a,f,m):d.hasOwnProperty(f)&&gA(l,a,d[f],m)}return l}function gA(o,a,l,d){o.hasOwnProperty(l)?o[l].push(a,d):o[l]=[a,d]}function zs(o,a,l,d,f,m,v,E){const C=Ii(a,l);let k,x=a.inputs;!E&&null!=x&&(k=x[d])?(_h(o,l,k,d,f),Po(a)&&function _A(o,a){const l=ui(a,o);16&l[Yt]||(l[Yt]|=64)}(l,a.index)):3&a.type&&(d=function Cg(o){return"class"===o?"className":"for"===o?"htmlFor":"formaction"===o?"formAction":"innerHtml"===o?"innerHTML":"readonly"===o?"readOnly":"tabindex"===o?"tabIndex":o}(d),f=null!=v?v(f,a.value||"",d):f,m.setProperty(C,d,f))}function Dg(o,a,l,d){if(Ir()){const f=null===d?null:{"":-1},m=function wA(o,a){const l=o.directiveRegistry;let d=null,f=null;if(l)for(let m=0;m<l.length;m++){const v=l[m];if(Jl(a,v.selectors,!1))if(d||(d=[]),Vi(v))if(null!==v.findHostDirectiveDefs){const E=[];f=f||new Map,v.findHostDirectiveDefs(v,E,f),d.unshift(...E,v),cp(o,a,E.length)}else d.unshift(v),cp(o,a,0);else f=f||new Map,v.findHostDirectiveDefs?.(v,d,f),d.push(v)}return null===d?null:[d,f]}(o,l);let v,E;null===m?v=E=null:[v,E]=m,null!==v&&pv(o,a,l,v,f,E),f&&function rk(o,a,l){if(a){const d=o.localNames=[];for(let f=0;f<a.length;f+=2){const m=l[a[f+1]];if(null==m)throw new ce(-301,!1);d.push(a[f],m)}}}(l,d,f)}l.mergedAttrs=Hc(l.mergedAttrs,l.attrs)}function pv(o,a,l,d,f,m){for(let x=0;x<d.length;x++)la(Qn(l,a),o,d[x].type);!function lp(o,a,l){o.flags|=1,o.directiveStart=a,o.directiveEnd=a+l,o.providerIndexes=a}(l,o.data.length,d.length);for(let x=0;x<d.length;x++){const k=d[x];k.providersResolver&&k.providersResolver(k)}let v=!1,E=!1,C=mh(o,a,d.length,null);for(let x=0;x<d.length;x++){const k=d[x];l.mergedAttrs=Hc(l.mergedAttrs,k.hostAttrs),sk(o,l,a,C,k),ik(C,k,f),null!==k.contentQueries&&(l.flags|=4),(null!==k.hostBindings||null!==k.hostAttrs||0!==k.hostVars)&&(l.flags|=64);const $=k.type.prototype;!v&&($.ngOnChanges||$.ngOnInit||$.ngDoCheck)&&((o.preOrderHooks??=[]).push(l.index),v=!0),!E&&($.ngOnChanges||$.ngDoCheck)&&((o.preOrderCheckHooks??=[]).push(l.index),E=!0),C++}!function Tg(o,a,l){const f=a.directiveEnd,m=o.data,v=a.attrs,E=[];let C=null,x=null;for(let k=a.directiveStart;k<f;k++){const $=m[k],ee=l?l.get($):null,xe=ee?ee.outputs:null;C=mA($.inputs,k,C,ee?ee.inputs:null),x=mA($.outputs,k,x,xe);const Ke=null===C||null===v||ys(a)?null:Sg(C,k,v);E.push(Ke)}null!==C&&(C.hasOwnProperty("class")&&(a.flags|=8),C.hasOwnProperty("style")&&(a.flags|=16)),a.initialInputs=E,a.inputs=C,a.outputs=x}(o,l,m)}function QE(o,a,l){const d=l.directiveStart,f=l.directiveEnd,m=l.index,v=function wy(){return zt.lFrame.currentDirectiveIndex}();try{Bs(m);for(let E=d;E<f;E++){const C=o.data[E],x=a[E];bu(E),(null!==C.hostBindings||0!==C.hostVars||null!==C.hostAttrs)&&vA(C,x)}}finally{Bs(-1),bu(v)}}function vA(o,a){null!==o.hostBindings&&o.hostBindings(1,a)}function cp(o,a,l){a.componentOffset=l,(o.components??=[]).push(a.index)}function ik(o,a,l){if(l){if(a.exportAs)for(let d=0;d<a.exportAs.length;d++)l[a.exportAs[d]]=o;Vi(a)&&(l[""]=o)}}function sk(o,a,l,d,f){o.data[d]=f;const m=f.factory||(f.factory=ko(f.type)),v=new Oa(m,Vi(f),ju);o.blueprint[d]=v,l[d]=v,function yA(o,a,l,d,f){const m=f.hostBindings;if(m){let v=o.hostBindingOpCodes;null===v&&(v=o.hostBindingOpCodes=[]);const E=~a.index;(function nk(o){let a=o.length;for(;a>0;){const l=o[--a];if("number"==typeof l&&l<0)return l}return 0})(v)!=E&&v.push(E),v.push(l,d,m)}}(o,a,d,mh(o,l,f.hostVars,Xt),f)}function Ds(o,a,l,d,f,m){const v=Ii(o,a);!function mv(o,a,l,d,f,m,v){if(null==m)o.removeAttribute(a,f,l);else{const E=null==v?pe(m):v(m,d||"",f);o.setAttribute(a,f,E,l)}}(a[Lt],v,m,o.value,l,d,f)}function gv(o,a,l,d,f,m){const v=m[a];if(null!==v)for(let E=0;E<v.length;)XE(d,l,v[E++],v[E++],v[E++])}function XE(o,a,l,d,f){const m=li(null);try{const v=o.inputTransforms;null!==v&&v.hasOwnProperty(d)&&(f=v[d].call(a,f)),null!==o.setInput?o.setInput(a,f,l,d):a[d]=f}finally{li(m)}}function Sg(o,a,l){let d=null,f=0;for(;f<l.length;){const m=l[f];if(0!==m)if(5!==m){if("number"==typeof m)break;if(o.hasOwnProperty(m)){null===d&&(d=[]);const v=o[m];for(let E=0;E<v.length;E+=2)if(v[E]===a){d.push(m,v[E+1],l[f+1]);break}}f+=2}else f+=2;else f+=4}return d}function JE(o,a,l,d){return[o,!0,!1,a,null,0,d,l,null,null,null]}function As(o,a){const l=o.contentQueries;if(null!==l)for(let d=0;d<l.length;d+=2){const m=l[d+1];if(-1!==m){const v=o.data[m];Ff(l[d]),v.contentQueries(2,a[m],m)}}}function xg(o,a){return o[Ls]?o[_f][Xi]=a:o[Ls]=a,o[_f]=a,a}function gh(o,a,l){Ff(0);const d=li(null);try{a(o,l)}finally{li(d)}}function tI(o){return o[Ta]||(o[Ta]=[])}function _v(o){return o.cleanup||(o.cleanup=[])}function rI(o,a){const l=o[Mo],d=l?l.get(fa,null):null;d&&d.handleError(a)}function _h(o,a,l,d,f){for(let m=0;m<l.length;){const v=l[m++],E=l[m++];XE(o.data[v],a[v],d,E,f)}}function iI(o,a){const l=ui(a,o),d=l[ct];!function sI(o,a){for(let l=a.length;l<o.blueprint.length;l++)a.push(o.blueprint[l])}(d,l);const f=l[lr];null!==f&&null===l[vs]&&(l[vs]=RE(f,l[Mo])),up(d,l,l[er])}function up(o,a,l){di(a);try{const d=o.viewQuery;null!==d&&gh(1,d,l);const f=o.template;null!==f&&WE(o,a,f,1,l),o.firstCreatePass&&(o.firstCreatePass=!1),o.staticContentQueries&&As(o,a),o.staticViewQueries&&gh(2,o.viewQuery,l);const m=o.components;null!==m&&function Rg(o,a){for(let l=0;l<a.length;l++)iI(o,a[l])}(a,m)}catch(d){throw o.firstCreatePass&&(o.incompleteFirstPass=!0,o.firstCreatePass=!1),d}finally{a[Yt]&=-5,br()}}let oI=(()=>{var o;class a{constructor(){this.all=new Set,this.queue=new Map}create(d,f,m){const v=typeof Zone>"u"?null:Zone.current,E=function Um(o,a,l){const d=Object.create(py);l&&(d.consumerAllowSignalWrites=!0),d.fn=o,d.schedule=a;const f=v=>{d.cleanupFn=v};return d.ref={notify:()=>Pd(d),run:()=>{if(d.dirty=!1,d.hasRun&&!Fm(d))return;d.hasRun=!0;const v=kd(d);try{d.cleanupFn(),d.cleanupFn=Vd,d.fn(f)}finally{mr(d,v)}},cleanup:()=>d.cleanupFn()},d.ref}(d,k=>{this.all.has(k)&&this.queue.set(k,v)},m);let C;this.all.add(E),E.notify();const x=()=>{E.cleanup(),C?.(),this.all.delete(E),this.queue.delete(E)};return C=f?.onDestroy(x),{destroy:x}}flush(){if(0!==this.queue.size)for(const[d,f]of this.queue)this.queue.delete(d),f?f.run(()=>d.run()):d.run()}get isQueueEmpty(){return 0===this.queue.size}}return(o=a).\u0275prov=bt({token:o,providedIn:"root",factory:()=>new o}),a})();function dp(o,a,l){let d=l?o.styles:null,f=l?o.classes:null,m=0;if(null!==a)for(let v=0;v<a.length;v++){const E=a[v];"number"==typeof E?m=E:1==m?f=Ge(f,E):2==m&&(d=Ge(d,E+": "+a[++v]+";"))}l?o.styles=d:o.stylesWithoutHost=d,l?o.classes=f:o.classesWithoutHost=f}function $u(o,a,l,d,f=!1){for(;null!==l;){const m=a[l.index];null!==m&&d.push(Cn(m)),ci(m)&&yv(m,d);const v=l.type;if(8&v)$u(o,a,l.child,d);else if(32&v){const E=Lo(l,a);let C;for(;C=E();)d.push(C)}else if(16&v){const E=dE(a,l);if(Array.isArray(E))d.push(...E);else{const C=El(a[Pr]);$u(C[ct],C,E,d,!0)}}l=f?l.projectionNext:l.next}return d}function yv(o,a){for(let l=kr;l<o.length;l++){const d=o[l],f=d[ct].firstChild;null!==f&&$u(d[ct],d,f,a)}o[Xr]!==o[lr]&&a.push(o[Xr])}function Mg(o,a,l,d=!0){const f=a[Jo],m=f.rendererFactory,v=f.afterRenderEventManager;m.begin?.(),v?.begin();try{IA(o,a,o.template,l)}catch(C){throw d&&rI(a,C),C}finally{m.end?.(),f.effectManager?.flush(),v?.end()}}function IA(o,a,l,d){const f=a[Yt];if(256!=(256&f)){a[Jo].effectManager?.flush(),di(a);try{jm(a),function Nf(o){return zt.lFrame.bindingIndex=o}(o.bindingStartIndex),null!==l&&WE(o,a,l,2,d);const v=3==(3&f);if(v){const x=o.preOrderCheckHooks;null!==x&&_c(a,x,null)}else{const x=o.preOrderHooks;null!==x&&yc(a,x,0,null),Cu(a,0)}if(function bA(o){for(let a=sD(o);null!==a;a=aE(a)){if(!a[uc])continue;const l=a[ta];for(let d=0;d<l.length;d++){Pa(l[d])}}}(a),hp(a,2),null!==o.contentQueries&&As(o,a),v){const x=o.contentCheckHooks;null!==x&&_c(a,x)}else{const x=o.contentHooks;null!==x&&yc(a,x,1),Cu(a,1)}!function hA(o,a){const l=o.hostBindingOpCodes;if(null===l)return;const d=uA(a,ts);try{for(let f=0;f<l.length;f++){const m=l[f];if(m<0)Bs(~m);else{const v=m,E=l[++f],C=l[++f];Iu(E,v),d.dirty=!1;const x=kd(d);try{C(2,a[v])}finally{mr(d,x)}}}}finally{null===a[ts]&&HE(a,ts),Bs(-1)}}(o,a);const E=o.components;null!==E&&zu(a,E,0);const C=o.viewQuery;if(null!==C&&gh(2,C,d),v){const x=o.viewCheckHooks;null!==x&&_c(a,x)}else{const x=o.viewHooks;null!==x&&yc(a,x,2),Cu(a,2)}!0===o.firstUpdatePass&&(o.firstUpdatePass=!1),a[Yt]&=-73,_y(a)}finally{br()}}}function hp(o,a){for(let l=sD(o);null!==l;l=aE(l))for(let d=kr;d<l.length;d++)fp(l[d],a)}function vv(o,a,l){fp(ui(a,o),l)}function fp(o,a){if(!function xf(o){return 128==(128&o[Yt])}(o))return;const l=o[ct],d=o[Yt];if(80&d&&0===a||1024&d||2===a)IA(l,o,l.template,o[er]);else if(o[Ro]>0){hp(o,1);const f=l.components;null!==f&&zu(o,f,1)}}function zu(o,a,l){for(let d=0;d<a.length;d++)vv(o,a[d],l)}class yh{get rootNodes(){const a=this._lView,l=a[ct];return $u(l,a,l.firstChild,[])}constructor(a,l){this._lView=a,this._cdRefInjectingView=l,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[er]}set context(a){this._lView[er]=a}get destroyed(){return 256==(256&this._lView[Yt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const a=this._lView[Un];if(ci(a)){const l=a[8],d=l?l.indexOf(this):-1;d>-1&&(Ry(a,d),Pu(l,d))}this._attachedToViewContainer=!1}cE(this._lView[ct],this._lView)}onDestroy(a){!function pc(o,a){if(256==(256&o[Yt]))throw new ce(911,!1);null===o[Ca]&&(o[Ca]=[]),o[Ca].push(a)}(this._lView,a)}markForCheck(){hh(this._cdRefInjectingView||this._lView)}detach(){this._lView[Yt]&=-129}reattach(){this._lView[Yt]|=128}detectChanges(){Mg(this._lView[ct],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ce(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function ig(o,a){cg(o,a,a[Lt],2,null,null)}(this._lView[ct],this._lView)}attachToAppRef(a){if(this._attachedToViewContainer)throw new ce(902,!1);this._appRef=a}}class lk extends yh{constructor(a){super(a),this._view=a}detectChanges(){const a=this._view;Mg(a[ct],a,a[er],!1)}checkNoChanges(){}get context(){return null}}class TA extends Sc{constructor(a){super(),this.ngModule=a}resolveComponentFactory(a){const l=dn(a);return new Ga(l,this.ngModule)}}function aI(o){const a=[];for(let l in o)o.hasOwnProperty(l)&&a.push({propName:o[l],templateName:l});return a}class uk{constructor(a,l){this.injector=a,this.parentInjector=l}get(a,l,d){d=In(d);const f=this.injector.get(a,kE,d);return f!==kE||l===kE?f:this.parentInjector.get(a,l,d)}}class Ga extends PE{get inputs(){const a=this.componentDef,l=a.inputTransforms,d=aI(a.inputs);if(null!==l)for(const f of d)l.hasOwnProperty(f.propName)&&(f.transform=l[f.propName]);return d}get outputs(){return aI(this.componentDef.outputs)}constructor(a,l){super(),this.componentDef=a,this.ngModule=l,this.componentType=a.type,this.selector=function dy(o){return o.map(Ed).join(",")}(a.selectors),this.ngContentSelectors=a.ngContentSelectors?a.ngContentSelectors:[],this.isBoundToModule=!!l}create(a,l,d,f){let m=(f=f||this.ngModule)instanceof Ac?f:f?.injector;m&&null!==this.componentDef.getStandaloneInjector&&(m=this.componentDef.getStandaloneInjector(m)||m);const v=m?new uk(a,m):a,E=v.get(BP,null);if(null===E)throw new ce(407,!1);const $={rendererFactory:E,sanitizer:v.get($V,null),effectManager:v.get(oI,null),afterRenderEventManager:v.get(sv,null)},ee=E.createRenderer(null,this.componentDef),oe=this.componentDef.selectors[0][0]||"div",xe=d?function fv(o,a,l,d){const m=d.get(UE,!1)||l===eo.ShadowDom,v=o.selectRootElement(a,m);return function ZE(o){fA(o)}(v),v}(ee,d,this.componentDef.encapsulation,v):xy(ee,oe,function CA(o){const a=o.toLowerCase();return"svg"===a?"svg":"math"===a?"math":null}(oe)),kt=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let je=null;null!==xe&&(je=RE(xe,v,!0));const qt=fi(0,null,null,1,0,null,null,null,null,null,null),ln=uv(null,qt,null,kt,null,null,$,ee,v,null,je);let $n,qs;di(ln);try{const vo=this.componentDef;let od,pT=null;vo.findHostDirectiveDefs?(od=[],pT=new Map,vo.findHostDirectiveDefs(vo,od,pT),od.push(vo)):od=[vo];const jN=function wv(o,a){const l=o[ct],d=cn;return o[d]=a,ph(l,d,2,"#host",null)}(ln,xe),$N=function Ev(o,a,l,d,f,m,v){const E=f[ct];!function DA(o,a,l,d){for(const f of o)a.mergedAttrs=Hc(a.mergedAttrs,f.hostAttrs);null!==a.mergedAttrs&&(dp(a,a.mergedAttrs,!0),null!==l&&lg(d,l,a))}(d,o,a,v);let C=null;null!==a&&(C=RE(a,f[Mo]));const x=m.rendererFactory.createRenderer(a,l);let k=16;l.signals?k=4096:l.onPush&&(k=64);const $=uv(f,hv(l),null,k,f[o.index],o,m,x,null,null,C);return E.firstCreatePass&&cp(E,o,d.length-1),xg(f,$),f[o.index]=$}(jN,xe,vo,od,ln,$,ee);qs=Bd(qt,cn),xe&&function Iv(o,a,l,d){if(d)ic(o,l,["ng-version",$P.full]);else{const{attrs:f,classes:m}=function Li(o){const a=[],l=[];let d=1,f=2;for(;d<o.length;){let m=o[d];if("string"==typeof m)2===f?""!==m&&a.push(m,o[++d]):8===f&&l.push(m);else{if(!Fi(f))break;f=m}d++}return{attrs:a,classes:l}}(a.selectors[0]);f&&ic(o,l,f),m&&m.length>0&&pD(o,l,m.join(" "))}}(ee,vo,xe,d),void 0!==l&&function Pg(o,a,l){const d=o.projection=[];for(let f=0;f<a.length;f++){const m=l[f];d.push(null!=m?Array.from(m):null)}}(qs,this.ngContentSelectors,l),$n=function gr(o,a,l,d,f,m){const v=Jr(),E=f[ct],C=Ii(v,f);pv(E,f,v,l,null,d);for(let k=0;k<l.length;k++)Ts(wc(f,E,v.directiveStart+k,v),f);QE(E,f,v),C&&Ts(C,f);const x=wc(f,E,v.directiveStart+v.componentOffset,v);if(o[er]=f[er]=x,null!==m)for(const k of m)k(x,a);return KE(E,v,o),x}($N,vo,od,pT,ln,[kg]),up(qt,ln,null)}finally{br()}return new Tl(this.componentType,$n,yg(qs,ln),ln,qs)}}class Tl extends YD{constructor(a,l,d,f,m){super(),this.location=d,this._rootLView=f,this._tNode=m,this.previousInputValues=null,this.instance=l,this.hostView=this.changeDetectorRef=new lk(f),this.componentType=a}setInput(a,l){const d=this._tNode.inputs;let f;if(null!==d&&(f=d[a])){if(this.previousInputValues??=new Map,this.previousInputValues.has(a)&&Object.is(this.previousInputValues.get(a),l))return;const m=this._rootLView;_h(m[ct],m,f,a,l),this.previousInputValues.set(a,l),hh(ui(this._tNode.index,m))}}get injector(){return new Lr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(a){this.hostView.onDestroy(a)}}function kg(){const o=Jr();aa(Ve()[ct],o)}function bv(o){let a=function AA(o){return Object.getPrototypeOf(o.prototype).constructor}(o.type),l=!0;const d=[o];for(;a;){let f;if(Vi(o))f=a.\u0275cmp||a.\u0275dir;else{if(a.\u0275cmp)throw new ce(903,!1);f=a.\u0275dir}if(f){if(l){d.push(f);const v=o;v.inputs=Tv(o.inputs),v.inputTransforms=Tv(o.inputTransforms),v.declaredInputs=Tv(o.declaredInputs),v.outputs=Tv(o.outputs);const E=f.hostBindings;E&&Ng(o,E);const C=f.viewQuery,x=f.contentQueries;if(C&&hk(o,C),x&&fk(o,x),Y(o.inputs,f.inputs),Y(o.declaredInputs,f.declaredInputs),Y(o.outputs,f.outputs),null!==f.inputTransforms&&(null===v.inputTransforms&&(v.inputTransforms={}),Y(v.inputTransforms,f.inputTransforms)),Vi(f)&&f.data.animation){const k=o.data;k.animation=(k.animation||[]).concat(f.data.animation)}}const m=f.features;if(m)for(let v=0;v<m.length;v++){const E=m[v];E&&E.ngInherit&&E(o),E===bv&&(l=!1)}}a=Object.getPrototypeOf(a)}!function dk(o){let a=0,l=null;for(let d=o.length-1;d>=0;d--){const f=o[d];f.hostVars=a+=f.hostVars,f.hostAttrs=Hc(f.hostAttrs,l=Hc(l,f.hostAttrs))}}(d)}function Tv(o){return o===_s?{}:o===pn?[]:o}function hk(o,a){const l=o.viewQuery;o.viewQuery=l?(d,f)=>{a(d,f),l(d,f)}:a}function fk(o,a){const l=o.contentQueries;o.contentQueries=l?(d,f,m)=>{a(d,f,m),l(d,f,m)}:a}function Ng(o,a){const l=o.hostBindings;o.hostBindings=l?(d,f)=>{a(d,f),l(d,f)}:a}function cI(o){const a=o.inputConfig,l={};for(const d in a)if(a.hasOwnProperty(d)){const f=a[d];Array.isArray(f)&&f[2]&&(l[d]=f[2])}o.inputTransforms=l}function pp(o){return!!Cv(o)&&(Array.isArray(o)||!(o instanceof Map)&&Symbol.iterator in o)}function Cv(o){return null!==o&&("function"==typeof o||"object"==typeof o)}function Mc(o,a,l){return o[a]=l}function Ss(o,a,l){return!Object.is(o[a],l)&&(o[a]=l,!0)}function Fg(o,a,l,d){const f=Ve();return Ss(f,ka(),a)&&(mn(),Ds(Yn(),f,o,a,l,d)),Fg}function kc(o,a,l,d){return Ss(o,ka(),l)?a+pe(l)+d:Xt}function Mv(o,a,l,d,f,m,v,E){const C=Ve(),x=mn(),k=o+cn,$=x.firstCreatePass?function $A(o,a,l,d,f,m,v,E,C){const x=a.consts,k=ph(a,o,4,v||null,Ma(x,E));Dg(a,l,k,Ma(x,C)),aa(a,k);const $=k.tView=fi(2,k,d,f,m,a.directiveRegistry,a.pipeRegistry,null,a.schemas,x,null);return null!==a.queries&&(a.queries.template(a,k),$.queries=a.queries.embeddedTView(k)),k}(k,x,C,a,l,d,f,m,v):x.data[k];ro($,!1);const ee=Th(x,C,$,o);oo()&&og(x,C,ee,$),Ts(ee,C),xg(C,C[k]=JE(ee,C,ee,$)),ns($)&&Ig(x,C,$),null!=v&&bg(C,$,E)}let Th=function Pv(o,a,l,d){return ao(!0),a[Lt].createComment("")};function Gi(o){return Ra(function Hm(){return zt.lFrame.contextLView}(),cn+o)}function Ep(o,a,l){const d=Ve();return Ss(d,ka(),a)&&zs(mn(),Yn(),d,o,a,d[Lt],l,!1),Ep}function Ip(o,a,l,d,f){const v=f?"class":"style";_h(o,l,a.inputs[v],v,d)}function Ch(o,a,l,d){const f=Ve(),m=mn(),v=cn+o,E=f[Lt],C=m.firstCreatePass?function zg(o,a,l,d,f,m){const v=a.consts,C=ph(a,o,2,d,Ma(v,f));return Dg(a,l,C,Ma(v,m)),null!==C.attrs&&dp(C,C.attrs,!1),null!==C.mergedAttrs&&dp(C,C.mergedAttrs,!0),null!==a.queries&&a.queries.elementStart(a,C),C}(v,m,f,a,l,d):m.data[v],x=HA(m,f,C,E,a,o);f[v]=x;const k=ns(C);return ro(C,!0),lg(E,x,C),32!=(32&C.flags)&&oo()&&og(m,f,x,C),0===function wu(){return zt.lFrame.elementDepthCount}()&&Ts(x,f),function Or(){zt.lFrame.elementDepthCount++}(),k&&(Ig(m,f,C),KE(m,C,f)),null!==d&&bg(f,C),Ch}function Hg(){let o=Jr();kf()?Hd():(o=o.parent,ro(o,!1));const a=o;(function mc(o){return zt.skipHydrationRootTNode===o})(a)&&function Pf(){zt.skipHydrationRootTNode=null}(),function $m(){zt.lFrame.elementDepthCount--}();const l=mn();return l.firstCreatePass&&(aa(l,o),Ad(o)&&l.queries.elementEnd(o)),null!=a.classesWithoutHost&&function Fa(o){return 0!=(8&o.flags)}(a)&&Ip(l,a,Ve(),a.classesWithoutHost,!0),null!=a.stylesWithoutHost&&function Su(o){return 0!=(16&o.flags)}(a)&&Ip(l,a,Ve(),a.stylesWithoutHost,!1),Hg}function Wu(o,a,l,d){return Ch(o,a,l,d),Hg(),Wu}let HA=(o,a,l,d,f,m)=>(ao(!0),xy(d,f,function Zd(){return zt.lFrame.currentNamespace}()));function kv(o,a,l){const d=Ve(),f=mn(),m=o+cn,v=f.firstCreatePass?function bk(o,a,l,d,f){const m=a.consts,v=Ma(m,d),E=ph(a,o,8,"ng-container",v);return null!==v&&dp(E,v,!0),Dg(a,l,E,Ma(m,f)),null!==a.queries&&a.queries.elementStart(a,E),E}(m,f,d,a,l):f.data[m];ro(v,!0);const E=qg(f,d,v,o);return d[m]=E,oo()&&og(f,d,E,v),Ts(E,d),ns(v)&&(Ig(f,d,v),KE(f,v,d)),null!=l&&bg(d,v),kv}function Gg(){let o=Jr();const a=mn();return kf()?Hd():(o=o.parent,ro(o,!1)),a.firstCreatePass&&(aa(a,o),Ad(o)&&a.queries.elementEnd(o)),Gg}function wI(o,a,l){return kv(o,a,l),Gg(),wI}let qg=(o,a,l,d)=>(ao(!0),rh(a[Lt],""));function Dh(){return Ve()}function Nv(o){return!!o&&"function"==typeof o.then}function Ai(o){return!!o&&"function"==typeof o.subscribe}function Ku(o,a,l,d){const f=Ve(),m=mn(),v=Jr();return function GA(o,a,l,d,f,m,v){const E=ns(d),x=o.firstCreatePass&&_v(o),k=a[er],$=tI(a);let ee=!0;if(3&d.type||v){const Ke=Ii(d,a),dt=v?v(Ke):Ke,kt=$.length,je=v?ln=>v(Cn(ln[d.index])):d.index;let qt=null;if(!v&&E&&(qt=function EI(o,a,l,d){const f=o.cleanup;if(null!=f)for(let m=0;m<f.length-1;m+=2){const v=f[m];if(v===l&&f[m+1]===d){const E=a[Ta],C=f[m+2];return E.length>C?E[C]:null}"string"==typeof v&&(m+=2)}return null}(o,a,f,d.index)),null!==qt)(qt.__ngLastListenerFn__||qt).__ngNextListenerFn__=m,qt.__ngLastListenerFn__=m,ee=!1;else{m=qr(d,a,k,m,!1);const ln=l.listen(dt,f,m);$.push(m,ln),x&&x.push(f,je,kt,kt+1)}}else m=qr(d,a,k,m,!1);const oe=d.outputs;let xe;if(ee&&null!==oe&&(xe=oe[f])){const Ke=xe.length;if(Ke)for(let dt=0;dt<Ke;dt+=2){const $n=a[xe[dt]][xe[dt+1]].subscribe(m),qs=$.length;$.push(m,$n),x&&x.push(f,d.index,qs,-(qs+1))}}}(m,f,f[Lt],v,o,a,d),Ku}function Ze(o,a,l,d){try{return ws(6,a,l),!1!==l(d)}catch(f){return rI(o,f),!1}finally{ws(7,a,l)}}function qr(o,a,l,d,f){return function m(v){if(v===Function)return d;hh(o.componentOffset>-1?ui(o.index,a):a);let C=Ze(a,l,d,v),x=m.__ngNextListenerFn__;for(;x;)C=Ze(a,l,x,v)&&C,x=x.__ngNextListenerFn__;return f&&!1===C&&v.preventDefault(),C}}function $o(o=1){return function ll(o){return(zt.lFrame.contextLView=function Tu(o,a){for(;o>0;)a=a[Ji],o--;return a}(o,zt.lFrame.contextLView))[er]}(o)}function II(o,a){let l=null;const d=function Am(o){const a=o.attrs;if(null!=a){const l=a.indexOf(5);if(!(1&l))return a[l+1]}return null}(o);for(let f=0;f<a.length;f++){const m=a[f];if("*"!==m){if(null===d?Jl(o,m,!0):gf(d,m))return f}else l=f}return l}function Et(o){const a=Ve()[Pr][wi];if(!a.projection){const d=a.projection=Ic(o?o.length:1,null),f=d.slice();let m=a.child;for(;null!==m;){const v=o?II(m,o):0;null!==v&&(f[v]?f[v].projectionNext=m:d[v]=m,f[v]=m),m=m.next}}}function Pt(o,a=0,l){const d=Ve(),f=mn(),m=ph(f,cn+o,16,null,l||null);null===m.projection&&(m.projection=a),Hd(),(!d[vs]||ia())&&32!=(32&m.flags)&&function fE(o,a,l){pE(a[Lt],0,a,l,Qf(o,l,a),dD(l.parent||a[wi],l,a))}(f,d,m)}function bI(o,a,l){return ht(o,"",a,"",l),bI}function ht(o,a,l,d,f){const m=Ve(),v=kc(m,a,l,d);return v!==Xt&&zs(mn(),Yn(),m,o,v,m[Lt],f,!1),ht}function Ov(o,a){return o<<17|a<<2}function Sl(o){return o>>17&32767}function CI(o){return 2|o}function Zu(o){return(131068&o)>>2}function Zt(o,a){return-131069&o|a<<2}function Fv(o){return 1|o}function YA(o,a,l,d,f){const m=o[l+1],v=null===a;let E=d?Sl(m):Zu(m),C=!1;for(;0!==E&&(!1===C||v);){const k=o[E+1];Wr(o[E],a)&&(C=!0,o[E+1]=d?Fv(k):CI(k)),E=d?Sl(k):Zu(k)}C&&(o[l+1]=d?CI(m):Fv(m))}function Wr(o,a){return null===o||null==a||(Array.isArray(o)?o[1]:o)===a||!(!Array.isArray(o)||"string"!=typeof a)&&ku(o,a)>=0}const Je={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Kg(o){return o.substring(Je.key,Je.keyEnd)}function QA(o,a){const l=Je.textEnd;return l===a?-1:(a=Je.keyEnd=function JA(o,a,l){for(;a<l&&o.charCodeAt(a)>32;)a++;return a}(o,Je.key=a,l),Sh(o,a,l))}function Sh(o,a,l){for(;a<l&&o.charCodeAt(a)<=32;)a++;return a}function Zg(o,a,l){return qi(o,a,l,!1),Zg}function he(o,a){return qi(o,a,null,!0),he}function tS(o){!function Za(o,a,l,d){const f=mn(),m=so(2);f.firstUpdatePass&&SI(f,null,m,d);const v=Ve();if(l!==Xt&&Ss(v,m,l)){const E=f.data[bi()];if(sS(E,d)&&!Yu(f,m)){let C=d?E.classesWithoutHost:E.stylesWithoutHost;null!==C&&(l=Ge(C,l||"")),Ip(f,E,v,l,d)}else!function rS(o,a,l,d,f,m,v,E){f===Xt&&(f=pn);let C=0,x=0,k=0<f.length?f[0]:null,$=0<m.length?m[0]:null;for(;null!==k||null!==$;){const ee=C<f.length?f[C+1]:void 0,oe=x<m.length?m[x+1]:void 0;let Ke,xe=null;k===$?(C+=2,x+=2,ee!==oe&&(xe=$,Ke=oe)):null===$||null!==k&&k<$?(C+=2,xe=k):(x+=2,xe=$,Ke=oe),null!==xe&&Ya(o,a,l,d,xe,Ke,v,E),k=C<f.length?f[C]:null,$=x<m.length?m[x]:null}}(f,E,v,v[Lt],v[m+1],v[m+1]=function nS(o,a,l){if(null==l||""===l)return pn;const d=[],f=Il(l);if(Array.isArray(f))for(let m=0;m<f.length;m++)o(d,f[m],!0);else if("object"==typeof f)for(const m in f)f.hasOwnProperty(m)&&o(d,m,f[m]);else"string"==typeof f&&a(d,f);return d}(o,a,l),d,m)}}(xk,fo,o,!0)}function fo(o,a){for(let l=function Ah(o){return function Tp(o){Je.key=0,Je.keyEnd=0,Je.value=0,Je.valueEnd=0,Je.textEnd=o.length}(o),QA(o,Sh(o,0,Je.textEnd))}(a);l>=0;l=QA(a,l))js(o,Kg(a),!0)}function qi(o,a,l,d){const f=Ve(),m=mn(),v=so(2);m.firstUpdatePass&&SI(m,o,v,d),a!==Xt&&Ss(f,v,a)&&Ya(m,m.data[bi()],f,f[Lt],o,f[v+1]=function iS(o,a){return null==o||""===o||("string"==typeof a?o+=a:"object"==typeof o&&(o=ae(Il(o)))),o}(a,l),d,v)}function Yu(o,a){return a>=o.expandoStartIndex}function SI(o,a,l,d){const f=o.data;if(null===f[l+1]){const m=f[bi()],v=Yu(o,l);sS(m,d)&&null===a&&!v&&(a=!1),a=function xI(o,a,l,d){const f=function qd(o){const a=zt.lFrame.currentDirectiveIndex;return-1===a?null:o[a]}(o);let m=d?a.residualClasses:a.residualStyles;if(null===f)0===(d?a.classBindings:a.styleBindings)&&(l=xl(l=Rh(null,o,a,l,d),a.attrs,d),m=null);else{const v=a.directiveStylingLast;if(-1===v||o[v]!==f)if(l=Rh(f,o,a,l,d),null===m){let C=function Ak(o,a,l){const d=l?a.classBindings:a.styleBindings;if(0!==Zu(d))return o[Sl(d)]}(o,a,d);void 0!==C&&Array.isArray(C)&&(C=Rh(null,o,a,C[1],d),C=xl(C,a.attrs,d),function Sk(o,a,l,d){o[Sl(l?a.classBindings:a.styleBindings)]=d}(o,a,d,C))}else m=function Go(o,a,l){let d;const f=a.directiveEnd;for(let m=1+a.directiveStylingLast;m<f;m++)d=xl(d,o[m].hostAttrs,l);return xl(d,a.attrs,l)}(o,a,d)}return void 0!==m&&(d?a.residualClasses=m:a.residualStyles=m),l}(f,m,a,d),function Wg(o,a,l,d,f,m){let v=m?a.classBindings:a.styleBindings,E=Sl(v),C=Zu(v);o[d]=l;let k,x=!1;if(Array.isArray(l)?(k=l[1],(null===k||ku(l,k)>0)&&(x=!0)):k=l,f)if(0!==C){const ee=Sl(o[E+1]);o[d+1]=Ov(ee,E),0!==ee&&(o[ee+1]=Zt(o[ee+1],d)),o[E+1]=function WV(o,a){return 131071&o|a<<17}(o[E+1],d)}else o[d+1]=Ov(E,0),0!==E&&(o[E+1]=Zt(o[E+1],d)),E=d;else o[d+1]=Ov(C,0),0===E?E=d:o[C+1]=Zt(o[C+1],d),C=d;x&&(o[d+1]=CI(o[d+1])),YA(o,k,d,!0),YA(o,k,d,!1),function Sn(o,a,l,d,f){const m=f?o.residualClasses:o.residualStyles;null!=m&&"string"==typeof a&&ku(m,a)>=0&&(l[d+1]=Fv(l[d+1]))}(a,k,o,d,m),v=Ov(E,C),m?a.classBindings=v:a.styleBindings=v}(f,m,a,l,v,d)}}function Rh(o,a,l,d,f){let m=null;const v=l.directiveEnd;let E=l.directiveStylingLast;for(-1===E?E=l.directiveStart:E++;E<v&&(m=a[E],d=xl(d,m.hostAttrs,f),m!==o);)E++;return null!==o&&(l.directiveStylingLast=E),d}function xl(o,a,l){const d=l?1:2;let f=-1;if(null!==a)for(let m=0;m<a.length;m++){const v=a[m];"number"==typeof v?f=v:f===d&&(Array.isArray(o)||(o=void 0===o?[]:["",o]),js(o,v,!!l||a[++m]))}return void 0===o?null:o}function xk(o,a,l){const d=String(a);""!==d&&!d.includes(" ")&&js(o,d,l)}function Ya(o,a,l,d,f,m,v,E){if(!(3&a.type))return;const C=o.data,x=C[E+1],k=function bp(o){return 1==(1&o)}(x)?RI(C,a,l,f,Zu(x),v):void 0;Mh(k)||(Mh(m)||function Dk(o){return 2==(2&o)}(x)&&(m=RI(C,null,l,f,E,v)),function _P(o,a,l,d,f){if(a)f?o.addClass(l,d):o.removeClass(l,d);else{let m=-1===d.indexOf("-")?void 0:Qm.DashCase;null==f?o.removeStyle(l,d,m):("string"==typeof f&&f.endsWith("!important")&&(f=f.slice(0,-10),m|=Qm.Important),o.setStyle(l,d,f,m))}}(d,v,no(bi(),l),f,m))}function RI(o,a,l,d,f,m){const v=null===a;let E;for(;f>0;){const C=o[f],x=Array.isArray(C),k=x?C[1]:C,$=null===k;let ee=l[f+1];ee===Xt&&(ee=$?pn:void 0);let oe=$?Km(ee,d):k===d?ee:void 0;if(x&&!Mh(oe)&&(oe=Km(C,d)),Mh(oe)&&(E=oe,v))return E;const xe=o[f+1];f=v?Sl(xe):Zu(xe)}if(null!==a){let C=m?a.residualClasses:a.residualStyles;null!=C&&(E=Km(C,d))}return E}function Mh(o){return void 0!==o}function sS(o,a){return 0!=(o.flags&(a?8:16))}function oS(o,a=""){const l=Ve(),d=mn(),f=o+cn,m=d.firstCreatePass?ph(d,f,1,a,null):d.data[f],v=aS(d,l,m,a,o);l[f]=v,oo()&&og(d,l,v,m),ro(m,!1)}let aS=(o,a,l,d,f)=>(ao(!0),function Sy(o,a){return o.createText(a)}(a[Lt],d));function MI(o){return Uv("",o,""),MI}function Uv(o,a,l){const d=Ve(),f=kc(d,o,a,l);return f!==Xt&&function Ha(o,a,l){const d=no(a,o);!function nh(o,a,l){o.setValue(a,l)}(o[Lt],d,l)}(d,bi(),f),Uv}const mo=void 0;var Xu=["en",[["a","p"],["AM","PM"],mo],[["AM","PM"],mo,mo],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],mo,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],mo,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",mo,"{1} 'at' {0}",mo],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function jv(o){const l=Math.floor(Math.abs(o)),d=o.toString().replace(/^[^.]*\.?/,"").length;return 1===l&&0===d?1:5}];let Gs={};function Lc(o){const a=function NI(o){return o.toLowerCase().replace(/_/g,"-")}(o);let l=zv(a);if(l)return l;const d=a.split("-")[0];if(l=zv(d),l)return l;if("en"===d)return Xu;throw new ce(701,!1)}function Ph(o){return Lc(o)[_a.PluralCase]}function zv(o){return o in Gs||(Gs[o]=en.ng&&en.ng.common&&en.ng.common.locales&&en.ng.common.locales[o]),Gs[o]}var _a=function(o){return o[o.LocaleId=0]="LocaleId",o[o.DayPeriodsFormat=1]="DayPeriodsFormat",o[o.DayPeriodsStandalone=2]="DayPeriodsStandalone",o[o.DaysFormat=3]="DaysFormat",o[o.DaysStandalone=4]="DaysStandalone",o[o.MonthsFormat=5]="MonthsFormat",o[o.MonthsStandalone=6]="MonthsStandalone",o[o.Eras=7]="Eras",o[o.FirstDayOfWeek=8]="FirstDayOfWeek",o[o.WeekendRange=9]="WeekendRange",o[o.DateFormat=10]="DateFormat",o[o.TimeFormat=11]="TimeFormat",o[o.DateTimeFormat=12]="DateTimeFormat",o[o.NumberSymbols=13]="NumberSymbols",o[o.NumberFormats=14]="NumberFormats",o[o.CurrencyCode=15]="CurrencyCode",o[o.CurrencySymbol=16]="CurrencySymbol",o[o.CurrencyName=17]="CurrencyName",o[o.Currencies=18]="Currencies",o[o.Directionality=19]="Directionality",o[o.PluralCase=20]="PluralCase",o[o.ExtraData=21]="ExtraData",o}(_a||{});const kh="en-US";let OI=kh;function eb(o,a,l,d,f){if(o=Ue(o),Array.isArray(o))for(let m=0;m<o.length;m++)eb(o[m],a,l,d,f);else{const m=mn(),v=Ve(),E=Jr();let C=ep(o)?o:Ue(o.provide);const x=MP(o),k=1048575&E.providerIndexes,$=E.directiveStart,ee=E.providerIndexes>>20;if(ep(o)||!o.multi){const oe=new Oa(x,f,ju),xe=Fp(C,a,f?k:k+ee,$);-1===xe?(la(Qn(E,v),m,C),tb(m,o,a.length),a.push(C),E.directiveStart++,E.directiveEnd++,f&&(E.providerIndexes+=1048576),l.push(oe),v.push(oe)):(l[xe]=oe,v[xe]=oe)}else{const oe=Fp(C,a,k+ee,$),xe=Fp(C,a,k,k+ee),dt=xe>=0&&l[xe];if(f&&!dt||!f&&!(oe>=0&&l[oe])){la(Qn(E,v),m,C);const kt=function a_(o,a,l,d,f){const m=new Oa(o,l,ju);return m.multi=[],m.index=a,m.componentProviders=0,yr(m,f,d&&!l),m}(f?GS:Qv,l.length,f,d,x);!f&&dt&&(l[xe].providerFactory=kt),tb(m,o,a.length,0),a.push(C),E.directiveStart++,E.directiveEnd++,f&&(E.providerIndexes+=1048576),l.push(kt),v.push(kt)}else tb(m,o,oe>-1?oe:xe,yr(l[f?xe:oe],x,!f&&d));!f&&d&&dt&&l[xe].componentProviders++}}}function tb(o,a,l,d){const f=ep(a),m=function Uy(o){return!!o.useClass}(a);if(f||m){const C=(m?Ue(a.useClass):a).prototype.ngOnDestroy;if(C){const x=o.destroyHooks||(o.destroyHooks=[]);if(!f&&a.multi){const k=x.indexOf(l);-1===k?x.push(l,[d,C]):x[k+1].push(d,C)}else x.push(l,C)}}}function yr(o,a,l){return l&&o.componentProviders++,o.multi.push(a)-1}function Fp(o,a,l,d){for(let f=l;f<d;f++)if(a[f]===o)return f;return-1}function Qv(o,a,l,d){return nb(this.multi,[])}function GS(o,a,l,d){const f=this.multi;let m;if(this.providerFactory){const v=this.providerFactory.componentProviders,E=wc(l,l[ct],this.providerFactory.index,d);m=E.slice(0,v),nb(f,m);for(let C=v;C<E.length;C++)m.push(E[C])}else m=[],nb(f,m);return m}function nb(o,a){for(let l=0;l<o.length;l++)a.push((0,o[l])());return a}function qS(o,a=[]){return l=>{l.providersResolver=(d,f)=>function o_(o,a,l){const d=mn();if(d.firstCreatePass){const f=Vi(o);eb(l,d.data,d.blueprint,f,!0),eb(a,d.data,d.blueprint,f,!1)}}(d,f?f(o):o,a)}}class td{}class Uh{}function Ol(o,a){return new Xv(o,a??null,[])}class Xv extends td{constructor(a,l,d){super(),this._parent=l,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new TA(this);const f=Qr(a);this._bootstrapComponents=ma(f.bootstrap),this._r3Injector=Uo(a,l,[{provide:td,useValue:this},{provide:Sc,useValue:this.componentFactoryResolver},...d],ae(a),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(a)}get injector(){return this._r3Injector}destroy(){const a=this._r3Injector;!a.destroyed&&a.destroy(),this.destroyCbs.forEach(l=>l()),this.destroyCbs=null}onDestroy(a){this.destroyCbs.push(a)}}class Jv extends Uh{constructor(a){super(),this.moduleType=a}create(a){return new Xv(this.moduleType,a,[])}}class ew extends td{constructor(a){super(),this.componentFactoryResolver=new TA(this),this.instance=null;const l=new jy([...a.providers,{provide:td,useValue:this},{provide:Sc,useValue:this.componentFactoryResolver}],a.parent||By(),a.debugName,new Set(["environment"]));this.injector=l,a.runEnvironmentInitializers&&l.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(a){this.injector.onDestroy(a)}}function tw(o,a,l=null){return new ew({providers:o,parent:a,debugName:l,runEnvironmentInitializers:!0}).injector}let rb=(()=>{var o;class a{constructor(d){this._injector=d,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(d){if(!d.standalone)return null;if(!this.cachedInjectors.has(d)){const f=OD(0,d.type),m=f.length>0?tw([f],this._injector,`Standalone[${d.type.name}]`):null;this.cachedInjectors.set(d,m)}return this.cachedInjectors.get(d)}ngOnDestroy(){try{for(const d of this.cachedInjectors.values())null!==d&&d.destroy()}finally{this.cachedInjectors.clear()}}}return(o=a).\u0275prov=bt({token:o,providedIn:"environment",factory:()=>new o(rt(Ac))}),a})();function nw(o){o.getStandaloneInjector=a=>a.get(rb).getOrCreateStandaloneInjector(o)}function Bh(o,a){const l=o[a];return l===Xt?void 0:l}function lb(o,a,l,d,f,m,v){const E=a+l;return function Pc(o,a,l,d){const f=Ss(o,a,l);return Ss(o,a+1,d)||f}(o,E,f,m)?Mc(o,E+2,v?d.call(v,f,m):d(f,m)):Bh(o,E+2)}function ub(o,a){const l=mn();let d;const f=o+cn;l.firstCreatePass?(d=function u_(o,a){if(a)for(let l=a.length-1;l>=0;l--){const d=a[l];if(o===d.name)return d}}(a,l.pipeRegistry),l.data[f]=d,d.onDestroy&&(l.destroyHooks??=[]).push(f,d.onDestroy)):d=l.data[f];const m=d.factory||(d.factory=ko(d.type)),E=an(ju);try{const C=Gr(!1),x=m();return Gr(C),function ga(o,a,l,d){l>=o.data.length&&(o.data[l]=null,o.blueprint[l]=null),a[l]=d}(l,Ve(),f,x),x}finally{an(E)}}function db(o,a,l){const d=o+cn,f=Ve(),m=Ra(f,d);return d_(f,d)?function jh(o,a,l,d,f,m){const v=a+l;return Ss(o,v,f)?Mc(o,v+1,m?d.call(m,f):d(f)):Bh(o,v+1)}(f,ei(),a,m.transform,l,m):m.transform(l)}function Vp(o,a,l,d){const f=o+cn,m=Ve(),v=Ra(m,f);return d_(m,f)?lb(m,ei(),a,v.transform,l,d,v):v.transform(l,d)}function d_(o,a){return o[ct].data[a].pure}function Qk(){return this._results[Symbol.iterator]()}class $h{get changes(){return this._changes||(this._changes=new pa)}constructor(a=!1){this._emitDistinctChangesOnly=a,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const l=$h.prototype;l[Symbol.iterator]||(l[Symbol.iterator]=Qk)}get(a){return this._results[a]}map(a){return this._results.map(a)}filter(a){return this._results.filter(a)}find(a){return this._results.find(a)}reduce(a,l){return this._results.reduce(a,l)}forEach(a){this._results.forEach(a)}some(a){return this._results.some(a)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(a,l){const d=this;d.dirty=!1;const f=function ur(o){return o.flat(Number.POSITIVE_INFINITY)}(a);(this._changesDetected=!function bs(o,a,l){if(o.length!==a.length)return!1;for(let d=0;d<o.length;d++){let f=o[d],m=a[d];if(l&&(f=l(f),m=l(m)),m!==f)return!1}return!0}(d._results,f,l))&&(d._results=f,d.length=f.length,d.last=f[this.length-1],d.first=f[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function ax(o,a,l,d=!0){const f=a[ct];if(function dP(o,a,l,d){const f=kr+d,m=l.length;d>0&&(l[f-1][Xi]=a),d<m-kr?(a[Xi]=l[f],K0(l,kr+d,a)):(l.push(a),a[Xi]=null),a[Un]=l;const v=a[lc];null!==v&&l!==v&&function hP(o,a){const l=o[ta];a[Pr]!==a[Un][Un][Pr]&&(o[uc]=!0),null===l?o[ta]=[a]:l.push(a)}(v,a);const E=a[Ei];null!==E&&E.insertView(o),a[Yt]|=128}(f,a,o,l),d){const m=hE(l,o),v=a[Lt],E=My(v,o[Xr]);null!==E&&function rg(o,a,l,d,f,m){d[lr]=f,d[wi]=a,cg(o,d,l,1,f,m)}(f,o[wi],v,a,E,m)}}let Up=(()=>{class a{}return a.__NG_ELEMENT_ID__=Jk,a})();const Xk=Up,lx=class extends Xk{constructor(a,l,d){super(),this._declarationLView=a,this._declarationTContainer=l,this.elementRef=d}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(a,l){return this.createEmbeddedViewImpl(a,l)}createEmbeddedViewImpl(a,l,d){const f=function hb(o,a,l,d){const f=a.tView,E=uv(o,f,l,4096&o[Yt]?4096:16,null,a,null,null,null,d?.injector??null,d?.hydrationInfo??null);E[lc]=o[a.index];const x=o[Ei];return null!==x&&(E[Ei]=x.createEmbeddedView(f)),up(f,E,l),E}(this._declarationLView,this._declarationTContainer,a,{injector:l,hydrationInfo:d});return new yh(f)}};function Jk(){return aw(Jr(),Ve())}function aw(o,a){return 4&o.type?new lx(a,o,yg(o,a)):null}let Hh=(()=>{class a{}return a.__NG_ELEMENT_ID__=Gh,a})();function Gh(){return lw(Jr(),Ve())}const qh=Hh,rd=class extends qh{constructor(a,l,d){super(),this._lContainer=a,this._hostTNode=l,this._hostLView=d}get element(){return yg(this._hostTNode,this._hostLView)}get injector(){return new Lr(this._hostTNode,this._hostLView)}get parentInjector(){const a=Oo(this._hostTNode,this._hostLView);if(vc(a)){const l=ss(a,this._hostLView),d=Fr(a);return new Lr(l[ct].data[d+8],l)}return new Lr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(a){const l=Bp(this._lContainer);return null!==l&&l[a]||null}get length(){return this._lContainer.length-kr}createEmbeddedView(a,l,d){let f,m;"number"==typeof d?f=d:null!=d&&(f=d.index,m=d.injector);const E=a.createEmbeddedViewImpl(l||{},m,null);return this.insertImpl(E,f,false),E}createComponent(a,l,d,f,m){const v=a&&!function as(o){return"function"==typeof o}(a);let E;if(v)E=l;else{const Ke=l||{};E=Ke.index,d=Ke.injector,f=Ke.projectableNodes,m=Ke.environmentInjector||Ke.ngModuleRef}const C=v?a:new Ga(dn(a)),x=d||this.parentInjector;if(!m&&null==C.ngModule){const dt=(v?x:this.parentInjector).get(Ac,null);dt&&(m=dt)}dn(C.componentType??{});const oe=C.create(x,f,null,m);return this.insertImpl(oe.hostView,E,false),oe}insert(a,l){return this.insertImpl(a,l,!1)}insertImpl(a,l,d){const f=a._lView;if(function yu(o){return ci(o[Un])}(f)){const C=this.indexOf(a);if(-1!==C)this.detach(C);else{const x=f[Un],k=new rd(x,x[wi],x[Un]);k.detach(k.indexOf(a))}}const v=this._adjustIndex(l),E=this._lContainer;return ax(E,f,v,!d),a.attachToViewContainerRef(),K0(cw(E),v,a),a}move(a,l){return this.insert(a,l)}indexOf(a){const l=Bp(this._lContainer);return null!==l?l.indexOf(a):-1}remove(a){const l=this._adjustIndex(a,-1),d=Ry(this._lContainer,l);d&&(Pu(cw(this._lContainer),l),cE(d[ct],d))}detach(a){const l=this._adjustIndex(a,-1),d=Ry(this._lContainer,l);return d&&null!=Pu(cw(this._lContainer),l)?new yh(d):null}_adjustIndex(a,l=0){return a??this.length+l}};function Bp(o){return o[8]}function cw(o){return o[8]||(o[8]=[])}function lw(o,a){let l;const d=a[o.index];return ci(d)?l=d:(l=JE(d,a,null,o),a[o.index]=l,xg(a,l)),mb(l,a,o,d),new rd(l,o,a)}let mb=function gb(o,a,l,d){if(o[Xr])return;let f;f=8&l.type?Cn(d):function pb(o,a){const l=o[Lt],d=l.createComment(""),f=Ii(a,o);return sh(l,My(l,f),d,function mP(o,a){return o.nextSibling(a)}(l,f),!1),d}(a,l),o[Xr]=f};class uw{constructor(a){this.queryList=a,this.matches=null}clone(){return new uw(this.queryList)}setDirty(){this.queryList.setDirty()}}class jp{constructor(a=[]){this.queries=a}createEmbeddedView(a){const l=a.queries;if(null!==l){const d=null!==a.contentQueries?a.contentQueries[0]:l.length,f=[];for(let m=0;m<d;m++){const v=l.getByIndex(m);f.push(this.queries[v.indexInDeclarationView].clone())}return new jp(f)}return null}insertView(a){this.dirtyQueriesWithMatches(a)}detachView(a){this.dirtyQueriesWithMatches(a)}dirtyQueriesWithMatches(a){for(let l=0;l<this.queries.length;l++)null!==fw(a,l).matches&&this.queries[l].setDirty()}}class $p{constructor(a,l,d=null){this.predicate=a,this.flags=l,this.read=d}}class Ll{constructor(a=[]){this.queries=a}elementStart(a,l){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(a,l)}elementEnd(a){for(let l=0;l<this.queries.length;l++)this.queries[l].elementEnd(a)}embeddedTView(a){let l=null;for(let d=0;d<this.length;d++){const f=null!==l?l.length:0,m=this.getByIndex(d).embeddedTView(a,f);m&&(m.indexInDeclarationView=d,null!==l?l.push(m):l=[m])}return null!==l?new Ll(l):null}template(a,l){for(let d=0;d<this.queries.length;d++)this.queries[d].template(a,l)}getByIndex(a){return this.queries[a]}get length(){return this.queries.length}track(a){this.queries.push(a)}}class _b{constructor(a,l=-1){this.metadata=a,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=l}elementStart(a,l){this.isApplyingToNode(l)&&this.matchTNode(a,l)}elementEnd(a){this._declarationNodeIndex===a.index&&(this._appliesToNextNode=!1)}template(a,l){this.elementStart(a,l)}embeddedTView(a,l){return this.isApplyingToNode(a)?(this.crossesNgTemplate=!0,this.addMatch(-a.index,l),new _b(this.metadata)):null}isApplyingToNode(a){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const l=this._declarationNodeIndex;let d=a.parent;for(;null!==d&&8&d.type&&d.index!==l;)d=d.parent;return l===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(a,l){const d=this.metadata.predicate;if(Array.isArray(d))for(let f=0;f<d.length;f++){const m=d[f];this.matchTNodeWithReadOption(a,l,px(l,m)),this.matchTNodeWithReadOption(a,l,Va(l,a,m,!1,!1))}else d===Up?4&l.type&&this.matchTNodeWithReadOption(a,l,-1):this.matchTNodeWithReadOption(a,l,Va(l,a,d,!1,!1))}matchTNodeWithReadOption(a,l,d){if(null!==d){const f=this.metadata.read;if(null!==f)if(f===sp||f===Hh||f===Up&&4&l.type)this.addMatch(l.index,-2);else{const m=Va(l,a,f,!1,!1);null!==m&&this.addMatch(l.index,m)}else this.addMatch(l.index,d)}}addMatch(a,l){null===this.matches?this.matches=[a,l]:this.matches.push(a,l)}}function px(o,a){const l=o.localNames;if(null!==l)for(let d=0;d<l.length;d+=2)if(l[d]===a)return l[d+1];return null}function iN(o,a,l,d){return-1===l?function rN(o,a){return 11&o.type?yg(o,a):4&o.type?aw(o,a):null}(a,o):-2===l?function sN(o,a,l){return l===sp?yg(a,o):l===Up?aw(a,o):l===Hh?lw(a,o):void 0}(o,a,d):wc(o,o[ct],l,a)}function zp(o,a,l,d){const f=a[Ei].queries[d];if(null===f.matches){const m=o.data,v=l.matches,E=[];for(let C=0;C<v.length;C+=2){const x=v[C];E.push(x<0?null:iN(a,m[x],v[C+1],l.metadata.read))}f.matches=E}return f.matches}function Vl(o,a,l,d){const f=o.queries.getByIndex(l),m=f.matches;if(null!==m){const v=zp(o,a,f,l);for(let E=0;E<m.length;E+=2){const C=m[E];if(C>0)d.push(v[E/2]);else{const x=m[E+1],k=a[-C];for(let $=kr;$<k.length;$++){const ee=k[$];ee[lc]===ee[Un]&&Vl(ee[ct],ee,x,d)}if(null!==k[ta]){const $=k[ta];for(let ee=0;ee<$.length;ee++){const oe=$[ee];Vl(oe[ct],oe,x,d)}}}}}return d}function Ul(o){const a=Ve(),l=mn(),d=Wd();Ff(d+1);const f=fw(l,d);if(o.dirty&&function jd(o){return 4==(4&o[Yt])}(a)===(2==(2&f.metadata.flags))){if(null===f.matches)o.reset([]);else{const m=f.crossesNgTemplate?Vl(l,a,d,[]):zp(l,a,f,d);o.reset(m,UP),o.notifyOnChanges()}return!0}return!1}function yb(o,a,l){const d=mn();d.firstCreatePass&&(hw(d,new $p(o,a,l),-1),2==(2&a)&&(d.staticViewQueries=!0)),dw(d,Ve(),a)}function mx(o,a,l,d){const f=mn();if(f.firstCreatePass){const m=Jr();hw(f,new $p(a,l,d),m.index),function gx(o,a){const l=o.contentQueries||(o.contentQueries=[]);a!==(l.length?l[l.length-1]:-1)&&l.push(o.queries.length-1,a)}(f,o),2==(2&l)&&(f.staticContentQueries=!0)}dw(f,Ve(),l)}function vb(){return function oN(o,a){return o[Ei].queries[a].queryList}(Ve(),Wd())}function dw(o,a,l){const d=new $h(4==(4&l));(function pA(o,a,l,d){const f=tI(a);f.push(l),o.firstCreatePass&&_v(o).push(d,f.length-1)})(o,a,d,d.destroy),null===a[Ei]&&(a[Ei]=new jp),a[Ei].queries.push(new uw(d))}function hw(o,a,l){null===o.queries&&(o.queries=new Ll),o.queries.track(new _b(a,l))}function fw(o,a){return o.queries.getByIndex(a)}function Wh(o){return!!Qr(o)}const Mx=new kn("Application Initializer");let Ew=(()=>{var o;class a{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((d,f)=>{this.resolve=d,this.reject=f}),this.appInits=pt(Mx,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const d=[];for(const m of this.appInits){const v=m();if(Nv(v))d.push(v);else if(Ai(v)){const E=new Promise((C,x)=>{v.subscribe({complete:C,error:x})});d.push(E)}}const f=()=>{this.done=!0,this.resolve()};Promise.all(d).then(()=>{f()}).catch(m=>{this.reject(m)}),0===d.length&&f(),this.initialized=!0}}return(o=a).\u0275fac=function(d){return new(d||o)},o.\u0275prov=bt({token:o,factory:o.\u0275fac,providedIn:"root"}),a})(),Pb=(()=>{var o;class a{log(d){console.log(d)}warn(d){console.warn(d)}}return(o=a).\u0275fac=function(d){return new(d||o)},o.\u0275prov=bt({token:o,factory:o.\u0275fac,providedIn:"platform"}),a})();const Iw=new kn("LocaleId",{providedIn:"root",factory:()=>pt(Iw,Nt.Optional|Nt.SkipSelf)||function kb(){return typeof $localize<"u"&&$localize.locale||kh}()}),Px=new kn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let Yh=(()=>{var o;class a{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new le.X(!1)}add(){this.hasPendingTasks.next(!0);const d=this.taskId++;return this.pendingTasks.add(d),d}remove(d){this.pendingTasks.delete(d),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}}return(o=a).\u0275fac=function(d){return new(d||o)},o.\u0275prov=bt({token:o,factory:o.\u0275fac,providedIn:"root"}),a})();class Zp{constructor(a,l){this.ngModuleFactory=a,this.componentFactories=l}}let Nb=(()=>{var o;class a{compileModuleSync(d){return new Jv(d)}compileModuleAsync(d){return Promise.resolve(this.compileModuleSync(d))}compileModuleAndAllComponentsSync(d){const f=this.compileModuleSync(d),v=ma(Qr(d).declarations).reduce((E,C)=>{const x=dn(C);return x&&E.push(new Ga(x)),E},[]);return new Zp(f,v)}compileModuleAndAllComponentsAsync(d){return Promise.resolve(this.compileModuleAndAllComponentsSync(d))}clearCache(){}clearCacheFor(d){}getModuleId(d){}}return(o=a).\u0275fac=function(d){return new(d||o)},o.\u0275prov=bt({token:o,factory:o.\u0275fac,providedIn:"root"}),a})();const Sw=new kn(""),Hb=new kn("");let Gb,DN=(()=>{var o;class a{constructor(d,f,m){this._ngZone=d,this.registry=f,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Gb||(function AN(o){Gb=o}(m),m.addToWindow(f)),this._watchAngularEvents(),d.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{zi.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let d=this._callbacks.pop();clearTimeout(d.timeoutId),d.doneCb(this._didWork)}this._didWork=!1});else{let d=this.getPendingTasks();this._callbacks=this._callbacks.filter(f=>!f.updateCb||!f.updateCb(d)||(clearTimeout(f.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(d=>({source:d.source,creationLocation:d.creationLocation,data:d.data})):[]}addCallback(d,f,m){let v=-1;f&&f>0&&(v=setTimeout(()=>{this._callbacks=this._callbacks.filter(E=>E.timeoutId!==v),d(this._didWork,this.getPendingTasks())},f)),this._callbacks.push({doneCb:d,timeoutId:v,updateCb:m})}whenStable(d,f,m){if(m&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(d,f,m),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(d){this.registry.registerApplication(d,this)}unregisterApplication(d){this.registry.unregisterApplication(d)}findProviders(d,f,m){return[]}}return(o=a).\u0275fac=function(d){return new(d||o)(rt(zi),rt(Ux),rt(Hb))},o.\u0275prov=bt({token:o,factory:o.\u0275fac}),a})(),Ux=(()=>{var o;class a{constructor(){this._applications=new Map}registerApplication(d,f){this._applications.set(d,f)}unregisterApplication(d){this._applications.delete(d)}unregisterAllApplications(){this._applications.clear()}getTestability(d){return this._applications.get(d)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(d,f=!0){return Gb?.findTestabilityInTree(this,d,f)??null}}return(o=a).\u0275fac=function(d){return new(d||o)},o.\u0275prov=bt({token:o,factory:o.\u0275fac,providedIn:"platform"}),a})(),Uc=null;const Bx=new kn("AllowMultipleToken"),qb=new kn("PlatformDestroyListeners"),Qh=new kn("appBootstrapListener");class __{constructor(a,l){this.name=a,this.token=l}}function $l(o,a,l=[]){const d=`Platform: ${a}`,f=new kn(d);return(m=[])=>{let v=Zb();if(!v||v.injector.get(Bx,!1)){const E=[...l,...m,{provide:f,useValue:!0}];o?o(E):function Kb(o){if(Uc&&!Uc.get(Bx,!1))throw new ce(400,!1);(function xw(){!function Tf(o){bf=o}(()=>{throw new ce(600,!1)})})(),Uc=o;const a=o.get(Pw);(function Mw(o){o.get(ch,null)?.forEach(l=>l())})(o)}(function Hx(o=[],a){return xc.create({name:a,providers:[{provide:tp,useValue:"platform"},{provide:qb,useValue:new Set([()=>Uc=null])},...o]})}(E,d))}return function zx(o){const a=Zb();if(!a)throw new ce(401,!1);return a}()}}function Zb(){return Uc?.get(Pw)??null}let Pw=(()=>{var o;class a{constructor(d){this._injector=d,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(d,f){const m=function Yb(o="zone.js",a){return"noop"===o?new Bu:"zone.js"===o?new zi(a):o}(f?.ngZone,function qx(o){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:o?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:o?.runCoalescing??!1}}({eventCoalescing:f?.ngZoneEventCoalescing,runCoalescing:f?.ngZoneRunCoalescing}));return m.run(()=>{const v=function Lp(o,a,l){return new Xv(o,a,l)}(d.moduleType,this.injector,function Zx(o){return[{provide:zi,useFactory:o},{provide:fg,multi:!0,useFactory:()=>{const a=pt(Kx,{optional:!0});return()=>a.initialize()}},{provide:Wx,useFactory:SN},{provide:rA,useFactory:FE}]}(()=>m)),E=v.injector.get(fa,null);return m.runOutsideAngular(()=>{const C=m.onError.subscribe({next:x=>{E.handleError(x)}});v.onDestroy(()=>{zl(this._modules,v),C.unsubscribe()})}),function y_(o,a,l){try{const d=l();return Nv(d)?d.catch(f=>{throw a.runOutsideAngular(()=>o.handleError(f)),f}):d}catch(d){throw a.runOutsideAngular(()=>o.handleError(d)),d}}(E,m,()=>{const C=v.injector.get(Ew);return C.runInitializers(),C.donePromise.then(()=>(function FI(o){ot(o,"Expected localeId to be defined"),"string"==typeof o&&(OI=o.toLowerCase().replace(/_/g,"-"))}(v.injector.get(Iw,kh)||kh),this._moduleDoBootstrap(v),v))})})}bootstrapModule(d,f=[]){const m=kw({},f);return function Wb(o,a,l){const d=new Jv(l);return Promise.resolve(d)}(0,0,d).then(v=>this.bootstrapModuleFactory(v,m))}_moduleDoBootstrap(d){const f=d.injector.get(Xh);if(d._bootstrapComponents.length>0)d._bootstrapComponents.forEach(m=>f.bootstrap(m));else{if(!d.instance.ngDoBootstrap)throw new ce(-403,!1);d.instance.ngDoBootstrap(f)}this._modules.push(d)}onDestroy(d){this._destroyListeners.push(d)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ce(404,!1);this._modules.slice().forEach(f=>f.destroy()),this._destroyListeners.forEach(f=>f());const d=this._injector.get(qb,null);d&&(d.forEach(f=>f()),d.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return(o=a).\u0275fac=function(d){return new(d||o)(rt(xc))},o.\u0275prov=bt({token:o,factory:o.\u0275fac,providedIn:"platform"}),a})();function kw(o,a){return Array.isArray(a)?a.reduce(kw,o):{...o,...a}}let Xh=(()=>{var o;class a{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=pt(Wx),this.zoneIsStable=pt(rA),this.componentTypes=[],this.components=[],this.isStable=pt(Yh).hasPendingTasks.pipe((0,ke.w)(d=>d?(0,_e.of)(!1):this.zoneIsStable),(0,ve.x)(),(0,De.B)()),this._injector=pt(Ac)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(d,f){const m=d instanceof PE;if(!this._injector.get(Ew).done)throw!m&&ac(d),new ce(405,!1);let E;E=m?d:this._injector.get(Sc).resolveComponentFactory(d),this.componentTypes.push(E.componentType);const C=function Rw(o){return o.isBoundToModule}(E)?void 0:this._injector.get(td),k=E.create(xc.NULL,[],f||E.selector,C),$=k.location.nativeElement,ee=k.injector.get(Sw,null);return ee?.registerApplication($),k.onDestroy(()=>{this.detachView(k.hostView),zl(this.components,k),ee?.unregisterApplication($)}),this._loadComponent(k),k}tick(){if(this._runningTick)throw new ce(101,!1);try{this._runningTick=!0;for(let d of this._views)d.detectChanges()}catch(d){this.internalErrorHandler(d)}finally{this._runningTick=!1}}attachView(d){const f=d;this._views.push(f),f.attachToAppRef(this)}detachView(d){const f=d;zl(this._views,f),f.detachFromAppRef()}_loadComponent(d){this.attachView(d.hostView),this.tick(),this.components.push(d);const f=this._injector.get(Qh,[]);f.push(...this._bootstrapListeners),f.forEach(m=>m(d))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(d=>d()),this._views.slice().forEach(d=>d.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(d){return this._destroyListeners.push(d),()=>zl(this._destroyListeners,d)}destroy(){if(this._destroyed)throw new ce(406,!1);const d=this._injector;d.destroy&&!d.destroyed&&d.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return(o=a).\u0275fac=function(d){return new(d||o)},o.\u0275prov=bt({token:o,factory:o.\u0275fac,providedIn:"root"}),a})();function zl(o,a){const l=o.indexOf(a);l>-1&&o.splice(l,1)}const Wx=new kn("",{providedIn:"root",factory:()=>pt(fa).handleError.bind(void 0)});function SN(){const o=pt(zi),a=pt(fa);return l=>o.runOutsideAngular(()=>a.handleError(l))}let Kx=(()=>{var o;class a{constructor(){this.zone=pt(zi),this.applicationRef=pt(Xh)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return(o=a).\u0275fac=function(d){return new(d||o)},o.\u0275prov=bt({token:o,factory:o.\u0275fac,providedIn:"root"}),a})();function RN(){return!1}let Xb=(()=>{class a{}return a.__NG_ELEMENT_ID__=Jx,a})();function Jx(o){return function Jb(o,a,l){if(Po(o)&&!l){const d=ui(o.index,a);return new yh(d,d)}return 47&o.type?new yh(a[Pr],a):null}(Jr(),Ve(),16==(16&o))}class oR{constructor(){}supports(a){return pp(a)}create(a){return new cR(a)}}const aR=(o,a)=>a;class cR{constructor(a){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=a||aR}forEachItem(a){let l;for(l=this._itHead;null!==l;l=l._next)a(l)}forEachOperation(a){let l=this._itHead,d=this._removalsHead,f=0,m=null;for(;l||d;){const v=!d||l&&l.currentIndex<hR(d,f,m)?l:d,E=hR(v,f,m),C=v.currentIndex;if(v===d)f--,d=d._nextRemoved;else if(l=l._next,null==v.previousIndex)f++;else{m||(m=[]);const x=E-f,k=C-f;if(x!=k){for(let ee=0;ee<x;ee++){const oe=ee<m.length?m[ee]:m[ee]=0,xe=oe+ee;k<=xe&&xe<x&&(m[ee]=oe+1)}m[v.previousIndex]=k-x}}E!==C&&a(v,E,C)}}forEachPreviousItem(a){let l;for(l=this._previousItHead;null!==l;l=l._nextPrevious)a(l)}forEachAddedItem(a){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)a(l)}forEachMovedItem(a){let l;for(l=this._movesHead;null!==l;l=l._nextMoved)a(l)}forEachRemovedItem(a){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)a(l)}forEachIdentityChange(a){let l;for(l=this._identityChangesHead;null!==l;l=l._nextIdentityChange)a(l)}diff(a){if(null==a&&(a=[]),!pp(a))throw new ce(900,!1);return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let f,m,v,l=this._itHead,d=!1;if(Array.isArray(a)){this.length=a.length;for(let E=0;E<this.length;E++)m=a[E],v=this._trackByFn(E,m),null!==l&&Object.is(l.trackById,v)?(d&&(l=this._verifyReinsertion(l,m,v,E)),Object.is(l.item,m)||this._addIdentityChange(l,m)):(l=this._mismatch(l,m,v,E),d=!0),l=l._next}else f=0,function kA(o,a){if(Array.isArray(o))for(let l=0;l<o.length;l++)a(o[l]);else{const l=o[Symbol.iterator]();let d;for(;!(d=l.next()).done;)a(d.value)}}(a,E=>{v=this._trackByFn(f,E),null!==l&&Object.is(l.trackById,v)?(d&&(l=this._verifyReinsertion(l,E,v,f)),Object.is(l.item,E)||this._addIdentityChange(l,E)):(l=this._mismatch(l,E,v,f),d=!0),l=l._next,f++}),this.length=f;return this._truncate(l),this.collection=a,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let a;for(a=this._previousItHead=this._itHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._additionsHead;null!==a;a=a._nextAdded)a.previousIndex=a.currentIndex;for(this._additionsHead=this._additionsTail=null,a=this._movesHead;null!==a;a=a._nextMoved)a.previousIndex=a.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(a,l,d,f){let m;return null===a?m=this._itTail:(m=a._prev,this._remove(a)),null!==(a=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(a.item,l)||this._addIdentityChange(a,l),this._reinsertAfter(a,m,f)):null!==(a=null===this._linkedRecords?null:this._linkedRecords.get(d,f))?(Object.is(a.item,l)||this._addIdentityChange(a,l),this._moveAfter(a,m,f)):a=this._addAfter(new lR(l,d),m,f),a}_verifyReinsertion(a,l,d,f){let m=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==m?a=this._reinsertAfter(m,a._prev,f):a.currentIndex!=f&&(a.currentIndex=f,this._addToMoves(a,f)),a}_truncate(a){for(;null!==a;){const l=a._next;this._addToRemovals(this._unlink(a)),a=l}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(a,l,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(a);const f=a._prevRemoved,m=a._nextRemoved;return null===f?this._removalsHead=m:f._nextRemoved=m,null===m?this._removalsTail=f:m._prevRemoved=f,this._insertAfter(a,l,d),this._addToMoves(a,d),a}_moveAfter(a,l,d){return this._unlink(a),this._insertAfter(a,l,d),this._addToMoves(a,d),a}_addAfter(a,l,d){return this._insertAfter(a,l,d),this._additionsTail=null===this._additionsTail?this._additionsHead=a:this._additionsTail._nextAdded=a,a}_insertAfter(a,l,d){const f=null===l?this._itHead:l._next;return a._next=f,a._prev=l,null===f?this._itTail=a:f._prev=a,null===l?this._itHead=a:l._next=a,null===this._linkedRecords&&(this._linkedRecords=new dR),this._linkedRecords.put(a),a.currentIndex=d,a}_remove(a){return this._addToRemovals(this._unlink(a))}_unlink(a){null!==this._linkedRecords&&this._linkedRecords.remove(a);const l=a._prev,d=a._next;return null===l?this._itHead=d:l._next=d,null===d?this._itTail=l:d._prev=l,a}_addToMoves(a,l){return a.previousIndex===l||(this._movesTail=null===this._movesTail?this._movesHead=a:this._movesTail._nextMoved=a),a}_addToRemovals(a){return null===this._unlinkedRecords&&(this._unlinkedRecords=new dR),this._unlinkedRecords.put(a),a.currentIndex=null,a._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=a,a._prevRemoved=null):(a._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=a),a}_addIdentityChange(a,l){return a.item=l,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=a:this._identityChangesTail._nextIdentityChange=a,a}}class lR{constructor(a,l){this.item=a,this.trackById=l,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class uR{constructor(){this._head=null,this._tail=null}add(a){null===this._head?(this._head=this._tail=a,a._nextDup=null,a._prevDup=null):(this._tail._nextDup=a,a._prevDup=this._tail,a._nextDup=null,this._tail=a)}get(a,l){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===l||l<=d.currentIndex)&&Object.is(d.trackById,a))return d;return null}remove(a){const l=a._prevDup,d=a._nextDup;return null===l?this._head=d:l._nextDup=d,null===d?this._tail=l:d._prevDup=l,null===this._head}}class dR{constructor(){this.map=new Map}put(a){const l=a.trackById;let d=this.map.get(l);d||(d=new uR,this.map.set(l,d)),d.add(a)}get(a,l){const f=this.map.get(a);return f?f.get(a,l):null}remove(a){const l=a.trackById;return this.map.get(l).remove(a)&&this.map.delete(l),a}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function hR(o,a,l){const d=o.previousIndex;if(null===d)return d;let f=0;return l&&d<l.length&&(f=l[d]),d+a+f}class fR{constructor(){}supports(a){return a instanceof Map||Cv(a)}create(){return new PN}}class PN{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(a){let l;for(l=this._mapHead;null!==l;l=l._next)a(l)}forEachPreviousItem(a){let l;for(l=this._previousMapHead;null!==l;l=l._nextPrevious)a(l)}forEachChangedItem(a){let l;for(l=this._changesHead;null!==l;l=l._nextChanged)a(l)}forEachAddedItem(a){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)a(l)}forEachRemovedItem(a){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)a(l)}diff(a){if(a){if(!(a instanceof Map||Cv(a)))throw new ce(900,!1)}else a=new Map;return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let l=this._mapHead;if(this._appendAfter=null,this._forEach(a,(d,f)=>{if(l&&l.key===f)this._maybeAddToChanges(l,d),this._appendAfter=l,l=l._next;else{const m=this._getOrCreateRecordForKey(f,d);l=this._insertBeforeOrAppend(l,m)}}),l){l._prev&&(l._prev._next=null),this._removalsHead=l;for(let d=l;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(a,l){if(a){const d=a._prev;return l._next=a,l._prev=d,a._prev=l,d&&(d._next=l),a===this._mapHead&&(this._mapHead=l),this._appendAfter=a,a}return this._appendAfter?(this._appendAfter._next=l,l._prev=this._appendAfter):this._mapHead=l,this._appendAfter=l,null}_getOrCreateRecordForKey(a,l){if(this._records.has(a)){const f=this._records.get(a);this._maybeAddToChanges(f,l);const m=f._prev,v=f._next;return m&&(m._next=v),v&&(v._prev=m),f._next=null,f._prev=null,f}const d=new rT(a);return this._records.set(a,d),d.currentValue=l,this._addToAdditions(d),d}_reset(){if(this.isDirty){let a;for(this._previousMapHead=this._mapHead,a=this._previousMapHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._changesHead;null!==a;a=a._nextChanged)a.previousValue=a.currentValue;for(a=this._additionsHead;null!=a;a=a._nextAdded)a.previousValue=a.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(a,l){Object.is(l,a.currentValue)||(a.previousValue=a.currentValue,a.currentValue=l,this._addToChanges(a))}_addToAdditions(a){null===this._additionsHead?this._additionsHead=this._additionsTail=a:(this._additionsTail._nextAdded=a,this._additionsTail=a)}_addToChanges(a){null===this._changesHead?this._changesHead=this._changesTail=a:(this._changesTail._nextChanged=a,this._changesTail=a)}_forEach(a,l){a instanceof Map?a.forEach(l):Object.keys(a).forEach(d=>l(a[d],d))}}class rT{constructor(a){this.key=a,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Fw(){return new I_([new oR])}let I_=(()=>{var o;class a{constructor(d){this.factories=d}static create(d,f){if(null!=f){const m=f.factories.slice();d=d.concat(m)}return new a(d)}static extend(d){return{provide:a,useFactory:f=>a.create(d,f||Fw()),deps:[[a,new ut,new me]]}}find(d){const f=this.factories.find(m=>m.supports(d));if(null!=f)return f;throw new ce(901,!1)}}return(o=a).\u0275prov=bt({token:o,providedIn:"root",factory:Fw}),a})();function Lw(){return new iT([new fR])}let iT=(()=>{var o;class a{constructor(d){this.factories=d}static create(d,f){if(f){const m=f.factories.slice();d=d.concat(m)}return new a(d)}static extend(d){return{provide:a,useFactory:f=>a.create(d,f||Lw()),deps:[[a,new ut,new me]]}}find(d){const f=this.factories.find(m=>m.supports(d));if(f)return f;throw new ce(901,!1)}}return(o=a).\u0275prov=bt({token:o,providedIn:"root",factory:Lw}),a})();const NN=$l(null,"core",[]);let oT=(()=>{var o;class a{constructor(d){}}return(o=a).\u0275fac=function(d){return new(d||o)(rt(Xh))},o.\u0275mod=bd({type:o}),o.\u0275inj=Zn({}),a})();function hT(o){return"boolean"==typeof o?o:null!=o&&"false"!==o}function b_(o){const a=dn(o);if(!a)return null;const l=new Ga(a);return{get selector(){return l.selector},get type(){return l.componentType},get inputs(){return l.inputs},get outputs(){return l.outputs},get ngContentSelectors(){return l.ngContentSelectors},get isStandalone(){return a.standalone},get isSignal(){return a.signals}}}},3399:(It,Re,V)=>{V.d(Re,{Z:()=>it});var u=V(9058),H=V(4537),O=V(7592),re=V(7879);class le{constructor(at,Le){this._delegate=at,this.firebase=Le,(0,O._addComponent)(at,new H.wA("app-compat",()=>this,"PUBLIC")),this.container=at.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(at){this._delegate.automaticDataCollectionEnabled=at}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(at=>{this._delegate.checkDestroyed(),at()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,O.deleteApp)(this._delegate)))}_getService(at,Le=O._DEFAULT_ENTRY_NAME){var Dt;this._delegate.checkDestroyed();const wt=this._delegate.container.getProvider(at);return!wt.isInitialized()&&"EXPLICIT"===(null===(Dt=wt.getComponent())||void 0===Dt?void 0:Dt.instantiationMode)&&wt.initialize(),wt.getImmediate({identifier:Le})}_removeServiceInstance(at,Le=O._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(at).clearInstance(Le)}_addComponent(at){(0,O._addComponent)(this._delegate,at)}_addOrOverwriteComponent(at){(0,O._addOrOverwriteComponent)(this._delegate,at)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const De=new u.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),z=function ve(){const Ue=function ke(Ue){const at={},Le={__esModule:!0,initializeApp:function ce(He,W={}){const Oe=O.initializeApp(He,W);if((0,u.r3)(at,Oe.name))return at[Oe.name];const et=new Ue(Oe,Le);return at[Oe.name]=et,et},app:wt,registerVersion:O.registerVersion,setLogLevel:O.setLogLevel,onLog:O.onLog,apps:null,SDK_VERSION:O.SDK_VERSION,INTERNAL:{registerComponent:function pe(He){const W=He.name,Oe=W.replace("-compat","");if(O._registerComponent(He)&&"PUBLIC"===He.type){const et=(Rt=wt())=>{if("function"!=typeof Rt[Oe])throw De.create("invalid-app-argument",{appName:W});return Rt[Oe]()};void 0!==He.serviceProps&&(0,u.ZB)(et,He.serviceProps),Le[Oe]=et,Ue.prototype[Oe]=function(...Rt){return this._getService.bind(this,W).apply(this,He.multipleInstances?Rt:[])}}return"PUBLIC"===He.type?Le[Oe]:null},removeApp:function Dt(He){delete at[He]},useAsService:function Ae(He,W){return"serverAuth"===W?null:W},modularAPIs:O}};function wt(He){if(!(0,u.r3)(at,He=He||O._DEFAULT_ENTRY_NAME))throw De.create("no-app",{appName:He});return at[He]}return Le.default=Le,Object.defineProperty(Le,"apps",{get:function Me(){return Object.keys(at).map(He=>at[He])}}),wt.App=Ue,Le}(le);return Ue.INTERNAL=Object.assign(Object.assign({},Ue.INTERNAL),{createFirebaseNamespace:ve,extendNamespace:function at(Le){(0,u.ZB)(Ue,Le)},createSubscribe:u.ne,ErrorFactory:u.LL,deepExtend:u.ZB}),Ue}(),Y=new re.Yd("@firebase/app-compat");if((0,u.jU)()&&void 0!==self.firebase){Y.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Ue=self.firebase.SDK_VERSION;Ue&&Ue.indexOf("LITE")>=0&&Y.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const it=z;!function Fe(Ue){(0,O.registerVersion)("@firebase/app-compat","0.2.13",Ue)}()},7592:(It,Re,V)=>{V.r(Re),V.d(Re,{FirebaseError:()=>re.ZR,SDK_VERSION:()=>Zn,_DEFAULT_ENTRY_NAME:()=>de,_addComponent:()=>Pe,_addOrOverwriteComponent:()=>Xe,_apps:()=>Ie,_clearComponents:()=>$t,_components:()=>fe,_getProvider:()=>tt,_registerComponent:()=>ot,_removeServiceInstance:()=>Tn,deleteApp:()=>ki,getApp:()=>En,getApps:()=>fr,initializeApp:()=>zn,onLog:()=>Jn,registerVersion:()=>qn,setLogLevel:()=>ri});var u=V(5861),H=V(4537),O=V(7879),re=V(9058),le=V(1878);class _e{constructor(Q){this.container=Q}getPlatformInfoString(){return this.container.getProviders().map(Ce=>{if(function De(Ee){const Q=Ee.getComponent();return"VERSION"===Q?.type}(Ce)){const We=Ce.getImmediate();return`${We.library}/${We.version}`}return null}).filter(Ce=>Ce).join(" ")}}const ke="@firebase/app",z=new O.Yd("@firebase/app"),de="[DEFAULT]",ye={[ke]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Ie=new Map,fe=new Map;function Pe(Ee,Q){try{Ee.container.addComponent(Q)}catch(Ce){z.debug(`Component ${Q.name} failed to register with FirebaseApp ${Ee.name}`,Ce)}}function Xe(Ee,Q){Ee.container.addOrOverwriteComponent(Q)}function ot(Ee){const Q=Ee.name;if(fe.has(Q))return z.debug(`There were multiple attempts to register component ${Q}.`),!1;fe.set(Q,Ee);for(const Ce of Ie.values())Pe(Ce,Ee);return!0}function tt(Ee,Q){const Ce=Ee.container.getProvider("heartbeat").getImmediate({optional:!0});return Ce&&Ce.triggerHeartbeat(),Ee.container.getProvider(Q)}function Tn(Ee,Q,Ce=de){tt(Ee,Q).clearInstance(Ce)}function $t(){fe.clear()}const bt=new re.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class wn{constructor(Q,Ce,We){this._isDeleted=!1,this._options=Object.assign({},Q),this._config=Object.assign({},Ce),this._name=Ce.name,this._automaticDataCollectionEnabled=Ce.automaticDataCollectionEnabled,this._container=We,this.container.addComponent(new H.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Q){this.checkDestroyed(),this._automaticDataCollectionEnabled=Q}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Q){this._isDeleted=Q}checkDestroyed(){if(this.isDeleted)throw bt.create("app-deleted",{appName:this._name})}}const Zn="9.23.0";function zn(Ee,Q={}){let Ce=Ee;"object"!=typeof Q&&(Q={name:Q});const We=Object.assign({name:de,automaticDataCollectionEnabled:!1},Q),yt=We.name;if("string"!=typeof yt||!yt)throw bt.create("bad-app-name",{appName:String(yt)});if(Ce||(Ce=(0,re.aH)()),!Ce)throw bt.create("no-options");const Tt=Ie.get(yt);if(Tt){if((0,re.vZ)(Ce,Tt.options)&&(0,re.vZ)(We,Tt.config))return Tt;throw bt.create("duplicate-app",{appName:yt})}const yn=new H.H0(yt);for(const G of fe.values())yn.addComponent(G);const q=new wn(Ce,We,yn);return Ie.set(yt,q),q}function En(Ee=de){const Q=Ie.get(Ee);if(!Q&&Ee===de&&(0,re.aH)())return zn();if(!Q)throw bt.create("no-app",{appName:Ee});return Q}function fr(){return Array.from(Ie.values())}function ki(Ee){return Rr.apply(this,arguments)}function Rr(){return(Rr=(0,u.Z)(function*(Ee){const Q=Ee.name;Ie.has(Q)&&(Ie.delete(Q),yield Promise.all(Ee.container.getProviders().map(Ce=>Ce.delete())),Ee.isDeleted=!0)})).apply(this,arguments)}function qn(Ee,Q,Ce){var We;let yt=null!==(We=ye[Ee])&&void 0!==We?We:Ee;Ce&&(yt+=`-${Ce}`);const Tt=yt.match(/\s|\//),yn=Q.match(/\s|\//);if(Tt||yn){const q=[`Unable to register library "${yt}" with version "${Q}":`];return Tt&&q.push(`library name "${yt}" contains illegal characters (whitespace or "/")`),Tt&&yn&&q.push("and"),yn&&q.push(`version name "${Q}" contains illegal characters (whitespace or "/")`),void z.warn(q.join(" "))}ot(new H.wA(`${yt}-version`,()=>({library:yt,version:Q}),"VERSION"))}function Jn(Ee,Q){if(null!==Ee&&"function"!=typeof Ee)throw bt.create("invalid-log-argument");(0,O.Am)(Ee,Q)}function ri(Ee){(0,O.Ub)(Ee)}const ms="firebase-heartbeat-database",Nt=1,Ft="firebase-heartbeat-store";let Wt=null;function an(){return Wt||(Wt=(0,le.X3)(ms,Nt,{upgrade:(Ee,Q)=>{0===Q&&Ee.createObjectStore(Ft)}}).catch(Ee=>{throw bt.create("idb-open",{originalErrorMessage:Ee.message})})),Wt}function vr(){return(vr=(0,u.Z)(function*(Ee){try{return yield(yield an()).transaction(Ft).objectStore(Ft).get(Ni(Ee))}catch(Q){if(Q instanceof re.ZR)z.warn(Q.message);else{const Ce=bt.create("idb-get",{originalErrorMessage:Q?.message});z.warn(Ce.message)}}})).apply(this,arguments)}function en(Ee,Q){return Hn.apply(this,arguments)}function Hn(){return(Hn=(0,u.Z)(function*(Ee,Q){try{const We=(yield an()).transaction(Ft,"readwrite");yield We.objectStore(Ft).put(Q,Ni(Ee)),yield We.done}catch(Ce){if(Ce instanceof re.ZR)z.warn(Ce.message);else{const We=bt.create("idb-set",{originalErrorMessage:Ce?.message});z.warn(We.message)}}})).apply(this,arguments)}function Ni(Ee){return`${Ee.name}!${Ee.options.appId}`}class sn{constructor(Q){this.container=Q,this._heartbeatsCache=null;const Ce=this.container.getProvider("app").getImmediate();this._storage=new gs(Ce),this._heartbeatsCachePromise=this._storage.read().then(We=>(this._heartbeatsCache=We,We))}triggerHeartbeat(){var Q=this;return(0,u.Z)(function*(){const We=Q.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),yt=Gn();if(null===Q._heartbeatsCache&&(Q._heartbeatsCache=yield Q._heartbeatsCachePromise),Q._heartbeatsCache.lastSentHeartbeatDate!==yt&&!Q._heartbeatsCache.heartbeats.some(Tt=>Tt.date===yt))return Q._heartbeatsCache.heartbeats.push({date:yt,agent:We}),Q._heartbeatsCache.heartbeats=Q._heartbeatsCache.heartbeats.filter(Tt=>{const yn=new Date(Tt.date).valueOf();return Date.now()-yn<=2592e6}),Q._storage.overwrite(Q._heartbeatsCache)})()}getHeartbeatsHeader(){var Q=this;return(0,u.Z)(function*(){if(null===Q._heartbeatsCache&&(yield Q._heartbeatsCachePromise),null===Q._heartbeatsCache||0===Q._heartbeatsCache.heartbeats.length)return"";const Ce=Gn(),{heartbeatsToSend:We,unsentEntries:yt}=function Qi(Ee,Q=1024){const Ce=[];let We=Ee.slice();for(const yt of Ee){const Tt=Ce.find(yn=>yn.agent===yt.agent);if(Tt){if(Tt.dates.push(yt.date),wr(Ce)>Q){Tt.dates.pop();break}}else if(Ce.push({agent:yt.agent,dates:[yt.date]}),wr(Ce)>Q){Ce.pop();break}We=We.slice(1)}return{heartbeatsToSend:Ce,unsentEntries:We}}(Q._heartbeatsCache.heartbeats),Tt=(0,re.L)(JSON.stringify({version:2,heartbeats:We}));return Q._heartbeatsCache.lastSentHeartbeatDate=Ce,yt.length>0?(Q._heartbeatsCache.heartbeats=yt,yield Q._storage.overwrite(Q._heartbeatsCache)):(Q._heartbeatsCache.heartbeats=[],Q._storage.overwrite(Q._heartbeatsCache)),Tt})()}}function Gn(){return(new Date).toISOString().substring(0,10)}class gs{constructor(Q){this.app=Q,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,u.Z)(function*(){return!!(0,re.hl)()&&(0,re.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Q=this;return(0,u.Z)(function*(){return(yield Q._canUseIndexedDBPromise)&&(yield function pr(Ee){return vr.apply(this,arguments)}(Q.app))||{heartbeats:[]}})()}overwrite(Q){var Ce=this;return(0,u.Z)(function*(){var We;if(yield Ce._canUseIndexedDBPromise){const Tt=yield Ce.read();return en(Ce.app,{lastSentHeartbeatDate:null!==(We=Q.lastSentHeartbeatDate)&&void 0!==We?We:Tt.lastSentHeartbeatDate,heartbeats:Q.heartbeats})}})()}add(Q){var Ce=this;return(0,u.Z)(function*(){var We;if(yield Ce._canUseIndexedDBPromise){const Tt=yield Ce.read();return en(Ce.app,{lastSentHeartbeatDate:null!==(We=Q.lastSentHeartbeatDate)&&void 0!==We?We:Tt.lastSentHeartbeatDate,heartbeats:[...Tt.heartbeats,...Q.heartbeats]})}})()}}function wr(Ee){return(0,re.L)(JSON.stringify({version:2,heartbeats:Ee})).length}!function ar(Ee){ot(new H.wA("platform-logger",Q=>new _e(Q),"PRIVATE")),ot(new H.wA("heartbeat",Q=>new sn(Q),"PRIVATE")),qn(ke,"0.9.13",Ee),qn(ke,"0.9.13","esm2017"),qn("fire-js","")}("")},4097:(It,Re,V)=>{V.d(Re,{C6:()=>u.getApps,KN:()=>u.registerVersion,Mq:()=>u.getApp,ZF:()=>u.initializeApp});var u=V(7592);(0,u.registerVersion)("firebase","9.23.0","app")},120:(It,Re,V)=>{V.d(Re,{Z:()=>u.Z});var u=V(3399);u.Z.registerVersion("firebase","9.23.0","app-compat")},8661:(It,Re,V)=>{V.r(Re);var u=V(5861),H=V(3399),O=V(6710),re=V(9058),De=(V(7592),V(7879),V(4537));function ke(){return window}function Y(){return Y=(0,u.Z)(function*(U,B,F){var se;const{BuildInfo:Ne}=ke();(0,O.as)(B.sessionId,"AuthEvent did not contain a session ID");const rt=yield function Le(U){return Dt.apply(this,arguments)}(B.sessionId),Gt={};return(0,O.at)()?Gt.ibi=Ne.packageName:(0,O.au)()?Gt.apn=Ne.packageName:(0,O.av)(U,"operation-not-supported-in-this-environment"),Ne.displayName&&(Gt.appDisplayName=Ne.displayName),Gt.sessionId=rt,(0,O.aw)(U,F,B.type,void 0,null!==(se=B.eventId)&&void 0!==se?se:void 0,Gt)}),Y.apply(this,arguments)}function Ge(){return(Ge=(0,u.Z)(function*(U){const{BuildInfo:B}=ke(),F={};(0,O.at)()?F.iosBundleId=B.packageName:(0,O.au)()?F.androidPackageName=B.packageName:(0,O.av)(U,"operation-not-supported-in-this-environment"),yield(0,O.ax)(U,F)})).apply(this,arguments)}function Ue(){return(Ue=(0,u.Z)(function*(U,B,F){const{cordova:se}=ke();let Ne=()=>{};try{yield new Promise((rt,Gt)=>{let pt=null;function In(){var tn;rt();const Oi=null===(tn=se.plugins.browsertab)||void 0===tn?void 0:tn.close;"function"==typeof Oi&&Oi(),"function"==typeof F?.close&&F.close()}function Kt(){pt||(pt=window.setTimeout(()=>{Gt((0,O.az)(U,"redirect-cancelled-by-user"))},2e3))}function Pn(){"visible"===document?.visibilityState&&Kt()}B.addPassiveListener(In),document.addEventListener("resume",Kt,!1),(0,O.au)()&&document.addEventListener("visibilitychange",Pn,!1),Ne=()=>{B.removePassiveListener(In),document.removeEventListener("resume",Kt,!1),document.removeEventListener("visibilitychange",Pn,!1),pt&&window.clearTimeout(pt)}})}finally{Ne()}})).apply(this,arguments)}function Dt(){return(Dt=(0,u.Z)(function*(U){const B=function wt(U){if((0,O.as)(/[0-9a-zA-Z]+/.test(U),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(U);const B=new ArrayBuffer(U.length),F=new Uint8Array(B);for(let se=0;se<U.length;se++)F[se]=U.charCodeAt(se);return F}(U),F=yield crypto.subtle.digest("SHA-256",B);return Array.from(new Uint8Array(F)).map(Ne=>Ne.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class Me extends O.aB{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(B=>{this.resolveInialized=B})}addPassiveListener(B){this.passiveListeners.add(B)}removePassiveListener(B){this.passiveListeners.delete(B)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(B){return this.resolveInialized(),this.passiveListeners.forEach(F=>F(B)),super.onEvent(B)}initialized(){var B=this;return(0,u.Z)(function*(){yield B.initPromise})()}}function He(U){return W.apply(this,arguments)}function W(){return(W=(0,u.Z)(function*(U){const B=yield Rt()._get(gn(U));return B&&(yield Rt()._remove(gn(U))),B})).apply(this,arguments)}function et(){const U=[];for(let F=0;F<20;F++){const se=Math.floor(62*Math.random());U.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(se))}return U.join("")}function Rt(){return(0,O.aC)(O.b)}function gn(U){return(0,O.aD)("authEvent",U.config.apiKey,U.name)}function Vn(U){if(!U?.includes("?"))return{};const[B,...F]=U.split("?");return(0,re.zd)(F.join("?"))}const de=class Hr{constructor(){this._redirectPersistence=O.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=O.aE,this._overrideRedirectResult=O.aF}_initialize(B){var F=this;return(0,u.Z)(function*(){const se=B._key();let Ne=F.eventManagers.get(se);return Ne||(Ne=new Me(B),F.eventManagers.set(se,Ne),F.attachCallbackListeners(B,Ne)),Ne})()}_openPopup(B){(0,O.av)(B,"operation-not-supported-in-this-environment")}_openRedirect(B,F,se,Ne){var rt=this;return(0,u.Z)(function*(){!function at(U){var B,F,se,Ne,rt,Gt,pt,In,Kt,Pn;const tn=ke();(0,O.aA)("function"==typeof(null===(B=tn?.universalLinks)||void 0===B?void 0:B.subscribe),U,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,O.aA)(typeof(null===(F=tn?.BuildInfo)||void 0===F?void 0:F.packageName)<"u",U,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,O.aA)("function"==typeof(null===(rt=null===(Ne=null===(se=tn?.cordova)||void 0===se?void 0:se.plugins)||void 0===Ne?void 0:Ne.browsertab)||void 0===rt?void 0:rt.openUrl),U,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,O.aA)("function"==typeof(null===(In=null===(pt=null===(Gt=tn?.cordova)||void 0===Gt?void 0:Gt.plugins)||void 0===pt?void 0:pt.browsertab)||void 0===In?void 0:In.isAvailable),U,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,O.aA)("function"==typeof(null===(Pn=null===(Kt=tn?.cordova)||void 0===Kt?void 0:Kt.InAppBrowser)||void 0===Pn?void 0:Pn.open),U,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(B);const Gt=yield rt._initialize(B);yield Gt.initialized(),Gt.resetRedirect(),(0,O.aG)(),yield rt._originValidation(B);const pt=function pe(U,B,F=null){return{type:B,eventId:F,urlResponse:null,sessionId:et(),postBody:null,tenantId:U.tenantId,error:(0,O.az)(U,"no-auth-event")}}(B,se,Ne);yield function Ae(U,B){return Rt()._set(gn(U),B)}(B,pt);const In=yield function z(U,B,F){return Y.apply(this,arguments)}(B,pt,F),Kt=yield function Fe(U){const{cordova:B}=ke();return new Promise(F=>{B.plugins.browsertab.isAvailable(se=>{let Ne=null;se?B.plugins.browsertab.openUrl(U):Ne=B.InAppBrowser.open(U,(0,O.ay)()?"_blank":"_system","location=yes"),F(Ne)})})}(In);return function it(U,B,F){return Ue.apply(this,arguments)}(B,Gt,Kt)})()}_isIframeWebStorageSupported(B,F){throw new Error("Method not implemented.")}_originValidation(B){const F=B._key();return this.originValidationPromises[F]||(this.originValidationPromises[F]=function ae(U){return Ge.apply(this,arguments)}(B)),this.originValidationPromises[F]}attachCallbackListeners(B,F){const{universalLinks:se,handleOpenURL:Ne,BuildInfo:rt}=ke(),Gt=setTimeout((0,u.Z)(function*(){yield He(B),F.onEvent(ye())}),500),pt=function(){var Pn=(0,u.Z)(function*(tn){clearTimeout(Gt);const Oi=yield He(B);let Ea=null;Oi&&tn?.url&&(Ea=function Oe(U,B){var F,se;const Ne=function Ln(U){const B=Vn(U),F=B.link?decodeURIComponent(B.link):void 0,se=Vn(F).link,Ne=B.deep_link_id?decodeURIComponent(B.deep_link_id):void 0;return Vn(Ne).link||Ne||se||F||U}(B);if(Ne.includes("/__/auth/callback")){const rt=Vn(Ne),Gt=rt.firebaseError?function Fn(U){try{return JSON.parse(U)}catch{return null}}(decodeURIComponent(rt.firebaseError)):null,pt=null===(se=null===(F=Gt?.code)||void 0===F?void 0:F.split("auth/"))||void 0===se?void 0:se[1],In=pt?(0,O.az)(pt):null;return In?{type:U.type,eventId:U.eventId,tenantId:U.tenantId,error:In,urlResponse:null,sessionId:null,postBody:null}:{type:U.type,eventId:U.eventId,tenantId:U.tenantId,sessionId:U.sessionId,urlResponse:Ne,postBody:null}}return null}(Oi,tn.url)),F.onEvent(Ea||ye())});return function(Oi){return Pn.apply(this,arguments)}}();typeof se<"u"&&"function"==typeof se.subscribe&&se.subscribe(null,pt);const In=Ne,Kt=`${rt.packageName.toLowerCase()}://`;ke().handleOpenURL=function(){var Pn=(0,u.Z)(function*(tn){if(tn.toLowerCase().startsWith(Kt)&&pt({url:tn}),"function"==typeof In)try{In(tn)}catch(Oi){console.error(Oi)}});return function(tn){return Pn.apply(this,arguments)}}()}};function ye(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,O.az)("no-auth-event")}}function ot(){var U;return(null===(U=self?.location)||void 0===U?void 0:U.protocol)||null}function Tn(U=(0,re.z$)()){return!("file:"!==ot()&&"ionic:"!==ot()&&"capacitor:"!==ot()||!U.toLowerCase().match(/iphone|ipad|ipod|android/))}function Zn(){try{const U=self.localStorage,B=O.aL();if(U)return U.setItem(B,"1"),U.removeItem(B),!function wn(U=(0,re.z$)()){return function un(){return(0,re.w1)()&&11===document?.documentMode}()||function bt(U=(0,re.z$)()){return/Edge\/\d+/.test(U)}(U)}()||(0,re.hl)()}catch{return zn()&&(0,re.hl)()}return!1}function zn(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function En(){return(function tt(){return"http:"===ot()||"https:"===ot()}()||(0,re.ru)()||Tn())&&!function $t(){return(0,re.b$)()||(0,re.UG)()}()&&Zn()&&!zn()}function fr(){return Tn()&&typeof document<"u"}function Rr(){return(Rr=(0,u.Z)(function*(){return!!fr()&&new Promise(U=>{const B=setTimeout(()=>{U(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(B),U(!0)})})})).apply(this,arguments)}const Jn={LOCAL:"local",NONE:"none",SESSION:"session"},ri=O.aA,ms="persistence";function Ft(U){return Wt.apply(this,arguments)}function Wt(){return(Wt=(0,u.Z)(function*(U){yield U._initializationPromise;const B=pr(),F=O.aD(ms,U.config.apiKey,U.name);B&&B.setItem(F,U._getPersistence())})).apply(this,arguments)}function pr(){var U;try{return(null===(U=function qn(){return typeof window<"u"?window:null}())||void 0===U?void 0:U.sessionStorage)||null}catch{return null}}const vr=O.aA;class en{constructor(){this.browserResolver=O.aC(O.k),this.cordovaResolver=O.aC(de),this.underlyingResolver=null,this._redirectPersistence=O.a,this._completeRedirectFn=O.aE,this._overrideRedirectResult=O.aF}_initialize(B){var F=this;return(0,u.Z)(function*(){return yield F.selectUnderlyingResolver(),F.assertedUnderlyingResolver._initialize(B)})()}_openPopup(B,F,se,Ne){var rt=this;return(0,u.Z)(function*(){return yield rt.selectUnderlyingResolver(),rt.assertedUnderlyingResolver._openPopup(B,F,se,Ne)})()}_openRedirect(B,F,se,Ne){var rt=this;return(0,u.Z)(function*(){return yield rt.selectUnderlyingResolver(),rt.assertedUnderlyingResolver._openRedirect(B,F,se,Ne)})()}_isIframeWebStorageSupported(B,F){this.assertedUnderlyingResolver._isIframeWebStorageSupported(B,F)}_originValidation(B){return this.assertedUnderlyingResolver._originValidation(B)}get _shouldInitProactively(){return fr()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return vr(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var B=this;return(0,u.Z)(function*(){if(B.underlyingResolver)return;const F=yield function ki(){return Rr.apply(this,arguments)}();B.underlyingResolver=F?B.cordovaResolver:B.browserResolver})()}}function Hn(U){return U.unwrap()}function _n(U){return sn(U)}function sn(U){const{_tokenResponse:B}=U instanceof re.ZR?U.customData:U;if(!B)return null;if(!(U instanceof re.ZR)&&"temporaryProof"in B&&"phoneNumber"in B)return O.P.credentialFromResult(U);const F=B.providerId;if(!F||F===O.p.PASSWORD)return null;let se;switch(F){case O.p.GOOGLE:se=O.V;break;case O.p.FACEBOOK:se=O.U;break;case O.p.GITHUB:se=O.W;break;case O.p.TWITTER:se=O.Z;break;default:const{oauthIdToken:Ne,oauthAccessToken:rt,oauthTokenSecret:Gt,pendingToken:pt,nonce:In}=B;return rt||Gt||Ne||pt?pt?F.startsWith("saml.")?O.aO._create(F,pt):O.L._fromParams({providerId:F,signInMethod:F,pendingToken:pt,idToken:Ne,accessToken:rt}):new O.X(F).credential({idToken:Ne,accessToken:rt,rawNonce:In}):null}return U instanceof re.ZR?se.credentialFromError(U):se.credentialFromResult(U)}function Gn(U,B){return B.catch(F=>{throw F instanceof re.ZR&&function ii(U,B){var F;const se=null===(F=B.customData)||void 0===F?void 0:F._tokenResponse;if("auth/multi-factor-auth-required"===B?.code)B.resolver=new wr(U,O.aq(U,B));else if(se){const Ne=sn(B),rt=B;Ne&&(rt.credential=Ne,rt.tenantId=se.tenantId||void 0,rt.email=se.email||void 0,rt.phoneNumber=se.phoneNumber||void 0)}}(U,F),F}).then(F=>{const Ne=F.user;return{operationType:F.operationType,credential:_n(F),additionalUserInfo:O.ao(F),user:ar.getOrCreate(Ne)}})}function Qi(U,B){return gs.apply(this,arguments)}function gs(){return(gs=(0,u.Z)(function*(U,B){const F=yield B;return{verificationId:F.verificationId,confirm:se=>Gn(U,F.confirm(se))}})).apply(this,arguments)}class wr{constructor(B,F){this.resolver=F,this.auth=function Ni(U){return U.wrapped()}(B)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(B){return Gn(Hn(this.auth),this.resolver.resolveSignIn(B))}}class ar{constructor(B){this._delegate=B,this.multiFactor=O.ar(B)}static getOrCreate(B){return ar.USER_MAP.has(B)||ar.USER_MAP.set(B,new ar(B)),ar.USER_MAP.get(B)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(B){return this._delegate.getIdTokenResult(B)}getIdToken(B){return this._delegate.getIdToken(B)}linkAndRetrieveDataWithCredential(B){return this.linkWithCredential(B)}linkWithCredential(B){var F=this;return(0,u.Z)(function*(){return Gn(F.auth,O.a0(F._delegate,B))})()}linkWithPhoneNumber(B,F){var se=this;return(0,u.Z)(function*(){return Qi(se.auth,O.l(se._delegate,B,F))})()}linkWithPopup(B){var F=this;return(0,u.Z)(function*(){return Gn(F.auth,O.d(F._delegate,B,en))})()}linkWithRedirect(B){var F=this;return(0,u.Z)(function*(){return yield Ft(O.aH(F.auth)),O.g(F._delegate,B,en)})()}reauthenticateAndRetrieveDataWithCredential(B){return this.reauthenticateWithCredential(B)}reauthenticateWithCredential(B){var F=this;return(0,u.Z)(function*(){return Gn(F.auth,O.a1(F._delegate,B))})()}reauthenticateWithPhoneNumber(B,F){return Qi(this.auth,O.r(this._delegate,B,F))}reauthenticateWithPopup(B){return Gn(this.auth,O.e(this._delegate,B,en))}reauthenticateWithRedirect(B){var F=this;return(0,u.Z)(function*(){return yield Ft(O.aH(F.auth)),O.h(F._delegate,B,en)})()}sendEmailVerification(B){return O.ae(this._delegate,B)}unlink(B){var F=this;return(0,u.Z)(function*(){return yield O.an(F._delegate,B),F})()}updateEmail(B){return O.aj(this._delegate,B)}updatePassword(B){return O.ak(this._delegate,B)}updatePhoneNumber(B){return O.u(this._delegate,B)}updateProfile(B){return O.ai(this._delegate,B)}verifyBeforeUpdateEmail(B,F){return O.af(this._delegate,B,F)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}ar.USER_MAP=new WeakMap;const Ee=O.aA;let Q=(()=>{class U{constructor(F,se){if(this.app=F,se.isInitialized())return this._delegate=se.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Ne}=F.options;Ee(Ne,"invalid-api-key",{appName:F.name}),Ee(Ne,"invalid-api-key",{appName:F.name});const rt=typeof window<"u"?en:void 0;this._delegate=se.initialize({options:{persistence:We(Ne,F.name),popupRedirectResolver:rt}}),this._delegate._updateErrorMap(O.D),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?ar.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(F){this._delegate.languageCode=F}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(F){this._delegate.tenantId=F}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(F,se){O.I(this._delegate,F,se)}applyActionCode(F){return O.a5(this._delegate,F)}checkActionCode(F){return O.a6(this._delegate,F)}confirmPasswordReset(F,se){return O.a4(this._delegate,F,se)}createUserWithEmailAndPassword(F,se){var Ne=this;return(0,u.Z)(function*(){return Gn(Ne._delegate,O.a8(Ne._delegate,F,se))})()}fetchProvidersForEmail(F){return this.fetchSignInMethodsForEmail(F)}fetchSignInMethodsForEmail(F){return O.ad(this._delegate,F)}isSignInWithEmailLink(F){return O.ab(this._delegate,F)}getRedirectResult(){var F=this;return(0,u.Z)(function*(){Ee(En(),F._delegate,"operation-not-supported-in-this-environment");const se=yield O.j(F._delegate,en);return se?Gn(F._delegate,Promise.resolve(se)):{credential:null,user:null}})()}addFrameworkForLogging(F){!function Ie(U,B){(0,O.aH)(U)._logFramework(B)}(this._delegate,F)}onAuthStateChanged(F,se,Ne){const{next:rt,error:Gt,complete:pt}=Ce(F,se,Ne);return this._delegate.onAuthStateChanged(rt,Gt,pt)}onIdTokenChanged(F,se,Ne){const{next:rt,error:Gt,complete:pt}=Ce(F,se,Ne);return this._delegate.onIdTokenChanged(rt,Gt,pt)}sendSignInLinkToEmail(F,se){return O.aa(this._delegate,F,se)}sendPasswordResetEmail(F,se){return O.a3(this._delegate,F,se||void 0)}setPersistence(F){var se=this;return(0,u.Z)(function*(){let Ne;switch(function Nt(U,B){ri(Object.values(Jn).includes(B),U,"invalid-persistence-type"),(0,re.b$)()?ri(B!==Jn.SESSION,U,"unsupported-persistence-type"):(0,re.UG)()?ri(B===Jn.NONE,U,"unsupported-persistence-type"):zn()?ri(B===Jn.NONE||B===Jn.LOCAL&&(0,re.hl)(),U,"unsupported-persistence-type"):ri(B===Jn.NONE||Zn(),U,"unsupported-persistence-type")}(se._delegate,F),F){case Jn.SESSION:Ne=O.a;break;case Jn.LOCAL:Ne=(yield O.aC(O.i)._isAvailable())?O.i:O.b;break;case Jn.NONE:Ne=O.N;break;default:return O.av("argument-error",{appName:se._delegate.name})}return se._delegate.setPersistence(Ne)})()}signInAndRetrieveDataWithCredential(F){return this.signInWithCredential(F)}signInAnonymously(){return Gn(this._delegate,O._(this._delegate))}signInWithCredential(F){return Gn(this._delegate,O.$(this._delegate,F))}signInWithCustomToken(F){return Gn(this._delegate,O.a2(this._delegate,F))}signInWithEmailAndPassword(F,se){return Gn(this._delegate,O.a9(this._delegate,F,se))}signInWithEmailLink(F,se){return Gn(this._delegate,O.ac(this._delegate,F,se))}signInWithPhoneNumber(F,se){return Qi(this._delegate,O.s(this._delegate,F,se))}signInWithPopup(F){var se=this;return(0,u.Z)(function*(){return Ee(En(),se._delegate,"operation-not-supported-in-this-environment"),Gn(se._delegate,O.c(se._delegate,F,en))})()}signInWithRedirect(F){var se=this;return(0,u.Z)(function*(){return Ee(En(),se._delegate,"operation-not-supported-in-this-environment"),yield Ft(se._delegate),O.f(se._delegate,F,en)})()}updateCurrentUser(F){return this._delegate.updateCurrentUser(F)}verifyPasswordResetCode(F){return O.a7(this._delegate,F)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return U.Persistence=Jn,U})();function Ce(U,B,F){let se=U;"function"!=typeof U&&({next:se,error:B,complete:F}=U);const Ne=se;return{next:Gt=>Ne(Gt&&ar.getOrCreate(Gt)),error:B,complete:F}}function We(U,B){const F=function an(U,B){const F=pr();if(!F)return[];const se=O.aD(ms,U,B);switch(F.getItem(se)){case Jn.NONE:return[O.N];case Jn.LOCAL:return[O.i,O.a];case Jn.SESSION:return[O.a];default:return[]}}(U,B);if(typeof self<"u"&&!F.includes(O.i)&&F.push(O.i),typeof window<"u")for(const se of[O.b,O.a])F.includes(se)||F.push(se);return F.includes(O.N)||F.push(O.N),F}class yt{constructor(){this.providerId="phone",this._delegate=new O.P(Hn(H.Z.auth()))}static credential(B,F){return O.P.credential(B,F)}verifyPhoneNumber(B,F){return this._delegate.verifyPhoneNumber(B,F)}unwrap(){return this._delegate}}yt.PHONE_SIGN_IN_METHOD=O.P.PHONE_SIGN_IN_METHOD,yt.PROVIDER_ID=O.P.PROVIDER_ID;const Tt=O.aA;class yn{constructor(B,F,se=H.Z.app()){var Ne;Tt(null===(Ne=se.options)||void 0===Ne?void 0:Ne.apiKey,"invalid-api-key",{appName:se.name}),this._delegate=new O.R(B,F,se.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function G(U){U.INTERNAL.registerComponent(new De.wA("auth-compat",B=>{const F=B.getProvider("app-compat").getImmediate(),se=B.getProvider("auth");return new Q(F,se)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:O.A.EMAIL_SIGNIN,PASSWORD_RESET:O.A.PASSWORD_RESET,RECOVER_EMAIL:O.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:O.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:O.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:O.A.VERIFY_EMAIL}},EmailAuthProvider:O.Q,FacebookAuthProvider:O.U,GithubAuthProvider:O.W,GoogleAuthProvider:O.V,OAuthProvider:O.X,SAMLAuthProvider:O.Y,PhoneAuthProvider:yt,PhoneMultiFactorGenerator:O.m,RecaptchaVerifier:yn,TwitterAuthProvider:O.Z,Auth:Q,AuthCredential:O.J,Error:re.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),U.registerVersion("@firebase/auth-compat","0.4.2")}(H.Z)},4303:(It,Re,V)=>{V.d(Re,{Jn:()=>Zn,KN:()=>qn,Xd:()=>ot,qX:()=>tt});var u=V(5861),H=V(4537),O=V(7879),re=V(9058),le=V(1878);class _e{constructor(Q){this.container=Q}getPlatformInfoString(){return this.container.getProviders().map(Ce=>{if(function De(Ee){const Q=Ee.getComponent();return"VERSION"===Q?.type}(Ce)){const We=Ce.getImmediate();return`${We.library}/${We.version}`}return null}).filter(Ce=>Ce).join(" ")}}const ke="@firebase/app",z=new O.Yd("@firebase/app"),ye={[ke]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Ie=new Map,fe=new Map;function Pe(Ee,Q){try{Ee.container.addComponent(Q)}catch(Ce){z.debug(`Component ${Q.name} failed to register with FirebaseApp ${Ee.name}`,Ce)}}function ot(Ee){const Q=Ee.name;if(fe.has(Q))return z.debug(`There were multiple attempts to register component ${Q}.`),!1;fe.set(Q,Ee);for(const Ce of Ie.values())Pe(Ce,Ee);return!0}function tt(Ee,Q){const Ce=Ee.container.getProvider("heartbeat").getImmediate({optional:!0});return Ce&&Ce.triggerHeartbeat(),Ee.container.getProvider(Q)}const bt=new re.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."}),Zn="10.4.0";function qn(Ee,Q,Ce){var We;let yt=null!==(We=ye[Ee])&&void 0!==We?We:Ee;Ce&&(yt+=`-${Ce}`);const Tt=yt.match(/\s|\//),yn=Q.match(/\s|\//);if(Tt||yn){const q=[`Unable to register library "${yt}" with version "${Q}":`];return Tt&&q.push(`library name "${yt}" contains illegal characters (whitespace or "/")`),Tt&&yn&&q.push("and"),yn&&q.push(`version name "${Q}" contains illegal characters (whitespace or "/")`),void z.warn(q.join(" "))}ot(new H.wA(`${yt}-version`,()=>({library:yt,version:Q}),"VERSION"))}const ms="firebase-heartbeat-database",Nt=1,Ft="firebase-heartbeat-store";let Wt=null;function an(){return Wt||(Wt=(0,le.X3)(ms,Nt,{upgrade:(Ee,Q)=>{0===Q&&Ee.createObjectStore(Ft)}}).catch(Ee=>{throw bt.create("idb-open",{originalErrorMessage:Ee.message})})),Wt}function vr(){return(vr=(0,u.Z)(function*(Ee){try{return yield(yield an()).transaction(Ft).objectStore(Ft).get(Ni(Ee))}catch(Q){if(Q instanceof re.ZR)z.warn(Q.message);else{const Ce=bt.create("idb-get",{originalErrorMessage:Q?.message});z.warn(Ce.message)}}})).apply(this,arguments)}function en(Ee,Q){return Hn.apply(this,arguments)}function Hn(){return(Hn=(0,u.Z)(function*(Ee,Q){try{const We=(yield an()).transaction(Ft,"readwrite");yield We.objectStore(Ft).put(Q,Ni(Ee)),yield We.done}catch(Ce){if(Ce instanceof re.ZR)z.warn(Ce.message);else{const We=bt.create("idb-set",{originalErrorMessage:Ce?.message});z.warn(We.message)}}})).apply(this,arguments)}function Ni(Ee){return`${Ee.name}!${Ee.options.appId}`}class sn{constructor(Q){this.container=Q,this._heartbeatsCache=null;const Ce=this.container.getProvider("app").getImmediate();this._storage=new gs(Ce),this._heartbeatsCachePromise=this._storage.read().then(We=>(this._heartbeatsCache=We,We))}triggerHeartbeat(){var Q=this;return(0,u.Z)(function*(){const We=Q.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),yt=Gn();if(null===Q._heartbeatsCache&&(Q._heartbeatsCache=yield Q._heartbeatsCachePromise),Q._heartbeatsCache.lastSentHeartbeatDate!==yt&&!Q._heartbeatsCache.heartbeats.some(Tt=>Tt.date===yt))return Q._heartbeatsCache.heartbeats.push({date:yt,agent:We}),Q._heartbeatsCache.heartbeats=Q._heartbeatsCache.heartbeats.filter(Tt=>{const yn=new Date(Tt.date).valueOf();return Date.now()-yn<=2592e6}),Q._storage.overwrite(Q._heartbeatsCache)})()}getHeartbeatsHeader(){var Q=this;return(0,u.Z)(function*(){if(null===Q._heartbeatsCache&&(yield Q._heartbeatsCachePromise),null===Q._heartbeatsCache||0===Q._heartbeatsCache.heartbeats.length)return"";const Ce=Gn(),{heartbeatsToSend:We,unsentEntries:yt}=function Qi(Ee,Q=1024){const Ce=[];let We=Ee.slice();for(const yt of Ee){const Tt=Ce.find(yn=>yn.agent===yt.agent);if(Tt){if(Tt.dates.push(yt.date),wr(Ce)>Q){Tt.dates.pop();break}}else if(Ce.push({agent:yt.agent,dates:[yt.date]}),wr(Ce)>Q){Ce.pop();break}We=We.slice(1)}return{heartbeatsToSend:Ce,unsentEntries:We}}(Q._heartbeatsCache.heartbeats),Tt=(0,re.L)(JSON.stringify({version:2,heartbeats:We}));return Q._heartbeatsCache.lastSentHeartbeatDate=Ce,yt.length>0?(Q._heartbeatsCache.heartbeats=yt,yield Q._storage.overwrite(Q._heartbeatsCache)):(Q._heartbeatsCache.heartbeats=[],Q._storage.overwrite(Q._heartbeatsCache)),Tt})()}}function Gn(){return(new Date).toISOString().substring(0,10)}class gs{constructor(Q){this.app=Q,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,u.Z)(function*(){return!!(0,re.hl)()&&(0,re.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Q=this;return(0,u.Z)(function*(){return(yield Q._canUseIndexedDBPromise)&&(yield function pr(Ee){return vr.apply(this,arguments)}(Q.app))||{heartbeats:[]}})()}overwrite(Q){var Ce=this;return(0,u.Z)(function*(){var We;if(yield Ce._canUseIndexedDBPromise){const Tt=yield Ce.read();return en(Ce.app,{lastSentHeartbeatDate:null!==(We=Q.lastSentHeartbeatDate)&&void 0!==We?We:Tt.lastSentHeartbeatDate,heartbeats:Q.heartbeats})}})()}add(Q){var Ce=this;return(0,u.Z)(function*(){var We;if(yield Ce._canUseIndexedDBPromise){const Tt=yield Ce.read();return en(Ce.app,{lastSentHeartbeatDate:null!==(We=Q.lastSentHeartbeatDate)&&void 0!==We?We:Tt.lastSentHeartbeatDate,heartbeats:[...Tt.heartbeats,...Q.heartbeats]})}})()}}function wr(Ee){return(0,re.L)(JSON.stringify({version:2,heartbeats:Ee})).length}!function ar(Ee){ot(new H.wA("platform-logger",Q=>new _e(Q),"PRIVATE")),ot(new H.wA("heartbeat",Q=>new sn(Q),"PRIVATE")),qn(ke,"0.9.19",Ee),qn(ke,"0.9.19","esm2017"),qn("fire-js","")}("")},4537:(It,Re,V)=>{V.d(Re,{H0:()=>ke,wA:()=>O});var u=V(5861),H=V(9058);class O{constructor(z,Y,ae){this.name=z,this.instanceFactory=Y,this.type=ae,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(z){return this.instantiationMode=z,this}setMultipleInstances(z){return this.multipleInstances=z,this}setServiceProps(z){return this.serviceProps=z,this}setInstanceCreatedCallback(z){return this.onInstanceCreated=z,this}}const re="[DEFAULT]";class le{constructor(z,Y){this.name=z,this.container=Y,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(z){const Y=this.normalizeInstanceIdentifier(z);if(!this.instancesDeferred.has(Y)){const ae=new H.BH;if(this.instancesDeferred.set(Y,ae),this.isInitialized(Y)||this.shouldAutoInitialize())try{const Ge=this.getOrInitializeService({instanceIdentifier:Y});Ge&&ae.resolve(Ge)}catch{}}return this.instancesDeferred.get(Y).promise}getImmediate(z){var Y;const ae=this.normalizeInstanceIdentifier(z?.identifier),Ge=null!==(Y=z?.optional)&&void 0!==Y&&Y;if(!this.isInitialized(ae)&&!this.shouldAutoInitialize()){if(Ge)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ae})}catch(Fe){if(Ge)return null;throw Fe}}getComponent(){return this.component}setComponent(z){if(z.name!==this.name)throw Error(`Mismatching Component ${z.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=z,this.shouldAutoInitialize()){if(function De(ve){return"EAGER"===ve.instantiationMode}(z))try{this.getOrInitializeService({instanceIdentifier:re})}catch{}for(const[Y,ae]of this.instancesDeferred.entries()){const Ge=this.normalizeInstanceIdentifier(Y);try{const Fe=this.getOrInitializeService({instanceIdentifier:Ge});ae.resolve(Fe)}catch{}}}}clearInstance(z=re){this.instancesDeferred.delete(z),this.instancesOptions.delete(z),this.instances.delete(z)}delete(){var z=this;return(0,u.Z)(function*(){const Y=Array.from(z.instances.values());yield Promise.all([...Y.filter(ae=>"INTERNAL"in ae).map(ae=>ae.INTERNAL.delete()),...Y.filter(ae=>"_delete"in ae).map(ae=>ae._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(z=re){return this.instances.has(z)}getOptions(z=re){return this.instancesOptions.get(z)||{}}initialize(z={}){const{options:Y={}}=z,ae=this.normalizeInstanceIdentifier(z.instanceIdentifier);if(this.isInitialized(ae))throw Error(`${this.name}(${ae}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ge=this.getOrInitializeService({instanceIdentifier:ae,options:Y});for(const[Fe,it]of this.instancesDeferred.entries())ae===this.normalizeInstanceIdentifier(Fe)&&it.resolve(Ge);return Ge}onInit(z,Y){var ae;const Ge=this.normalizeInstanceIdentifier(Y),Fe=null!==(ae=this.onInitCallbacks.get(Ge))&&void 0!==ae?ae:new Set;Fe.add(z),this.onInitCallbacks.set(Ge,Fe);const it=this.instances.get(Ge);return it&&z(it,Ge),()=>{Fe.delete(z)}}invokeOnInitCallbacks(z,Y){const ae=this.onInitCallbacks.get(Y);if(ae)for(const Ge of ae)try{Ge(z,Y)}catch{}}getOrInitializeService({instanceIdentifier:z,options:Y={}}){let ae=this.instances.get(z);if(!ae&&this.component&&(ae=this.component.instanceFactory(this.container,{instanceIdentifier:(ve=z,ve===re?void 0:ve),options:Y}),this.instances.set(z,ae),this.instancesOptions.set(z,Y),this.invokeOnInitCallbacks(ae,z),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,z,ae)}catch{}var ve;return ae||null}normalizeInstanceIdentifier(z=re){return this.component?this.component.multipleInstances?z:re:z}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ke{constructor(z){this.name=z,this.providers=new Map}addComponent(z){const Y=this.getProvider(z.name);if(Y.isComponentSet())throw new Error(`Component ${z.name} has already been registered with ${this.name}`);Y.setComponent(z)}addOrOverwriteComponent(z){this.getProvider(z.name).isComponentSet()&&this.providers.delete(z.name),this.addComponent(z)}getProvider(z){if(this.providers.has(z))return this.providers.get(z);const Y=new le(z,this);return this.providers.set(z,Y),Y}getProviders(){return Array.from(this.providers.values())}}},7879:(It,Re,V)=>{V.d(Re,{Am:()=>ve,Ub:()=>ke,Yd:()=>De,in:()=>H});const u=[];var H=function(z){return z[z.DEBUG=0]="DEBUG",z[z.VERBOSE=1]="VERBOSE",z[z.INFO=2]="INFO",z[z.WARN=3]="WARN",z[z.ERROR=4]="ERROR",z[z.SILENT=5]="SILENT",z}(H||{});const O={debug:H.DEBUG,verbose:H.VERBOSE,info:H.INFO,warn:H.WARN,error:H.ERROR,silent:H.SILENT},re=H.INFO,le={[H.DEBUG]:"log",[H.VERBOSE]:"log",[H.INFO]:"info",[H.WARN]:"warn",[H.ERROR]:"error"},_e=(z,Y,...ae)=>{if(Y<z.logLevel)return;const Ge=(new Date).toISOString(),Fe=le[Y];if(!Fe)throw new Error(`Attempted to log a message with an invalid logType (value: ${Y})`);console[Fe](`[${Ge}]  ${z.name}:`,...ae)};class De{constructor(Y){this.name=Y,this._logLevel=re,this._logHandler=_e,this._userLogHandler=null,u.push(this)}get logLevel(){return this._logLevel}set logLevel(Y){if(!(Y in H))throw new TypeError(`Invalid value "${Y}" assigned to \`logLevel\``);this._logLevel=Y}setLogLevel(Y){this._logLevel="string"==typeof Y?O[Y]:Y}get logHandler(){return this._logHandler}set logHandler(Y){if("function"!=typeof Y)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=Y}get userLogHandler(){return this._userLogHandler}set userLogHandler(Y){this._userLogHandler=Y}debug(...Y){this._userLogHandler&&this._userLogHandler(this,H.DEBUG,...Y),this._logHandler(this,H.DEBUG,...Y)}log(...Y){this._userLogHandler&&this._userLogHandler(this,H.VERBOSE,...Y),this._logHandler(this,H.VERBOSE,...Y)}info(...Y){this._userLogHandler&&this._userLogHandler(this,H.INFO,...Y),this._logHandler(this,H.INFO,...Y)}warn(...Y){this._userLogHandler&&this._userLogHandler(this,H.WARN,...Y),this._logHandler(this,H.WARN,...Y)}error(...Y){this._userLogHandler&&this._userLogHandler(this,H.ERROR,...Y),this._logHandler(this,H.ERROR,...Y)}}function ke(z){u.forEach(Y=>{Y.setLogLevel(z)})}function ve(z,Y){for(const ae of u){let Ge=null;Y&&Y.level&&(Ge=O[Y.level]),ae.userLogHandler=null===z?null:(Fe,it,...Ue)=>{const at=Ue.map(Le=>{if(null==Le)return null;if("string"==typeof Le)return Le;if("number"==typeof Le||"boolean"==typeof Le)return Le.toString();if(Le instanceof Error)return Le.message;try{return JSON.stringify(Le)}catch{return null}}).filter(Le=>Le).join(" ");it>=(Ge??Fe.logLevel)&&z({level:H[it].toLowerCase(),message:at,args:Ue,type:Fe.name})}}}},1878:(It,Re,V)=>{V.d(Re,{X3:()=>wt});var u=V(5861);const H=(W,Oe)=>Oe.some(et=>W instanceof et);let O,re;const De=new WeakMap,ke=new WeakMap,ve=new WeakMap,z=new WeakMap,Y=new WeakMap;let Fe={get(W,Oe,et){if(W instanceof IDBTransaction){if("done"===Oe)return ke.get(W);if("objectStoreNames"===Oe)return W.objectStoreNames||ve.get(W);if("store"===Oe)return et.objectStoreNames[1]?void 0:et.objectStore(et.objectStoreNames[0])}return Le(W[Oe])},set:(W,Oe,et)=>(W[Oe]=et,!0),has:(W,Oe)=>W instanceof IDBTransaction&&("done"===Oe||"store"===Oe)||Oe in W};function at(W){return"function"==typeof W?function Ue(W){return W!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function _e(){return re||(re=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(W)?function(...Oe){return W.apply(Dt(this),Oe),Le(De.get(this))}:function(...Oe){return Le(W.apply(Dt(this),Oe))}:function(Oe,...et){const Rt=W.call(Dt(this),Oe,...et);return ve.set(Rt,Oe.sort?Oe.sort():[Oe]),Le(Rt)}}(W):(W instanceof IDBTransaction&&function Ge(W){if(ke.has(W))return;const Oe=new Promise((et,Rt)=>{const gn=()=>{W.removeEventListener("complete",Fn),W.removeEventListener("error",Ln),W.removeEventListener("abort",Ln)},Fn=()=>{et(),gn()},Ln=()=>{Rt(W.error||new DOMException("AbortError","AbortError")),gn()};W.addEventListener("complete",Fn),W.addEventListener("error",Ln),W.addEventListener("abort",Ln)});ke.set(W,Oe)}(W),H(W,function le(){return O||(O=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(W,Fe):W)}function Le(W){if(W instanceof IDBRequest)return function ae(W){const Oe=new Promise((et,Rt)=>{const gn=()=>{W.removeEventListener("success",Fn),W.removeEventListener("error",Ln)},Fn=()=>{et(Le(W.result)),gn()},Ln=()=>{Rt(W.error),gn()};W.addEventListener("success",Fn),W.addEventListener("error",Ln)});return Oe.then(et=>{et instanceof IDBCursor&&De.set(et,W)}).catch(()=>{}),Y.set(Oe,W),Oe}(W);if(z.has(W))return z.get(W);const Oe=at(W);return Oe!==W&&(z.set(W,Oe),Y.set(Oe,W)),Oe}const Dt=W=>Y.get(W);function wt(W,Oe,{blocked:et,upgrade:Rt,blocking:gn,terminated:Fn}={}){const Ln=indexedDB.open(W,Oe),Vn=Le(Ln);return Rt&&Ln.addEventListener("upgradeneeded",Mn=>{Rt(Le(Ln.result),Mn.oldVersion,Mn.newVersion,Le(Ln.transaction),Mn)}),et&&Ln.addEventListener("blocked",Mn=>et(Mn.oldVersion,Mn.newVersion,Mn)),Vn.then(Mn=>{Fn&&Mn.addEventListener("close",()=>Fn()),gn&&Mn.addEventListener("versionchange",Hr=>gn(Hr.oldVersion,Hr.newVersion,Hr))}).catch(()=>{}),Vn}const Me=["get","getKey","getAll","getAllKeys","count"],pe=["put","add","delete","clear"],Ae=new Map;function He(W,Oe){if(!(W instanceof IDBDatabase)||Oe in W||"string"!=typeof Oe)return;if(Ae.get(Oe))return Ae.get(Oe);const et=Oe.replace(/FromIndex$/,""),Rt=Oe!==et,gn=pe.includes(et);if(!(et in(Rt?IDBIndex:IDBObjectStore).prototype)||!gn&&!Me.includes(et))return;const Fn=function(){var Ln=(0,u.Z)(function*(Vn,...Mn){const Hr=this.transaction(Vn,gn?"readwrite":"readonly");let de=Hr.store;return Rt&&(de=de.index(Mn.shift())),(yield Promise.all([de[et](...Mn),gn&&Hr.done]))[0]});return function(Mn){return Ln.apply(this,arguments)}}();return Ae.set(Oe,Fn),Fn}!function it(W){Fe=W(Fe)}(W=>({...W,get:(Oe,et,Rt)=>He(Oe,et)||W.get(Oe,et,Rt),has:(Oe,et)=>!!He(Oe,et)||W.has(Oe,et)}))},5861:(It,Re,V)=>{function u(O,re,le,_e,De,ke,ve){try{var z=O[ke](ve),Y=z.value}catch(ae){return void le(ae)}z.done?re(Y):Promise.resolve(Y).then(_e,De)}function H(O){return function(){var re=this,le=arguments;return new Promise(function(_e,De){var ke=O.apply(re,le);function ve(Y){u(ke,_e,De,ve,z,"next",Y)}function z(Y){u(ke,_e,De,ve,z,"throw",Y)}ve(void 0)})}}V.d(Re,{Z:()=>H})},7582:(It,Re,V)=>{function re(de,ye){var Ie={};for(var fe in de)Object.prototype.hasOwnProperty.call(de,fe)&&ye.indexOf(fe)<0&&(Ie[fe]=de[fe]);if(null!=de&&"function"==typeof Object.getOwnPropertySymbols){var Pe=0;for(fe=Object.getOwnPropertySymbols(de);Pe<fe.length;Pe++)ye.indexOf(fe[Pe])<0&&Object.prototype.propertyIsEnumerable.call(de,fe[Pe])&&(Ie[fe[Pe]]=de[fe[Pe]])}return Ie}function ae(de,ye,Ie,fe){return new(Ie||(Ie=Promise))(function(Xe,ot){function tt(un){try{$t(fe.next(un))}catch(bt){ot(bt)}}function Tn(un){try{$t(fe.throw(un))}catch(bt){ot(bt)}}function $t(un){un.done?Xe(un.value):function Pe(Xe){return Xe instanceof Ie?Xe:new Ie(function(ot){ot(Xe)})}(un.value).then(tt,Tn)}$t((fe=fe.apply(de,ye||[])).next())})}function ce(de){return this instanceof ce?(this.v=de,this):new ce(de)}function Me(de,ye,Ie){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Pe,fe=Ie.apply(de,ye||[]),Xe=[];return Pe={},ot("next"),ot("throw"),ot("return"),Pe[Symbol.asyncIterator]=function(){return this},Pe;function ot(wn){fe[wn]&&(Pe[wn]=function(Zn){return new Promise(function(zn,En){Xe.push([wn,Zn,zn,En])>1||tt(wn,Zn)})})}function tt(wn,Zn){try{!function Tn(wn){wn.value instanceof ce?Promise.resolve(wn.value.v).then($t,un):bt(Xe[0][2],wn)}(fe[wn](Zn))}catch(zn){bt(Xe[0][3],zn)}}function $t(wn){tt("next",wn)}function un(wn){tt("throw",wn)}function bt(wn,Zn){wn(Zn),Xe.shift(),Xe.length&&tt(Xe[0][0],Xe[0][1])}}function Ae(de){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ie,ye=de[Symbol.asyncIterator];return ye?ye.call(de):(de=function Ue(de){var ye="function"==typeof Symbol&&Symbol.iterator,Ie=ye&&de[ye],fe=0;if(Ie)return Ie.call(de);if(de&&"number"==typeof de.length)return{next:function(){return de&&fe>=de.length&&(de=void 0),{value:de&&de[fe++],done:!de}}};throw new TypeError(ye?"Object is not iterable.":"Symbol.iterator is not defined.")}(de),Ie={},fe("next"),fe("throw"),fe("return"),Ie[Symbol.asyncIterator]=function(){return this},Ie);function fe(Xe){Ie[Xe]=de[Xe]&&function(ot){return new Promise(function(tt,Tn){!function Pe(Xe,ot,tt,Tn){Promise.resolve(Tn).then(function($t){Xe({value:$t,done:tt})},ot)}(tt,Tn,(ot=de[Xe](ot)).done,ot.value)})}}}V.d(Re,{FC:()=>Me,KL:()=>Ae,_T:()=>re,mG:()=>ae,qq:()=>ce}),"function"==typeof SuppressedError&&SuppressedError}},It=>{It(It.s=1096)}]);